(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Cesium~7c77257b"],{"0249":function(e,t,i){"use strict";var a=i("670c"),r=i("43ee"),n=new a["a"];function o(e,t){var i=e.unionClippingRegions,a=e.length,o=r["a"].useFloatTexture(t),u=r["a"].getTextureResolution(e,t,n),m=u.x,f=u.y,d=o?l(m,f):h(m,f);return d+="\n",d+=i?s(a):c(a),d}function s(e){var t="float clip(vec4 fragCoord, sampler2D clippingPlanes, mat4 clippingPlanesMatrix)\n{\n    vec4 position = czm_windowToEyeCoordinates(fragCoord);\n    vec3 clipNormal = vec3(0.0);\n    vec3 clipPosition = vec3(0.0);\n    float clipAmount;\n    float pixelWidth = czm_metersPerPixel(position);\n    bool breakAndDiscard = false;\n    for (int i = 0; i < "+e+"; ++i)\n    {\n        vec4 clippingPlane = getClippingPlane(clippingPlanes, i, clippingPlanesMatrix);\n        clipNormal = clippingPlane.xyz;\n        clipPosition = -clippingPlane.w * clipNormal;\n        float amount = dot(clipNormal, (position.xyz - clipPosition)) / pixelWidth;\n        clipAmount = czm_branchFreeTernary(i == 0, amount, min(amount, clipAmount));\n        if (amount <= 0.0)\n        {\n           breakAndDiscard = true;\n           break;\n        }\n    }\n    if (breakAndDiscard) {\n        discard;\n    }\n    return clipAmount;\n}\n";return t}function c(e){var t="float clip(vec4 fragCoord, sampler2D clippingPlanes, mat4 clippingPlanesMatrix)\n{\n    bool clipped = true;\n    vec4 position = czm_windowToEyeCoordinates(fragCoord);\n    vec3 clipNormal = vec3(0.0);\n    vec3 clipPosition = vec3(0.0);\n    float clipAmount = 0.0;\n    float pixelWidth = czm_metersPerPixel(position);\n    for (int i = 0; i < "+e+"; ++i)\n    {\n        vec4 clippingPlane = getClippingPlane(clippingPlanes, i, clippingPlanesMatrix);\n        clipNormal = clippingPlane.xyz;\n        clipPosition = -clippingPlane.w * clipNormal;\n        float amount = dot(clipNormal, (position.xyz - clipPosition)) / pixelWidth;\n        clipAmount = max(amount, clipAmount);\n        clipped = clipped && (amount <= 0.0);\n    }\n    if (clipped)\n    {\n        discard;\n    }\n    return clipAmount;\n}\n";return t}function l(e,t){var i=1/e,a=1/t,r=i+"";-1===r.indexOf(".")&&(r+=".0");var n=a+"";-1===n.indexOf(".")&&(n+=".0");var o="vec4 getClippingPlane(highp sampler2D packedClippingPlanes, int clippingPlaneNumber, mat4 transform)\n{\n    int pixY = clippingPlaneNumber / "+e+";\n    int pixX = clippingPlaneNumber - (pixY * "+e+");\n    float u = (float(pixX) + 0.5) * "+r+";\n    float v = (float(pixY) + 0.5) * "+n+";\n    vec4 plane = texture2D(packedClippingPlanes, vec2(u, v));\n    return czm_transformPlane(plane, transform);\n}\n";return o}function h(e,t){var i=1/e,a=1/t,r=i+"";-1===r.indexOf(".")&&(r+=".0");var n=a+"";-1===n.indexOf(".")&&(n+=".0");var o="vec4 getClippingPlane(highp sampler2D packedClippingPlanes, int clippingPlaneNumber, mat4 transform)\n{\n    int clippingPlaneStartIndex = clippingPlaneNumber * 2;\n    int pixY = clippingPlaneStartIndex / "+e+";\n    int pixX = clippingPlaneStartIndex - (pixY * "+e+");\n    float u = (float(pixX) + 0.5) * "+r+";\n    float v = (float(pixY) + 0.5) * "+n+";\n    vec4 oct32 = texture2D(packedClippingPlanes, vec2(u, v)) * 255.0;\n    vec2 oct = vec2(oct32.x * 256.0 + oct32.y, oct32.z * 256.0 + oct32.w);\n    vec4 plane;\n    plane.xyz = czm_octDecode(oct, 65535.0);\n    plane.w = czm_unpackFloat(texture2D(packedClippingPlanes, vec2(u + "+r+", v)));\n    return czm_transformPlane(plane, transform);\n}\n";return o}t["a"]=o},"490d":function(e,t,i){"use strict";var a=i("bd8d"),r=i("2bb9"),n=i("535a"),o=i("2f63"),s=i("b195"),c=i("49c4"),l=i("73cd");function h(e){e=Object(r["a"])(e,{url:s["a"].fromAssetId(96188)});var t=new c["a"](e),i=e.style;if(!Object(o["a"])(i)){var h=Object(n["a"])(e.defaultColor,a["a"].WHITE).toCssColorString();i=new l["a"]({color:"Boolean(${feature['cesium#color']}) ? color(${feature['cesium#color']}) : "+h})}return t.style=i,t}t["a"]=h},"5ceb":function(e,t,i){"use strict";var a=i("2f63"),r=i("eace"),n=i("19ad"),o=i("a58e"),s=i("a307");function c(e,t){var i,n=t.terrainProvider,l=t.mapProjection,h=l.ellipsoid,u=t.camera.getRectangleCameraCoordinates(e);return i=t.mode===s["a"].SCENE3D?h.cartesianToCartographic(u):l.unproject(u),Object(a["a"])(n)?n.readyPromise.then((function(){var o=n.availability;if(!Object(a["a"])(o)||t.mode===s["a"].SCENE2D)return i;var l=[r["a"].center(e),r["a"].southeast(e),r["a"].southwest(e),r["a"].northeast(e),r["a"].northwest(e)];return c._sampleTerrainMostDetailed(n,l).then((function(e){var t=e.reduce((function(e,t){return Math.max(t.height,e)}),-Number.MAX_VALUE),a=i;return a.height+=t,a}))})):o["a"].resolve(i)}c._sampleTerrainMostDetailed=n["a"],t["a"]=c},"5e87":function(e,t,i){"use strict";var a=i("535a"),r=i("4ad5"),n=i("af1e");function o(e){e=Object(a["a"])(e,a["a"].EMPTY_OBJECT);var t=Object(a["a"])(e.style,n["a"].AERIAL);return new r["a"]({assetId:t})}t["a"]=o},"651c":function(e,t,i){"use strict";var a=i("77af"),r=i("bd8d"),n=i("2f63"),o=i("7d62"),s=i("d289"),c=i("6dc0"),l=i("5770"),h=i("4bec"),u=i("b7c8"),m=i("aea3");function f(e,t){this.show=!0,Object(n["a"])(e)||(e=new a["a"]),this.rectangle=a["a"].clone(e),Object(n["a"])(t)||(t=m["a"].fromType(m["a"].ColorType,{color:new r["a"](1,1,1,1)})),this.material=t,this._material=void 0,this._overlayCommand=void 0,this._rs=void 0}f.prototype.update=function(e){if(this.show){var t=this._rs;Object(n["a"])(t)&&a["a"].equals(t.viewport,this.rectangle)||(this._rs=c["a"].fromCache({blending:u["a"].ALPHA_BLEND,viewport:this.rectangle}));var i=e.passes;if(i.render){var r=e.context;if(this._material!==this.material||!Object(n["a"])(this._overlayCommand)){this._material=this.material,Object(n["a"])(this._overlayCommand)&&this._overlayCommand.shaderProgram.destroy();var o=new l["a"]({sources:[this._material.shaderSource,h["a"]]});this._overlayCommand=r.createViewportQuadCommand(o,{renderState:this._rs,uniformMap:this._material._uniforms,owner:this}),this._overlayCommand.pass=s["a"].OVERLAY}this._material.update(r),this._overlayCommand.uniformMap=this._material._uniforms,e.commandList.push(this._overlayCommand)}}},f.prototype.isDestroyed=function(){return!1},f.prototype.destroy=function(){return Object(n["a"])(this._overlayCommand)&&(this._overlayCommand.shaderProgram=this._overlayCommand.shaderProgram&&this._overlayCommand.shaderProgram.destroy()),Object(o["a"])(this)},t["a"]=f},add9:function(e,t,i){"use strict";function a(e,t,i,a,r){return function(){var n=document.createElement("canvas"),o=r+2*a;n.height=n.width=o;var s=n.getContext("2d");return s.clearRect(0,0,o,o),0!==a&&(s.beginPath(),s.arc(o/2,o/2,o/2,0,2*Math.PI,!0),s.closePath(),s.fillStyle=i,s.fill(),e<1&&(s.save(),s.globalCompositeOperation="destination-out",s.beginPath(),s.arc(o/2,o/2,r/2,0,2*Math.PI,!0),s.closePath(),s.fillStyle="black",s.fill(),s.restore())),s.beginPath(),s.arc(o/2,o/2,r/2,0,2*Math.PI,!0),s.closePath(),s.fillStyle=t,s.fill(),n}}t["a"]=a},c13c:function(e,t,i){"use strict";var a=i("670c"),r=i("be18"),n=i("a561"),o=i("abab"),s=i("9e11"),c=i("df07"),l=i("52f0"),h={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},u={SCALAR:void 0,VEC2:a["a"],VEC3:r["a"],VEC4:n["a"],MAT2:s["a"],MAT3:c["a"],MAT4:l["a"]};function m(e){var t,i=e.componentType;t="string"===typeof i?o["a"].fromName(i):i;var a=h[e.type],r=u[e.type];return{componentsPerAttribute:a,classType:r,createArrayBufferView:function(e,i,r){return o["a"].createArrayBufferView(t,e,i,a*r)}}}t["a"]=m},cbf2:function(e,t,i){"use strict";var a=i("9541"),r=i("535a"),n=i("2f63"),o=i("d9403"),s=i("c1e2"),c=i("52f0"),l=i("3a8e"),h=i("894b");function u(e){e=Object(r["a"])(e,r["a"].EMPTY_OBJECT);var t=[],i=e.geometry;Object(n["a"])(i.attributes)&&Object(n["a"])(i.primitiveType)||(i=i.constructor.createGeometry(i));var u=i.attributes,m=c["a"].clone(Object(r["a"])(e.modelMatrix,c["a"].IDENTITY)),f=Object(r["a"])(e.length,1e4);if(Object(n["a"])(u.normal)&&t.push(new o["a"]({geometry:s["a"].createLineSegmentsForVectors(i,"normal",f),attributes:{color:new a["a"](1,0,0,1)},modelMatrix:m})),Object(n["a"])(u.tangent)&&t.push(new o["a"]({geometry:s["a"].createLineSegmentsForVectors(i,"tangent",f),attributes:{color:new a["a"](0,1,0,1)},modelMatrix:m})),Object(n["a"])(u.bitangent)&&t.push(new o["a"]({geometry:s["a"].createLineSegmentsForVectors(i,"bitangent",f),attributes:{color:new a["a"](0,0,1,1)},modelMatrix:m})),t.length>0)return new h["a"]({asynchronous:!1,geometryInstances:t,appearance:new l["a"]({flat:!0,translucent:!1})})}t["a"]=u},d663:function(e,t,i){"use strict";function a(e,t,i){var a="    float clipDistance = clip(gl_FragCoord, "+e+", "+t+"); \n    vec4 clippingPlanesEdgeColor = vec4(1.0); \n    clippingPlanesEdgeColor.rgb = "+i+".rgb; \n    float clippingPlanesEdgeWidth = "+i+".a; \n    if (clipDistance > 0.0 && clipDistance < clippingPlanesEdgeWidth) \n    { \n        gl_FragColor = clippingPlanesEdgeColor;\n    } \n";return a}t["a"]=a},dda8:function(e,t,i){"use strict";var a=i("535a"),r=i("2f63"),n=i("4f04"),o=i("5d5c"),s=i("d4ed"),c=i("1184"),l=i("8a5f"),h=i("7596"),u=i("e288");function m(e){if(e=Object(a["a"])(e,a["a"].EMPTY_OBJECT),Object(r["a"])(e.times)&&!Object(r["a"])(e.clock))throw new n["a"]("options.times was specified, so options.clock is required.");this.defaultAlpha=void 0,this.defaultNightAlpha=void 0,this.defaultDayAlpha=void 0,this.defaultBrightness=void 0,this.defaultContrast=void 0,this.defaultHue=void 0,this.defaultSaturation=void 0,this.defaultGamma=void 0,this.defaultMinificationFilter=void 0,this.defaultMagnificationFilter=void 0;var t=s["a"].createIfNeeded(e.url),i=t.clone();t.setQueryParameters(m.DefaultParameters,!0),i.setQueryParameters(m.GetFeatureInfoDefaultParameters,!0),Object(r["a"])(e.parameters)&&t.setQueryParameters(p(e.parameters)),Object(r["a"])(e.getFeatureInfoParameters)&&i.setQueryParameters(p(e.getFeatureInfoParameters));var l=this;this._reload=void 0,Object(r["a"])(e.times)&&(this._timeDynamicImagery=new h["a"]({clock:e.clock,times:e.times,requestImageFunction:function(e,t,i,a,r){return f(l,e,t,i,a,r)},reloadFunction:function(){Object(r["a"])(l._reload)&&l._reload()}}));var d={};d.layers=e.layers,d.bbox="{westProjected},{southProjected},{eastProjected},{northProjected}",d.width="{width}",d.height="{height}",parseFloat(t.queryParameters.version)>=1.3?d.crs=Object(a["a"])(e.crs,e.tilingScheme&&e.tilingScheme.projection instanceof c["a"]?"EPSG:3857":"CRS:84"):d.srs=Object(a["a"])(e.srs,e.tilingScheme&&e.tilingScheme.projection instanceof c["a"]?"EPSG:3857":"EPSG:4326"),t.setQueryParameters(d,!0),i.setQueryParameters(d,!0);var g={query_layers:e.layers,info_format:"{format}"};parseFloat(i.queryParameters.version)>=1.3?(g.i="{i}",g.j="{j}"):(g.x="{i}",g.y="{j}"),i.setQueryParameters(g,!0),this._resource=t,this._pickFeaturesResource=i,this._layers=e.layers,this._tileProvider=new u["a"]({url:t,pickFeaturesUrl:i,tilingScheme:Object(a["a"])(e.tilingScheme,new o["a"]({ellipsoid:e.ellipsoid})),rectangle:e.rectangle,tileWidth:e.tileWidth,tileHeight:e.tileHeight,minimumLevel:e.minimumLevel,maximumLevel:e.maximumLevel,subdomains:e.subdomains,tileDiscardPolicy:e.tileDiscardPolicy,credit:e.credit,getFeatureInfoFormats:Object(a["a"])(e.getFeatureInfoFormats,m.DefaultGetFeatureInfoFormats),enablePickFeatures:e.enablePickFeatures})}function f(e,t,i,a,n,o){var s=Object(r["a"])(o)?o.data:void 0,c=e._tileProvider;return Object(r["a"])(s)&&c._resource.setQueryParameters(s),c.requestImage(t,i,a,n)}function d(e,t,i,a,n,o,s){var c=Object(r["a"])(s)?s.data:void 0,l=e._tileProvider;return Object(r["a"])(c)&&l._pickFeaturesResource.setQueryParameters(c),l.pickFeatures(t,i,a,n,o)}function p(e){var t={};for(var i in e)e.hasOwnProperty(i)&&(t[i.toLowerCase()]=e[i]);return t}Object.defineProperties(m.prototype,{url:{get:function(){return this._resource._url}},proxy:{get:function(){return this._resource.proxy}},layers:{get:function(){return this._layers}},tileWidth:{get:function(){return this._tileProvider.tileWidth}},tileHeight:{get:function(){return this._tileProvider.tileHeight}},maximumLevel:{get:function(){return this._tileProvider.maximumLevel}},minimumLevel:{get:function(){return this._tileProvider.minimumLevel}},tilingScheme:{get:function(){return this._tileProvider.tilingScheme}},rectangle:{get:function(){return this._tileProvider.rectangle}},tileDiscardPolicy:{get:function(){return this._tileProvider.tileDiscardPolicy}},errorEvent:{get:function(){return this._tileProvider.errorEvent}},ready:{get:function(){return this._tileProvider.ready}},readyPromise:{get:function(){return this._tileProvider.readyPromise}},credit:{get:function(){return this._tileProvider.credit}},hasAlphaChannel:{get:function(){return this._tileProvider.hasAlphaChannel}},enablePickFeatures:{get:function(){return this._tileProvider.enablePickFeatures},set:function(e){this._tileProvider.enablePickFeatures=e}},clock:{get:function(){return this._timeDynamicImagery.clock},set:function(e){this._timeDynamicImagery.clock=e}},times:{get:function(){return this._timeDynamicImagery.times},set:function(e){this._timeDynamicImagery.times=e}}}),m.prototype.getTileCredits=function(e,t,i){return this._tileProvider.getTileCredits(e,t,i)},m.prototype.requestImage=function(e,t,i,a){var n,o,s=this._timeDynamicImagery;return Object(r["a"])(s)&&(o=s.currentInterval,n=s.getFromCache(e,t,i,a)),Object(r["a"])(n)||(n=f(this,e,t,i,a,o)),Object(r["a"])(n)&&Object(r["a"])(s)&&s.checkApproachingInterval(e,t,i,a),n},m.prototype.pickFeatures=function(e,t,i,a,n){var o=this._timeDynamicImagery,s=Object(r["a"])(o)?o.currentInterval:void 0;return d(this,e,t,i,a,n,s)},m.DefaultParameters=Object.freeze({service:"WMS",version:"1.1.1",request:"GetMap",styles:"",format:"image/jpeg"}),m.GetFeatureInfoDefaultParameters=Object.freeze({service:"WMS",version:"1.1.1",request:"GetFeatureInfo"}),m.DefaultGetFeatureInfoFormats=Object.freeze([Object.freeze(new l["a"]("json","application/json")),Object.freeze(new l["a"]("xml","text/xml")),Object.freeze(new l["a"]("text","text/html"))]),t["a"]=m},dfb8:function(e,t,i){"use strict";var a=i("a561"),r=i("93da"),n=i("bd8d"),o=i("535a"),s=i("2f63"),c=i("4b0f"),l=i("e42d"),h=i("6ef5"),u=i("6c84"),m=i("a913"),f=i("3022"),d=i("03f1"),p=i("23b6"),g=i("aea3"),v=new n["a"],b=new n["a"],_=new n["a"],y=new n["a"],P=new a["a"],O=new Uint8Array(4);function j(e,t,i,a){var r=t.height===i.height?0:(e-t.height)/(i.height-t.height);return n["a"].lerp(t.color,i.color,r,a)}function x(e,t){return{height:e,color:n["a"].clone(t)}}function w(e){return e=e.filter((function(e,t,i){var a=t>0,r=t<i.length-1,n=!a||e.height===i[t-1].height,o=!r||e.height===i[t+1].height,s=!n||!o;return s})),e=e.filter((function(e,t,i){var a=t>0,r=t<i.length-1,o=!!a&&n["a"].equals(e.color,i[t-1].color),s=!!r&&n["a"].equals(e.color,i[t+1].color),c=!o||!s;return c})),e=e.filter((function(e,t,i){var a=t>0,r=!!a&&n["a"].equals(e.color,i[t-1].color),o=!a||e.height===i[t-1].height,s=!r||!o;return s})),e}function C(e){var t,i,a=[],s=e.length;for(t=0;t<s;t++){var l=e[t],h=l.entries,u=h.length,m=[];for(i=0;i<u;i++){var f=h[i],d=r["a"].clamp(f.height,F._minimumHeight,F._maximumHeight),p=n["a"].clone(f.color,v);p.red*=p.alpha,p.green*=p.alpha,p.blue*=p.alpha,m.push(x(d,p))}var g=!0,b=!0;for(i=0;i<u-1;i++){var _=m[i+0],y=m[i+1];g=g&&_.height<=y.height,b=b&&_.height>=y.height}b?m=m.reverse():g||Object(c["a"])(m,(function(e,t){return r["a"].sign(e.height-t.height)}));var P=Object(o["a"])(l.extendDownwards,!1),O=Object(o["a"])(l.extendUpwards,!1);1!==m.length||P||O||(P=!0,O=!0),P&&m.splice(0,0,x(F._minimumHeight,m[0].color)),O&&m.splice(m.length,0,x(F._maximumHeight,m[m.length-1].color)),m=w(m),a.push(m)}return a}function M(e){var t,i=C(e),a=[],r=[];function o(e,t){a.push(x(e,t))}function c(e,t,i){var a=n["a"].multiplyByScalar(i,1-t.alpha,y);a=n["a"].add(a,t,a),o(e,a)}var l=i.length;for(t=0;t<l;t++){var h=i[t],u=0,m=0;r=a,a=[];var f=h.length,d=r.length;while(u<f||m<d){var p=u<f?h[u]:void 0,g=u>0?h[u-1]:void 0,v=u<f-1?h[u+1]:void 0,P=m<d?r[m]:void 0,O=m>0?r[m-1]:void 0,M=m<d-1?r[m+1]:void 0;if(Object(s["a"])(p)&&Object(s["a"])(P)&&p.height===P.height){var E=Object(s["a"])(M)&&P.height===M.height,S=!Object(s["a"])(O),D=!Object(s["a"])(M),T=Object(s["a"])(v)&&p.height===v.height,A=!Object(s["a"])(g),I=!Object(s["a"])(v);E?T?(c(p.height,p.color,P.color),c(p.height,v.color,M.color)):A?(o(p.height,P.color),c(p.height,p.color,M.color)):I?(c(p.height,p.color,P.color),o(p.height,M.color)):(c(p.height,p.color,P.color),c(p.height,p.color,M.color)):S?T?(o(p.height,p.color),c(p.height,v.color,P.color)):I?(o(p.height,p.color),o(p.height,P.color)):(A||o(p.height,p.color),c(p.height,p.color,P.color)):D?T?(c(p.height,p.color,P.color),o(p.height,v.color)):A?(o(p.height,P.color),o(p.height,p.color)):I?c(p.height,p.color,P.color):(c(p.height,p.color,P.color),o(p.height,p.color)):T?(c(p.height,p.color,P.color),c(p.height,v.color,P.color)):A?(o(p.height,P.color),c(p.height,p.color,P.color)):I?(c(p.height,p.color,P.color),o(p.height,P.color)):c(p.height,p.color,P.color),u+=T?2:1,m+=E?2:1}else if(Object(s["a"])(p)&&Object(s["a"])(P)&&Object(s["a"])(O)&&p.height<P.height){var L=j(p.height,O,P,_);Object(s["a"])(g)?Object(s["a"])(v)?c(p.height,p.color,L):(c(p.height,p.color,L),o(p.height,L)):(o(p.height,L),c(p.height,p.color,L)),u++}else if(Object(s["a"])(P)&&Object(s["a"])(p)&&Object(s["a"])(g)&&P.height<p.height){var k=j(P.height,g,p,b);Object(s["a"])(O)?Object(s["a"])(M)?c(P.height,k,P.color):(c(P.height,k,P.color),o(P.height,k)):(o(P.height,k),c(P.height,k,P.color)),m++}else Object(s["a"])(p)&&(!Object(s["a"])(P)||p.height<P.height)?(!Object(s["a"])(P)||Object(s["a"])(O)||Object(s["a"])(v)?(Object(s["a"])(P)||!Object(s["a"])(O)||Object(s["a"])(g)||(o(O.height,F._emptyColor),o(p.height,F._emptyColor)),o(p.height,p.color)):(o(p.height,p.color),o(p.height,F._emptyColor),o(P.height,F._emptyColor)),u++):Object(s["a"])(P)&&(!Object(s["a"])(p)||P.height<p.height)&&(o(P.height,P.color),m++)}}var N=w(a);return N}function F(e){e=Object(o["a"])(e,o["a"].EMPTY_OBJECT);var t,i,r,n,s=e.scene,c=e.layers,v=M(c),b=v.length,_=!F._useFloatTexture(s.context);if(_)for(r=h["a"].UNSIGNED_BYTE,n=l["a"].RGBA,i=new Uint8Array(4*b),t=0;t<b;t++)a["a"].packFloat(v[t].height,P),a["a"].pack(P,i,4*t);else for(r=h["a"].FLOAT,n=l["a"].LUMINANCE,i=new Float32Array(b),t=0;t<b;t++)i[t]=v[t].height;var y=m["a"].create({context:s.context,pixelFormat:n,pixelDatatype:r,source:{arrayBufferView:i,width:b,height:1},sampler:new u["a"]({wrapS:p["a"].CLAMP_TO_EDGE,wrapT:p["a"].CLAMP_TO_EDGE,minificationFilter:d["a"].NEAREST,magnificationFilter:f["a"].NEAREST})}),j=new Uint8Array(4*b);for(t=0;t<b;t++){var x=v[t].color;x.toBytes(O),j[4*t+0]=O[0],j[4*t+1]=O[1],j[4*t+2]=O[2],j[4*t+3]=O[3]}var w=m["a"].create({context:s.context,pixelFormat:l["a"].RGBA,pixelDatatype:h["a"].UNSIGNED_BYTE,source:{arrayBufferView:j,width:b,height:1},sampler:new u["a"]({wrapS:p["a"].CLAMP_TO_EDGE,wrapT:p["a"].CLAMP_TO_EDGE,minificationFilter:d["a"].LINEAR,magnificationFilter:f["a"].LINEAR})}),C=g["a"].fromType("ElevationBand",{heights:y,colors:w});return C}F._useFloatTexture=function(e){return e.floatingPointTexture},F._maximumHeight=5906376425472,F._minimumHeight=-5906376425472,F._emptyColor=new n["a"](0,0,0,0),t["a"]=F},ef77:function(e,t,i){"use strict";var a=i("77af"),r=i("be18"),n=i("2384"),o=i("2f63"),s=i("ddf7"),c=i("017a"),l=i("93da"),h=i("52f0"),u=i("f845"),m=i("d289"),f=i("00f8"),d=i("9dbf"),p=i("5e59"),g=i("6f08"),v=i("8004"),b=i("dd7f"),_=i("8773"),y=i("e0bc"),P=i("7fe1"),O=i("a307"),j=i("569f"),x=i("ee05");function w(){this.command=void 0,this.near=void 0,this.far=void 0}function C(e,t,i){var r,n,o=e.context;o.depthTexture&&(r=new g["a"]),e._useOIT&&o.depthTexture&&(n=new b["a"](o));var s=new f["a"](o);s.viewport=a["a"].clone(i),this.camera=t,this._cameraClone=d["a"].clone(t),this._cameraStartFired=!1,this._cameraMovedTime=void 0,this.viewport=i,this.passState=s,this.pickFramebuffer=new y["a"](o),this.pickDepthFramebuffer=new _["a"],this.sceneFramebuffer=new P["a"],this.globeDepth=r,this.globeTranslucencyFramebuffer=new v["a"],this.oit=n,this.translucentTileClassification=new x["a"](o),this.pickDepths=[],this.debugGlobeDepths=[],this.frustumCommandsList=[],this.debugFrustumStatistics=void 0,this._commandExtents=[]}var M=new r["a"],F=new r["a"];function E(e,t){var i=Math.max(Math.abs(e.x),Math.abs(t.x)),a=Math.max(Math.abs(e.y),Math.abs(t.y)),r=Math.max(Math.abs(e.z),Math.abs(t.z));return Math.max(Math.max(i,a),r)}function S(e,t,i){var a=1/Math.max(1,E(e.position,t.position));return r["a"].multiplyByScalar(e.position,a,M),r["a"].multiplyByScalar(t.position,a,F),r["a"].equalsEpsilon(M,F,i)&&r["a"].equalsEpsilon(e.direction,t.direction,i)&&r["a"].equalsEpsilon(e.up,t.up,i)&&r["a"].equalsEpsilon(e.right,t.right,i)&&h["a"].equalsEpsilon(e.transform,t.transform,i)&&e.frustum.equalsEpsilon(t.frustum,i)}function D(e,t,i,a){var r,n=t.frameState,s=n.camera,c=n.useLogDepth?t.logarithmicDepthFarToNearRatio:t.farToNearRatio,h=t.mode===O["a"].SCENE2D,u=t.nearToFarDistance2D;a*=1+l["a"].EPSILON2,i=Math.min(Math.max(i,s.frustum.near),s.frustum.far),a=Math.max(Math.min(a,s.frustum.far),i),h?(a=Math.min(a,s.position.z+t.nearToFarDistance2D),i=Math.min(i,a),r=Math.ceil(Math.max(1,a-i)/t.nearToFarDistance2D)):r=Math.ceil(Math.log(a/i)/Math.log(c));var m=e.frustumCommandsList;m.length=r;for(var f=0;f<r;++f){var d,g;h?(d=Math.min(a-u,i+f*u),g=Math.min(a,d+u)):(d=Math.max(i,Math.pow(c,f)*i),g=Math.min(a,c*d));var v=m[f];Object(o["a"])(v)?(v.near=d,v.far=g):v=m[f]=new p["a"](d,g)}}function T(e,t,i,a,r){t.debugShowFrustums&&(i.debugOverlappingFrustums=0);for(var n=e.frustumCommandsList,s=n.length,c=0;c<s;++c){var l=n[c],h=l.near,u=l.far;if(!(a>u)){if(r<h)break;var m=i.pass,f=l.indices[m]++;if(l.commands[m][f]=i,t.debugShowFrustums&&(i.debugOverlappingFrustums|=1<<c),i.executeInClosestFrustum)break}}if(t.debugShowFrustums){var d=e.debugFrustumStatistics.commandsInFrustums;d[i.debugOverlappingFrustums]=Object(o["a"])(d[i.debugOverlappingFrustums])?d[i.debugOverlappingFrustums]+1:1,++e.debugFrustumStatistics.totalCommands}t.updateDerivedCommands(i)}C.prototype.checkForCameraUpdates=function(e){var t=this.camera,i=this._cameraClone;return S(t,i,l["a"].EPSILON15)?(this._cameraStartFired&&Object(s["a"])()-this._cameraMovedTime>e.cameraEventWaitTime&&(t.moveEnd.raiseEvent(),this._cameraStartFired=!1),!1):(this._cameraStartFired||(t.moveStart.raiseEvent(),this._cameraStartFired=!0),this._cameraMovedTime=Object(s["a"])(),d["a"].clone(t,i),!0)};var A=new n["a"],I=new c["a"];C.prototype.createPotentiallyVisibleSet=function(e){var t=e.frameState,i=t.camera,a=i.directionWC,r=i.positionWC,n=e._computeCommandList,s=e._overlayCommandList,c=t.commandList;e.debugShowFrustums&&(this.debugFrustumStatistics={totalCommands:0,commandsInFrustums:{}});for(var l=this.frustumCommandsList,h=l.length,f=m["a"].NUMBER_OF_PASSES,d=0;d<h;++d)for(var p=0;p<f;++p)l[d].indices[p]=0;n.length=0,s.length=0;for(var g=this._commandExtents,v=g.length,b=0,_=+Number.MAX_VALUE,y=-Number.MAX_VALUE,P=t.shadowState.shadowsEnabled,x=+Number.MAX_VALUE,C=-Number.MAX_VALUE,M=Number.MAX_VALUE,F=t.mode===O["a"].SCENE3D?t.occluder:void 0,E=t.cullingVolume,S=A.planes,L=0;L<5;++L)S[L]=E.planes[L];E=A;for(var k,N,V=c.length,z=0;z<V;++z){var q=c[z],B=q.pass;if(B===m["a"].COMPUTE)n.push(q);else if(B===m["a"].OVERLAY)s.push(q);else{var G,R,W=q.boundingVolume;if(Object(o["a"])(W)){if(!e.isVisible(q,E,F))continue;var H=W.computePlaneDistances(r,a,I);if(G=H.start,R=H.stop,_=Math.min(_,G),y=Math.max(y,R),P&&q.receiveShadows&&G<j["a"].MAXIMUM_DISTANCE&&!(B===m["a"].GLOBE&&G<-100&&R>100)){var U=R-G;B!==m["a"].GLOBE&&G<100&&(M=Math.min(M,U)),x=Math.min(x,G),C=Math.max(C,R)}}else q instanceof u["a"]?(G=i.frustum.near,R=i.frustum.far):(G=i.frustum.near,R=i.frustum.far,_=Math.min(_,G),y=Math.max(y,R));var Y=g[b];Object(o["a"])(Y)||(Y=g[b]=new w),Y.command=q,Y.near=G,Y.far=R,b++}}for(P&&(x=Math.min(Math.max(x,i.frustum.near),i.frustum.far),C=Math.max(Math.min(C,i.frustum.far),x)),P&&(t.shadowState.nearPlane=x,t.shadowState.farPlane=C,t.shadowState.closestObjectSize=M),D(this,e,_,y),k=0;k<b;k++)N=g[k],T(this,e,N.command,N.near,N.far);if(b<v)for(k=b;k<v;k++){if(N=g[k],!Object(o["a"])(N.command))break;N.command=void 0}var X=l.length,Q=t.frustumSplits;Q.length=X+1;for(var J=0;J<X;++J)Q[J]=l[J].near,J===X-1&&(Q[J+1]=l[J].far)},C.prototype.destroy=function(){var e,t;this.pickFramebuffer=this.pickFramebuffer&&this.pickFramebuffer.destroy(),this.pickDepthFramebuffer=this.pickDepthFramebuffer&&this.pickDepthFramebuffer.destroy(),this.sceneFramebuffer=this.sceneFramebuffer&&this.sceneFramebuffer.destroy(),this.globeDepth=this.globeDepth&&this.globeDepth.destroy(),this.oit=this.oit&&this.oit.destroy(),this.translucentTileClassification=this.translucentTileClassification&&this.translucentTileClassification.destroy(),this.globeTranslucencyFramebuffer=this.globeTranslucencyFramebuffer&&this.globeTranslucencyFramebuffer.destroy();var i=this.pickDepths,a=this.debugGlobeDepths;for(t=i.length,e=0;e<t;++e)i[e].destroy();for(t=a.length,e=0;e<t;++e)a[e].destroy()},t["a"]=C},f915:function(e,t,i){"use strict";var a=i("2bb9"),r=i("8dfe"),n=i("535a"),o=i("2f63"),s=i("21d7"),c=i("eace"),l=i("d4ed"),h=i("d3a0"),u=i("a58e"),m=i("64ac"),f=i("7596"),d=Object.freeze({service:"WMTS",version:"1.0.0",request:"GetTile"});function p(e){e=Object(n["a"])(e,n["a"].EMPTY_OBJECT),this.defaultAlpha=void 0,this.defaultNightAlpha=void 0,this.defaultDayAlpha=void 0,this.defaultBrightness=void 0,this.defaultContrast=void 0,this.defaultHue=void 0,this.defaultSaturation=void 0,this.defaultGamma=void 0,this.defaultMinificationFilter=void 0,this.defaultMagnificationFilter=void 0;var t=l["a"].createIfNeeded(e.url),i=e.style,a=e.tileMatrixSetID,m=t.url;if(m.indexOf("{")>=0){var p={style:i,Style:i,TileMatrixSet:a};t.setTemplateValues(p),this._useKvp=!1}else t.setQueryParameters(d),this._useKvp=!0;this._resource=t,this._layer=e.layer,this._style=i,this._tileMatrixSetID=a,this._tileMatrixLabels=e.tileMatrixLabels,this._format=Object(n["a"])(e.format,"image/jpeg"),this._tileDiscardPolicy=e.tileDiscardPolicy,this._tilingScheme=Object(o["a"])(e.tilingScheme)?e.tilingScheme:new h["a"]({ellipsoid:e.ellipsoid}),this._tileWidth=Object(n["a"])(e.tileWidth,256),this._tileHeight=Object(n["a"])(e.tileHeight,256),this._minimumLevel=Object(n["a"])(e.minimumLevel,0),this._maximumLevel=e.maximumLevel,this._rectangle=Object(n["a"])(e.rectangle,this._tilingScheme.rectangle),this._dimensions=e.dimensions;var v=this;this._reload=void 0,Object(o["a"])(e.times)&&(this._timeDynamicImagery=new f["a"]({clock:e.clock,times:e.times,requestImageFunction:function(e,t,i,a,r){return g(v,e,t,i,a,r)},reloadFunction:function(){Object(o["a"])(v._reload)&&v._reload()}})),this._readyPromise=u["a"].resolve(!0);var b=this._tilingScheme.positionToTileXY(c["a"].southwest(this._rectangle),this._minimumLevel),_=this._tilingScheme.positionToTileXY(c["a"].northeast(this._rectangle),this._minimumLevel);Math.abs(_.x-b.x),Math.abs(_.y-b.y);this._errorEvent=new s["a"];var y=e.credit;this._credit="string"===typeof y?new r["a"](y):y,this._subdomains=e.subdomains,Array.isArray(this._subdomains)?this._subdomains=this._subdomains.slice():Object(o["a"])(this._subdomains)&&this._subdomains.length>0?this._subdomains=this._subdomains.split(""):this._subdomains=["a","b","c"]}function g(e,t,i,r,n,s){var c,l=e._tileMatrixLabels,h=Object(o["a"])(l)?l[r]:r.toString(),u=e._subdomains,f=e._dimensions,d=Object(o["a"])(s)?s.data:void 0;if(e._useKvp){var p={};p.tilematrix=h,p.layer=e._layer,p.style=e._style,p.tilerow=i,p.tilecol=t,p.tilematrixset=e._tileMatrixSetID,p.format=e._format,Object(o["a"])(f)&&(p=Object(a["a"])(p,f)),Object(o["a"])(d)&&(p=Object(a["a"])(p,d)),c=e._resource.getDerivedResource({queryParameters:p,request:n})}else{var g={TileMatrix:h,TileRow:i.toString(),TileCol:t.toString(),s:u[(t+i+r)%u.length]};c=e._resource.getDerivedResource({request:n}),c.setTemplateValues(g),Object(o["a"])(f)&&c.setTemplateValues(f),Object(o["a"])(d)&&c.setTemplateValues(d)}return m["a"].loadImage(e,c)}Object.defineProperties(p.prototype,{url:{get:function(){return this._resource.url}},proxy:{get:function(){return this._resource.proxy}},tileWidth:{get:function(){return this._tileWidth}},tileHeight:{get:function(){return this._tileHeight}},maximumLevel:{get:function(){return this._maximumLevel}},minimumLevel:{get:function(){return this._minimumLevel}},tilingScheme:{get:function(){return this._tilingScheme}},rectangle:{get:function(){return this._rectangle}},tileDiscardPolicy:{get:function(){return this._tileDiscardPolicy}},errorEvent:{get:function(){return this._errorEvent}},format:{get:function(){return this._format}},ready:{value:!0},readyPromise:{get:function(){return this._readyPromise}},credit:{get:function(){return this._credit}},hasAlphaChannel:{get:function(){return!0}},clock:{get:function(){return this._timeDynamicImagery.clock},set:function(e){this._timeDynamicImagery.clock=e}},times:{get:function(){return this._timeDynamicImagery.times},set:function(e){this._timeDynamicImagery.times=e}},dimensions:{get:function(){return this._dimensions},set:function(e){this._dimensions!==e&&(this._dimensions=e,Object(o["a"])(this._reload)&&this._reload())}}}),p.prototype.getTileCredits=function(e,t,i){},p.prototype.requestImage=function(e,t,i,a){var r,n,s=this._timeDynamicImagery;return Object(o["a"])(s)&&(n=s.currentInterval,r=s.getFromCache(e,t,i,a)),Object(o["a"])(r)||(r=g(this,e,t,i,a,n)),Object(o["a"])(r)&&Object(o["a"])(s)&&s.checkApproachingInterval(e,t,i,a),r},p.prototype.pickFeatures=function(e,t,i,a,r){},t["a"]=p}}]);