(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Cesium~e3e923d7"],{1195:function(e,t,n){"use strict";var r=n("2f63");function i(e,t,n){this._name=t.name,this._id=n,this._uniformMap=e._uniformMaps[n],this._technique=void 0,this._program=void 0,this._values=void 0}Object.defineProperties(i.prototype,{name:{get:function(){return this._name}},id:{get:function(){return this._id}}}),i.prototype.setValue=function(e,t){var n="u_"+e,r=this._uniformMap.values[n];r.value=r.clone(t,r.value)},i.prototype.getValue=function(e){var t="u_"+e,n=this._uniformMap.values[t];if(Object(r["a"])(n))return n.value},t["a"]=i},1307:function(e,t,n){"use strict";var r=n("52f0");function i(e,t,n){this.primitive=e,this._modelMatrix=r["a"].clone(t),this._instanceId=n}Object.defineProperties(i.prototype,{instanceId:{get:function(){return this._instanceId}},model:{get:function(){return this.primitive._model}},modelMatrix:{get:function(){return r["a"].clone(this._modelMatrix)},set:function(e){r["a"].clone(e,this._modelMatrix),this.primitive.expandBoundingSphere(this._modelMatrix),this.primitive._dirty=!0}}}),t["a"]=i},"1e38":function(e,t,n){"use strict";var r=n("cef5"),i=n("670c"),a=n("be18"),o=n("dc1c"),s=n("bd8d"),u=n("abab"),c=n("535a"),f=n("2f63"),d=n("7d62"),l=n("52f0"),m=n("1b8d"),h=n("d4ed"),_=n("283e"),p=n("f806"),v=n("f20a"),b=n("8b68"),g=n("a894"),O=n("d289"),y=n("6dc0"),w=n("5770"),T=n("77d1"),x=n("a58e"),E=n("ce35"),A=n("1307"),C=n("e349"),S=n("a307"),M=n("c86b"),I={NEEDS_LOAD:0,LOADING:1,LOADED:2,FAILED:3};function L(e){e=Object(c["a"])(e,c["a"].EMPTY_OBJECT),this.show=Object(c["a"])(e.show,!0),this._instancingSupported=!1,this._dynamic=Object(c["a"])(e.dynamic,!1),this._allowPicking=Object(c["a"])(e.allowPicking,!0),this._ready=!1,this._readyPromise=x["a"].defer(),this._state=I.NEEDS_LOAD,this._dirty=!1,this._cull=Object(c["a"])(e.cull,!0),this._opaquePass=Object(c["a"])(e.opaquePass,O["a"].OPAQUE),this._instances=j(this,e.instances),this._batchTable=e.batchTable,this._model=void 0,this._vertexBufferTypedArray=void 0,this._vertexBuffer=void 0,this._batchIdBuffer=void 0,this._instancedUniformsByProgram=void 0,this._drawCommands=[],this._modelCommands=void 0,this._renderStates=void 0,this._disableCullingRenderStates=void 0,this._boundingSphere=V(this),this._center=a["a"].clone(this._boundingSphere.center),this._rtcTransform=new l["a"],this._rtcModelView=new l["a"],this._mode=void 0,this.modelMatrix=l["a"].clone(l["a"].IDENTITY),this._modelMatrix=l["a"].clone(this.modelMatrix),this._url=h["a"].createIfNeeded(e.url),this._requestType=e.requestType,this._gltf=e.gltf,this._basePath=h["a"].createIfNeeded(e.basePath),this._asynchronous=e.asynchronous,this._incrementallyLoadTextures=e.incrementallyLoadTextures,this._upAxis=e.upAxis,this._forwardAxis=e.forwardAxis,this.shadows=Object(c["a"])(e.shadows,M["a"].ENABLED),this._shadows=this.shadows,this._pickIdLoaded=e.pickIdLoaded,this.debugShowBoundingVolume=Object(c["a"])(e.debugShowBoundingVolume,!1),this._debugShowBoundingVolume=!1,this.debugWireframe=Object(c["a"])(e.debugWireframe,!1),this._debugWireframe=!1,this._imageBasedLightingFactor=new i["a"](1,1),i["a"].clone(e.imageBasedLightingFactor,this._imageBasedLightingFactor),this.lightColor=e.lightColor,this.luminanceAtZenith=e.luminanceAtZenith,this.sphericalHarmonicCoefficients=e.sphericalHarmonicCoefficients,this.specularEnvironmentMaps=e.specularEnvironmentMaps,this.backFaceCulling=Object(c["a"])(e.backFaceCulling,!0),this._backFaceCulling=this.backFaceCulling}function j(e,t){t=Object(c["a"])(t,[]);for(var n=t.length,r=new Array(n),i=0;i<n;++i){var a=t[i],o=a.modelMatrix,s=Object(c["a"])(a.batchId,i);r[i]=new A["a"](e,o,s)}return r}function V(e){for(var t=e.length,n=new Array(t),i=0;i<t;++i)n[i]=l["a"].getTranslation(e._instances[i]._modelMatrix,new a["a"]);return r["a"].fromPoints(n)}Object.defineProperties(L.prototype,{allowPicking:{get:function(){return this._allowPicking}},length:{get:function(){return this._instances.length}},activeAnimations:{get:function(){return this._model.activeAnimations}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise.promise}},imageBasedLightingFactor:{get:function(){return this._imageBasedLightingFactor},set:function(e){i["a"].clone(e,this._imageBasedLightingFactor)}}});var R=new a["a"],P=new l["a"];function B(e,t,n,r){return function(i,a){var o=i.semantic;if(Object(f["a"])(o)&&e.indexOf(o)>-1){if(!(t.indexOf(o)>-1))throw new _["a"]('Shader program cannot be optimized for instancing. Uniform "'+a+'" in program "'+n+'" uses unsupported semantic "'+o+'"');r[a]=o}}}function D(e,t){if(Object(f["a"])(e._instancedUniformsByProgram))return e._instancedUniformsByProgram[t];var n={};e._instancedUniformsByProgram=n;var r=["MODEL","MODELVIEW","CESIUM_RTC_MODELVIEW","MODELVIEWPROJECTION","MODELINVERSE","MODELVIEWINVERSE","MODELVIEWPROJECTIONINVERSE","MODELINVERSETRANSPOSE","MODELVIEWINVERSETRANSPOSE"],i=["MODELVIEW","CESIUM_RTC_MODELVIEW","MODELVIEWPROJECTION","MODELVIEWINVERSETRANSPOSE"],a=e._model._sourceTechniques;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o],u=s.program;if(!Object(f["a"])(n[u])){var c={};n[u]=c,T["a"].techniqueUniform(s,B(r,i,t,c))}}return n[t]}function N(e){return function(t,n){var r=D(e,n),i=Object(f["a"])(e._batchTable),a=w["a"].replaceMain(t,"czm_instancing_main"),o="",s="";for(var u in r)if(r.hasOwnProperty(u)){var c,d=r[u];"MODELVIEW"===d||"CESIUM_RTC_MODELVIEW"===d?c="czm_instanced_modelView":"MODELVIEWPROJECTION"===d?(c="czm_instanced_modelViewProjection",o+="mat4 czm_instanced_modelViewProjection;\n",s+="czm_instanced_modelViewProjection = czm_projection * czm_instanced_modelView;\n"):"MODELVIEWINVERSETRANSPOSE"===d&&(c="czm_instanced_modelViewInverseTranspose",o+="mat3 czm_instanced_modelViewInverseTranspose;\n",s+="czm_instanced_modelViewInverseTranspose = mat3(czm_instanced_modelView);\n");var l=new RegExp("uniform.*"+u+".*");a=a.replace(l,""),l=new RegExp(u+"\\b","g"),a=a.replace(l,c)}var m,h,_,p="uniform mat4 czm_instanced_modifiedModelView;\nuniform mat4 czm_instanced_nodeTransform;\n";i?(m="attribute float a_batchId;\n",h="",_=""):(m="",h="attribute vec4 pickColor;\nvarying vec4 v_pickColor;\n",_="    v_pickColor = pickColor;\n");var v=p+o+"mat4 czm_instanced_modelView;\nattribute vec4 czm_modelMatrixRow0;\nattribute vec4 czm_modelMatrixRow1;\nattribute vec4 czm_modelMatrixRow2;\n"+m+h+a+"void main()\n{\n    mat4 czm_instanced_model = mat4(czm_modelMatrixRow0.x, czm_modelMatrixRow1.x, czm_modelMatrixRow2.x, 0.0, czm_modelMatrixRow0.y, czm_modelMatrixRow1.y, czm_modelMatrixRow2.y, 0.0, czm_modelMatrixRow0.z, czm_modelMatrixRow1.z, czm_modelMatrixRow2.z, 0.0, czm_modelMatrixRow0.w, czm_modelMatrixRow1.w, czm_modelMatrixRow2.w, 1.0);\n    czm_instanced_modelView = czm_instanced_modifiedModelView * czm_instanced_model * czm_instanced_nodeTransform;\n"+s+"    czm_instancing_main();\n"+_+"}\n";if(i){var b=e._model.gltf,g=C["a"].getDiffuseAttributeOrUniform(b,n);v=e._batchTable.getVertexShaderCallback(!0,"a_batchId",g)(v)}return v}}function z(e){return function(t,n){var r=e._batchTable;if(Object(f["a"])(r)){var i=e._model.gltf,a=C["a"].getDiffuseAttributeOrUniform(i,n);t=r.getFragmentShaderCallback(!0,a,!1)(t)}else t="varying vec4 v_pickColor;\n"+t;return t}}function k(e,t){return function(){return l["a"].multiply(t.uniformState.view,e._rtcTransform,e._rtcModelView)}}function U(e){return function(){return e.computedMatrix}}function F(e,t){return function(n,r,i){n=Object(o["a"])(n),n.czm_instanced_modifiedModelView=k(e,t),n.czm_instanced_nodeTransform=U(i);var a=D(e,r);for(var s in a)a.hasOwnProperty(s)&&delete n[s];return Object(f["a"])(e._batchTable)&&(n=e._batchTable.getUniformMapCallback()(n)),n}}function q(e){return function(t,n){if(Object(f["a"])(e._batchTable)){var r=e._model.gltf,i=C["a"].getDiffuseAttributeOrUniform(r,n);t=e._batchTable.getVertexShaderCallback(!0,"a_batchId",i)(t),t="uniform float a_batchId\n;"+t}return t}}function W(e){return function(t,n){var r=e._batchTable;if(Object(f["a"])(r)){var i=e._model.gltf,a=C["a"].getDiffuseAttributeOrUniform(i,n);t=r.getFragmentShaderCallback(!0,a,!1)(t)}else t="uniform vec4 czm_pickColor;\n"+t;return t}}function H(e){return function(t){return Object(f["a"])(e._batchTable)&&(t=e._batchTable.getUniformMapCallback()(t)),t}}function G(e){var t=e._instances,n=e.length,r=e._center,i=12,a=e._vertexBufferTypedArray;Object(f["a"])(a)||(a=new Float32Array(n*i)),e._dynamic&&(e._vertexBufferTypedArray=a);for(var o=0;o<n;++o){var s=t[o]._modelMatrix,u=l["a"].clone(s,P);u[12]-=r.x,u[13]-=r.y,u[14]-=r.z;var c=o*i;a[c+0]=u[0],a[c+1]=u[4],a[c+2]=u[8],a[c+3]=u[12],a[c+4]=u[1],a[c+5]=u[5],a[c+6]=u[9],a[c+7]=u[13],a[c+8]=u[2],a[c+9]=u[6],a[c+10]=u[10],a[c+11]=u[14]}return a}function K(e,t){var n,r=e._instances,i=e.length,a=e._dynamic,o=Object(f["a"])(e._batchTable);if(o){var u=new Uint16Array(i);for(n=0;n<i;++n)u[n]=r[n]._instanceId;e._batchIdBuffer=v["a"].createVertexBuffer({context:t,typedArray:u,usage:b["a"].STATIC_DRAW})}if(!o){var c=new Uint8Array(4*i);for(n=0;n<i;++n){var d=e._pickIds[n],l=d.color,m=4*n;c[m]=s["a"].floatToByte(l.red),c[m+1]=s["a"].floatToByte(l.green),c[m+2]=s["a"].floatToByte(l.blue),c[m+3]=s["a"].floatToByte(l.alpha)}e._pickIdBuffer=v["a"].createVertexBuffer({context:t,typedArray:c,usage:b["a"].STATIC_DRAW})}var h=G(e);e._vertexBuffer=v["a"].createVertexBuffer({context:t,typedArray:h,usage:a?b["a"].STREAM_DRAW:b["a"].STATIC_DRAW})}function J(e){var t=G(e);e._vertexBuffer.copyFromArrayView(t)}function X(e,t){for(var n=e._instances,r=n.length,i=new Array(r),a=0;a<r;++a)i[a]=t.createPickId(n[a]);return i}function Y(e,t){var n=e._instancingSupported,r=Object(f["a"])(e._batchTable),i=e._allowPicking,a={url:e._url,requestType:e._requestType,gltf:e._gltf,basePath:e._basePath,shadows:e._shadows,cacheKey:void 0,asynchronous:e._asynchronous,allowPicking:i,incrementallyLoadTextures:e._incrementallyLoadTextures,upAxis:e._upAxis,forwardAxis:e._forwardAxis,precreatedAttributes:void 0,vertexShaderLoaded:void 0,fragmentShaderLoaded:void 0,uniformMapLoaded:void 0,pickIdLoaded:e._pickIdLoaded,ignoreCommands:!0,opaquePass:e._opaquePass,imageBasedLightingFactor:e.imageBasedLightingFactor,lightColor:e.lightColor,luminanceAtZenith:e.luminanceAtZenith,sphericalHarmonicCoefficients:e.sphericalHarmonicCoefficients,specularEnvironmentMaps:e.specularEnvironmentMaps};if(r||(e._pickIds=X(e,t)),n){K(e,t);var o=12,s=u["a"].getSizeInBytes(u["a"].FLOAT),c={czm_modelMatrixRow0:{index:0,vertexBuffer:e._vertexBuffer,componentsPerAttribute:4,componentDatatype:u["a"].FLOAT,normalize:!1,offsetInBytes:0,strideInBytes:s*o,instanceDivisor:1},czm_modelMatrixRow1:{index:0,vertexBuffer:e._vertexBuffer,componentsPerAttribute:4,componentDatatype:u["a"].FLOAT,normalize:!1,offsetInBytes:4*s,strideInBytes:s*o,instanceDivisor:1},czm_modelMatrixRow2:{index:0,vertexBuffer:e._vertexBuffer,componentsPerAttribute:4,componentDatatype:u["a"].FLOAT,normalize:!1,offsetInBytes:8*s,strideInBytes:s*o,instanceDivisor:1}};r&&(c.a_batchId={index:0,vertexBuffer:e._batchIdBuffer,componentsPerAttribute:1,componentDatatype:u["a"].UNSIGNED_SHORT,normalize:!1,offsetInBytes:0,strideInBytes:0,instanceDivisor:1}),r||(c.pickColor={index:0,vertexBuffer:e._pickIdBuffer,componentsPerAttribute:4,componentDatatype:u["a"].UNSIGNED_BYTE,normalize:!0,offsetInBytes:0,strideInBytes:0,instanceDivisor:1}),a.precreatedAttributes=c,a.vertexShaderLoaded=N(e),a.fragmentShaderLoaded=z(e),a.uniformMapLoaded=F(e,t),Object(f["a"])(e._url)&&(a.cacheKey=e._url.getUrlComponent()+"#instanced")}else a.vertexShaderLoaded=q(e),a.fragmentShaderLoaded=W(e),a.uniformMapLoaded=H(e,t);Object(f["a"])(e._url)?e._model=E["a"].fromGltf(a):e._model=new E["a"](a)}function Z(e,t){if(e._debugWireframe!==e.debugWireframe||t){e._debugWireframe=e.debugWireframe;for(var n=e.debugWireframe?m["a"].LINES:m["a"].TRIANGLES,r=e._drawCommands,i=r.length,a=0;a<i;++a)r[a].primitiveType=n}}function Q(e){var t=Object(o["a"])(e,!0);return t.cull.enabled=!1,y["a"].fromCache(t)}function $(e,t){if(e._backFaceCulling!==e.backFaceCulling||t){e._backFaceCulling=e.backFaceCulling;var n,r=e._drawCommands,i=r.length;if(!Object(f["a"])(e._disableCullingRenderStates))for(e._disableCullingRenderStates=new Array(i),e._renderStates=new Array(i),n=0;n<i;++n){var a=r[n].renderState,o=Q(a);e._disableCullingRenderStates[n]=o,e._renderStates[n]=a}for(n=0;n<i;++n)r[n].renderState=e._backFaceCulling?e._renderStates[n]:e._disableCullingRenderStates[n]}}function ee(e,t){if(e.debugShowBoundingVolume!==e._debugShowBoundingVolume||t){e._debugShowBoundingVolume=e.debugShowBoundingVolume;for(var n=e._drawCommands,r=n.length,i=0;i<r;++i)n[i].debugShowBoundingVolume=e.debugShowBoundingVolume}}function te(e,t){for(var n=t.length,r=e.length,i=e._boundingSphere,a=e._cull,o=0;o<n;++o){var s=g["a"].shallowClone(t[o]);s.instanceCount=r,s.boundingVolume=i,s.cull=a,Object(f["a"])(e._batchTable)?s.pickId=e._batchTable.getPickId():s.pickId="v_pickColor",e._drawCommands.push(s)}}function ne(e){return function(){return e}}function re(e){return function(){return e}}function ie(e,t){for(var n=e._instances,i=t.length,a=e.length,s=e._batchTable,u=Object(f["a"])(s),c=e._cull,d=0;d<i;++d)for(var m=0;m<a;++m){var h=g["a"].shallowClone(t[d]);if(h.modelMatrix=new l["a"],h.boundingVolume=new r["a"],h.cull=c,h.uniformMap=Object(o["a"])(h.uniformMap),u)h.uniformMap.a_batchId=ne(n[m]._instanceId);else{var _=e._pickIds[m];h.uniformMap.czm_pickColor=re(_.color)}e._drawCommands.push(h)}}function ae(e){for(var t=e._modelCommands,n=t.length,i=e.length,a=e._rtcTransform,o=e._center,s=0;s<n;++s)for(var u=t[s],c=0;c<i;++c){var f=s*i+c,d=e._drawCommands[f],m=l["a"].clone(e._instances[c]._modelMatrix,P);m[12]-=o.x,m[13]-=o.y,m[14]-=o.z,m=l["a"].multiply(a,m,P);var h=u.modelMatrix,_=d.modelMatrix;l["a"].multiply(m,h,_);var p=u.boundingVolume,v=d.boundingVolume;r["a"].transform(p,m,v)}}function oe(e){for(var t=e._nodeCommands,n=t.length,r=[],i=0;i<n;++i){var a=t[i];a.show&&r.push(a.command)}return r}function se(e){for(var t=e._nodeCommands,n=t.length,r=!1,i=0;i<n;i++){var a=t[i];a.command.dirty&&(a.command.dirty=!1,r=!0)}return r}function ue(e,t){e._drawCommands=[];var n=oe(e._model);t?te(e,n):(ie(e,n),ae(e))}function ce(e,t){if(e.shadows!==e._shadows||t){e._shadows=e.shadows;for(var n=M["a"].castShadows(e.shadows),r=M["a"].receiveShadows(e.shadows),i=e._drawCommands,a=i.length,o=0;o<a;++o){var s=i[o];s.castShadows=n,s.receiveShadows=r}}}L.prototype.expandBoundingSphere=function(e){var t=l["a"].getTranslation(e,R);r["a"].expand(this._boundingSphere,t,this._boundingSphere)},L.prototype.update=function(e){if(e.mode!==S["a"].MORPHING&&this.show&&0!==this.length){var t=e.context;if(this._state===I.NEEDS_LOAD){this._state=I.LOADING,this._instancingSupported=t.instancedArrays,Y(this,t);var n=this;this._model.readyPromise.otherwise((function(e){n._state=I.FAILED,n._readyPromise.reject(e)}))}var r=this._instancingSupported,i=this._model;if(i.imageBasedLightingFactor=this.imageBasedLightingFactor,i.lightColor=this.lightColor,i.luminanceAtZenith=this.luminanceAtZenith,i.sphericalHarmonicCoefficients=this.sphericalHarmonicCoefficients,i.specularEnvironmentMaps=this.specularEnvironmentMaps,i.update(e),i.ready&&this._state===I.LOADING){this._state=I.LOADED,this._ready=!0;var o=i.boundingSphere.radius+a["a"].magnitude(i.boundingSphere.center);return this._boundingSphere.radius+=o,this._modelCommands=oe(i),ue(this,r),void this._readyPromise.resolve(this)}if(this._state===I.LOADED){var s=e.mode!==this._mode,u=this.modelMatrix,c=!l["a"].equals(this._modelMatrix,u);if(s||c){this._mode=e.mode,l["a"].clone(u,this._modelMatrix);var f=l["a"].multiplyByTranslation(this._modelMatrix,this._center,this._rtcTransform);this._mode!==S["a"].SCENE3D&&(f=p["a"].basisTo2D(e.mapProjection,f,f)),l["a"].getTranslation(f,this._boundingSphere.center)}r&&this._dirty&&(this._dynamic=!0,this._dirty=!1,J(this));var d=se(i);d&&ue(this,r),!r&&(i.dirty||this._dirty||s||c)&&ae(this),ce(this,d),Z(this,d),$(this,d),ee(this,d);var m=e.passes;if(m.render||m.pick)for(var h=e.commandList,_=this._drawCommands,v=_.length,b=0;b<v;++b)h.push(_[b])}}},L.prototype.isDestroyed=function(){return!1},L.prototype.destroy=function(){this._model=this._model&&this._model.destroy();var e=this._pickIds;if(Object(f["a"])(e))for(var t=e.length,n=0;n<t;++n)e[n].destroy();return Object(d["a"])(this)},t["a"]=L},"442b":function(e,t,n){"use strict";var r=n("535a"),i=n("2f63"),a=n("21d7"),o=n("5ed2"),s=n("93da"),u=n("e898"),c=n("8a9e"),f=n("9007");function d(e){this.animationAdded=new a["a"],this.animationRemoved=new a["a"],this._model=e,this._scheduledAnimations=[],this._previousTime=void 0}function l(e,t,n){var r=e._model,i=r._runtime.animations,a=i[t],o=new u["a"](n,r,a);return e._scheduledAnimations.push(o),e.animationAdded.raiseEvent(r,o),o}function m(e,t){for(var n=e.channelEvaluators,r=n.length,i=0;i<r;++i)n[i](t)}Object.defineProperties(d.prototype,{length:{get:function(){return this._scheduledAnimations.length}}}),d.prototype.add=function(e){e=Object(r["a"])(e,r["a"].EMPTY_OBJECT);var t,n=this._model,a=n._runtime.animations;if(Object(i["a"])(e.index))return l(this,e.index,e);for(var o=a.length,s=0;s<o;++s)if(a[s].name===e.name){t=s;break}return l(this,t,e)},d.prototype.addAll=function(e){e=Object(r["a"])(e,r["a"].EMPTY_OBJECT);for(var t=[],n=this._model,i=n._runtime.animations,a=i.length,o=0;o<a;++o)t.push(l(this,o,e));return t},d.prototype.remove=function(e){if(Object(i["a"])(e)){var t=this._scheduledAnimations,n=t.indexOf(e);if(-1!==n)return t.splice(n,1),this.animationRemoved.raiseEvent(this._model,e),!0}return!1},d.prototype.removeAll=function(){var e=this._model,t=this._scheduledAnimations,n=t.length;this._scheduledAnimations=[];for(var r=0;r<n;++r)this.animationRemoved.raiseEvent(e,t[r])},d.prototype.contains=function(e){return!!Object(i["a"])(e)&&-1!==this._scheduledAnimations.indexOf(e)},d.prototype.get=function(e){return this._scheduledAnimations[e]};var h=[];function _(e,t,n){return function(){e.animationRemoved.raiseEvent(t,n)}}d.prototype.update=function(e){var t=this._scheduledAnimations,n=t.length;if(0===n)return this._previousTime=void 0,!1;if(o["a"].equals(e.time,this._previousTime))return!1;this._previousTime=o["a"].clone(e.time,this._previousTime);for(var a=!1,u=e.time,d=this._model,l=0;l<n;++l){var p=t[l],v=p._runtimeAnimation;Object(i["a"])(p._computedStartTime)||(p._computedStartTime=o["a"].addSeconds(Object(r["a"])(p.startTime,u),p.delay,new o["a"])),Object(i["a"])(p._duration)||(p._duration=v.stopTime*(1/p.multiplier));var b=p._computedStartTime,g=p._duration,O=p.stopTime,y=0!==g?o["a"].secondsDifference(u,b)/g:0;0!==g&&Object(i["a"])(O)&&o["a"].greaterThan(u,O)&&(y=o["a"].secondsDifference(O,b)/g);var w=y>=0,T=p.loop===c["a"].REPEAT||p.loop===c["a"].MIRRORED_REPEAT,x=(w||T&&!Object(i["a"])(p.startTime))&&(y<=1||T)&&(!Object(i["a"])(O)||o["a"].lessThanOrEquals(u,O));if(x||p._state===f["a"].ANIMATING){if(x&&p._state===f["a"].STOPPED&&(p._state=f["a"].ANIMATING,p.start.numberOfListeners>0&&e.afterRender.push(p._raiseStartEvent)),p.loop===c["a"].REPEAT)y-=Math.floor(y);else if(p.loop===c["a"].MIRRORED_REPEAT){var E=Math.floor(y),A=y-E;y=E%2===1?1-A:A}p.reverse&&(y=1-y);var C=y*g*p.multiplier;C=s["a"].clamp(C,v.startTime,v.stopTime),m(v,C),p.update.numberOfListeners>0&&(p._updateEventTime=C,e.afterRender.push(p._raiseUpdateEvent)),a=!0,x||(p._state=f["a"].STOPPED,p.stop.numberOfListeners>0&&e.afterRender.push(p._raiseStopEvent),p.removeOnStop&&h.push(p))}}n=h.length;for(var S=0;S<n;++S){var M=h[S];t.splice(t.indexOf(M),1),e.afterRender.push(_(this,d,M))}return h.length=0,a},t["a"]=d},"5128a":function(e,t,n){"use strict";var r=n("2f63"),i=n("e42d"),a=n("b997"),o=n("6c84"),s=n("a913"),u=n("3022"),c=n("03f1"),f=n("23b6"),d=n("77d1"),l=65534;function m(){}function h(e,t,n,i,a){var o,s=a.vertexCopies,u=a.extraVertices,c=a.outlineCoordinates,f=e.gltf,d=f.meshes[t],m=d.primitives[n],h=f.accessors,_=f.bufferViews;for(var p in m.attributes)if(m.attributes.hasOwnProperty(p)){var g=m.attributes[p],O=h[g];if(Object(r["a"])(O)){o=O.count;break}}if(Object(r["a"])(o)){var y,w=h[m.indices],T=_[w.bufferView],x=h[i],E=_[x.bufferView],A=e._loadResources,C=A.getBuffer(T),S=A.getBuffer(E),M=5123===w.componentType?new Uint16Array(C.buffer,C.byteOffset+w.byteOffset,w.count):new Uint32Array(C.buffer,C.byteOffset+w.byteOffset,w.count),I=5123===x.componentType?new Uint16Array(S.buffer,S.byteOffset+x.byteOffset,x.count):new Uint32Array(S.buffer,S.byteOffset+x.byteOffset,x.count),L=o,j=[L];for(y=0;y<I.length;y+=2){var V=I[y],R=I[y+1],P=Math.min(V,R),B=Math.max(V,R);j[P*L+B]=1}for(y=0;y<M.length;y+=3){var D=M[y],N=M[y+1],z=M[y+2],k=!1,U=k||b(j,D,N),F=k||b(j,N,z),q=k||b(j,z,D),W=v(c,D,N,z,U,F,q);while(W>=0){var H;if(H=W===D?s[D]:W===N?s[N]:s[z],void 0===H){H=o+u.length;var G=W;while(G>=o)G=u[G-o];u.push(G),s[W]=H}H>l&&M instanceof Uint16Array&&(M=new Uint32Array(M),w.componentType=5125,T.buffer=f.buffers.push({byteLength:M.byteLength,extras:{_pipeline:{source:M.buffer}}})-1,T.byteLength=M.byteLength,T.byteOffset=0,e._loadResources.buffers[T.buffer]=new Uint8Array(M.buffer,0,M.byteLength),A.indexBuffersToCreate._array.forEach((function(e){e.id===w.bufferView&&(e.componentType=w.componentType)}))),W===D?(D=H,M[y]=H):W===N?(N=H,M[y+1]=H):(z=H,M[y+2]=H),Object(r["a"])(w.max)&&(w.max[0]=Math.max(w.max[0],H)),W=v(c,D,N,z,U,F,q)}}}}function _(e,t,n,r,i){var a=3*t,o=e[a],s=e[a+1],u=e[a+2];return void 0===o?63:((o===n&&s===r&&u===i)<<0)+((o===n&&s===i&&u===r)<<1)+((o===r&&s===n&&u===i)<<2)+((o===r&&s===i&&u===n)<<3)+((o===i&&s===n&&u===r)<<4)+((o===i&&s===r&&u===n)<<5)}function p(e){return(1&e)+(e>>1&1)+(e>>2&1)+(e>>3&1)+(e>>4&1)+(e>>5&1)}function v(e,t,n,r,i,a,o){var s=o?1:0,u=i?1:0,c=0,f=_(e,t,s,u,c);if(0===f)return t;var d=0,l=i?1:0,m=a?1:0,h=_(e,n,d,l,m);if(0===h)return n;var v=o?1:0,b=0,g=a?1:0,O=_(e,r,v,b,g);if(0===O)return r;var y,w,T,x=f&h&O;if(1&x)y=0,w=1,T=2;else if(2&x)y=0,T=1,w=2;else if(4&x)w=0,y=1,T=2;else if(8&x)w=0,T=1,y=2;else if(16&x)T=0,y=1,w=2;else{if(!(32&x)){var E=p(f),A=p(h),C=p(O);return E<A&&E<C?t:A<C?n:r}T=0,w=1,y=2}var S=3*t;e[S+y]=s,e[S+w]=u,e[S+T]=c;var M=3*n;e[M+y]=d,e[M+w]=l,e[M+T]=m;var I=3*r;return e[I+y]=v,e[I+w]=b,e[I+T]=g,-1}function b(e,t,n){var r=e[0],i=Math.min(t,n)*r+Math.max(t,n);return 1===e[i]}function g(e){var t=new Uint8Array(e);return t[e-1]=192,8===e?t[e-1]=96:4===e?t[e-1]=48:2===e?t[e-1]=24:1===e&&(t[e-1]=12),t}function O(e,t){var n,r,i=e.gltf,a=e._loadResources;for(n=0;n<t.length;++n){var o=t[n],s=o.extras._pipeline.vertexNumberingScope;o.extras._pipeline.vertexNumberingScope=void 0;var u=s.extraVertices,c=a.getBuffer(o),f=o.byteStride||4,d=u.length,l=new Uint8Array(c.byteLength+d*f);for(l.set(c),r=0;r<d;++r)for(var m=u[r]*f,h=c.length+r*f,_=0;_<f;++_)l[h+_]=l[m+_];o.byteOffset=0,o.byteLength=l.byteLength;var p=i.buffers.push({byteLength:l.byteLength,extras:{_pipeline:{source:l.buffer}}})-1;o.buffer=p,a.buffers[p]=l;var v=s.accessors;for(r=0;r<v.length;++r){var b=v[r];i.accessors[b].count+=d}if(!s.createdOutlines){var g=s.outlineCoordinates,O=new Float32Array(g),y=e.gltf.buffers.push({byteLength:O.byteLength,extras:{_pipeline:{source:O.buffer}}})-1;a.buffers[y]=new Uint8Array(O.buffer,0,O.byteLength);var w=e.gltf.bufferViews.push({buffer:y,byteLength:O.byteLength,byteOffset:0,byteStride:3*Float32Array.BYTES_PER_ELEMENT,target:34962})-1,T=e.gltf.accessors.push({bufferView:w,byteOffset:0,componentType:5126,count:O.length/3,type:"VEC3",min:[0,0,0],max:[1,1,1]})-1,x=s.primitives;for(r=0;r<x.length;++r)x[r].attributes._OUTLINE_COORDINATES=T;a.vertexBuffersToCreate.enqueue(w),s.createdOutlines=!0}}}function y(e){var t,n=e.gltf,r=e._loadResources;for(t=0;t<n.buffers.length;++t){var i=n.buffers[t],a=n.bufferViews.filter(w.bind(void 0,t)),o=a.reduce((function(e,t){return e+t.byteLength}),0);if(o!==i.byteLength){for(var s=new Uint8Array(o),u=0,c=0;c<a.length;++c){var f=a[c],d=r.getBuffer(f);s.set(d,u),f.byteOffset=u,u+=d.byteLength}r.buffers[t]=s,i.extras._pipeline.source=s.buffer,i.byteLength=o}}}function w(e,t){return t.buffer===e}function T(e,t){var n=t.attributes;if(void 0!==n){var i,a=e.gltf;for(var o in n)if(n.hasOwnProperty(o)){var s=n[o],u=a.accessors[s],c=u.bufferView,f=a.bufferViews[c];if(Object(r["a"])(f.extras)||(f.extras={}),Object(r["a"])(f.extras._pipeline)||(f.extras._pipeline={}),Object(r["a"])(f.extras._pipeline.vertexNumberingScope)){if(void 0!==i&&f.extras._pipeline.vertexNumberingScope!==i)return}else f.extras._pipeline.vertexNumberingScope=i||{vertexCopies:[],extraVertices:[],outlineCoordinates:[],accessors:[],bufferViews:[],primitives:[],createdOutlines:!1};i=f.extras._pipeline.vertexNumberingScope,i.bufferViews.indexOf(f)<0&&i.bufferViews.push(f),i.accessors.indexOf(s)<0&&i.accessors.push(s)}return i.primitives.push(t),i}}m.hasExtension=function(e){return Object(r["a"])(e.extensionsRequired.CESIUM_primitive_outline)||Object(r["a"])(e.extensionsUsed.CESIUM_primitive_outline)},m.outlinePrimitives=function(e){if(m.hasExtension(e)){var t=e.gltf,n=[];d["a"].mesh(t,(function(t,i){d["a"].meshPrimitive(t,(function(t,a){if(Object(r["a"])(t.extensions)){var o=t.extensions.CESIUM_primitive_outline;if(Object(r["a"])(o)){var s=T(e,t);void 0!==s&&(n.indexOf(s)<0&&n.push(s),h(e,i,a,o.indices,s))}}}))}));for(var i=0;i<n.length;++i)O(e,n[i].bufferViews);y(e)}},m.createTexture=function(e,t){var n=t.cache.modelOutliningCache;if(Object(r["a"])(n)||(n=t.cache.modelOutliningCache={}),Object(r["a"])(n.outlineTexture))return n.outlineTexture;var d=Math.min(4096,a["a"].maximumTextureSize),l=d,m=g(l),h=[];while(l>1)l>>=1,h.push(g(l));var _=new s["a"]({context:t,source:{arrayBufferView:m,mipLevels:h},width:d,height:1,pixelFormat:i["a"].LUMINANCE,sampler:new o["a"]({wrapS:f["a"].CLAMP_TO_EDGE,wrapT:f["a"].CLAMP_TO_EDGE,minificationFilter:c["a"].LINEAR_MIPMAP_LINEAR,magnificationFilter:u["a"].LINEAR})});return n.outlineTexture=_,_},t["a"]=m},6289:function(e,t,n){"use strict";var r=n("9410");function i(){this.initialized=!1,this.resourcesParsed=!1,this.vertexBuffersToCreate=new r["a"],this.indexBuffersToCreate=new r["a"],this.buffers={},this.pendingBufferLoads=0,this.programsToCreate=new r["a"],this.shaders={},this.pendingShaderLoads=0,this.texturesToCreate=new r["a"],this.pendingTextureLoads=0,this.texturesToCreateFromBufferView=new r["a"],this.pendingBufferViewToImage=0,this.createSamplers=!0,this.createSkins=!0,this.createRuntimeAnimations=!0,this.createVertexArrays=!0,this.createRenderStates=!0,this.createUniformMaps=!0,this.createRuntimeNodes=!0,this.createdBufferViews={},this.primitivesToDecode=new r["a"],this.activeDecodingTasks=0,this.pendingDecodingCache=!1,this.skinnedNodesIds=[]}function a(e,t,n){return e.subarray(t,t+n)}i.prototype.getBuffer=function(e){return a(this.buffers[e.buffer],e.byteOffset,e.byteLength)},i.prototype.finishedPendingBufferLoads=function(){return 0===this.pendingBufferLoads},i.prototype.finishedBuffersCreation=function(){return 0===this.pendingBufferLoads&&0===this.vertexBuffersToCreate.length&&0===this.indexBuffersToCreate.length},i.prototype.finishedProgramCreation=function(){return 0===this.pendingShaderLoads&&0===this.programsToCreate.length},i.prototype.finishedTextureCreation=function(){var e=0===this.pendingTextureLoads,t=0===this.texturesToCreate.length&&0===this.texturesToCreateFromBufferView.length;return e&&t},i.prototype.finishedEverythingButTextureCreation=function(){var e=0===this.pendingBufferLoads&&0===this.pendingShaderLoads,t=0===this.vertexBuffersToCreate.length&&0===this.indexBuffersToCreate.length&&0===this.programsToCreate.length&&0===this.pendingBufferViewToImage;return this.finishedDecoding()&&e&&t},i.prototype.finishedDecoding=function(){return 0===this.primitivesToDecode.length&&0===this.activeDecodingTasks&&!this.pendingDecodingCache},i.prototype.finished=function(){return this.finishedDecoding()&&this.finishedTextureCreation()&&this.finishedEverythingButTextureCreation()},t["a"]=i},"8a9e":function(e,t,n){"use strict";var r={NONE:0,REPEAT:1,MIRRORED_REPEAT:2};t["a"]=Object.freeze(r)},9007:function(e,t,n){"use strict";t["a"]=Object.freeze({STOPPED:0,ANIMATING:1})},e1d8:function(e,t,n){"use strict";function r(e,t,n){for(var r=[],i=e.primitives,a=i.length,o=0;o<a;++o){var s=i[o];r[o]=t[s.material]}this._name=e.name,this._materials=r,this._id=n}Object.defineProperties(r.prototype,{name:{get:function(){return this._name}},id:{get:function(){return this._id}},materials:{get:function(){return this._materials}}}),t["a"]=r},e349:function(e,t,n){"use strict";var r=n("cef5"),i=n("670c"),a=n("be18"),o=n("a561"),s=n("dc1c"),u=n("2f63"),c=n("9e11"),f=n("df07"),d=n("52f0"),l=n("0260"),m=n("283e"),h=n("daa2"),_=n("5770"),p=n("a24f"),v=n("77d1"),b=n("38d6"),g=n("1da3"),O=n("b08e"),y={updateForwardAxis:function(e){var t=e.gltf.extras.sourceVersion;(Object(u["a"])(t)&&"2.0"!==t||"2.0"!==y.getAssetVersion(e.gltf))&&(e._gltfForwardAxis=O["a"].X)},getAssetVersion:function(e){return Object(u["a"])(e.asset)&&Object(u["a"])(e.asset.version)?e.asset.version:"1.0"},splitIncompatibleMaterials:function(e){var t=e.accessors,n=e.materials,r={};return v["a"].mesh(e,(function(e){v["a"].meshPrimitive(e,(function(e){var i,a,o=e.material,c=n[o],f=e.attributes.JOINTS_0;if(Object(u["a"])(f)){var d=t[f];i=d.componentType,a=d.type}var l=Object(u["a"])(f)&&"VEC4"===a,m=Object(u["a"])(e.attributes.COLOR_0),h=Object(u["a"])(e.targets),_=Object(u["a"])(e.attributes.NORMAL),v=Object(u["a"])(e.attributes.TANGENT),b=Object(u["a"])(e.attributes.TEXCOORD_0),g=b&&Object(u["a"])(e.attributes.TEXCOORD_1),O=Object(u["a"])(e.extensions)&&Object(u["a"])(e.extensions.CESIUM_primitive_outline),y=r[o];if(Object(u["a"])(y)){if(y.skinning.skinned!==l||y.hasVertexColors!==m||y.hasMorphTargets!==h||y.hasNormals!==_||y.hasTangents!==v||y.hasTexCoords!==b||y.hasTexCoord1!==g||y.hasOutline!==O){var w=Object(s["a"])(c,!0);o=Object(p["a"])(n,w),e.material=o,r[o]={skinning:{skinned:l,componentType:i},hasVertexColors:m,hasMorphTargets:h,hasNormals:_,hasTangents:v,hasTexCoords:b,hasTexCoord1:g,hasOutline:O}}}else r[o]={skinning:{skinned:l,componentType:i},hasVertexColors:m,hasMorphTargets:h,hasNormals:_,hasTangents:v,hasTexCoords:b,hasTexCoord1:g,hasOutline:O}}))})),r},getShaderVariable:function(e){return"SCALAR"===e?"float":e.toLowerCase()},ModelState:{NEEDS_LOAD:0,LOADING:1,LOADED:2,FAILED:3},getFailedLoadFunction:function(e,t,n){return function(r){e._state=y.ModelState.FAILED;var i="Failed to load "+t+": "+n;Object(u["a"])(r)&&(i+="\n"+r.message),e._readyPromise.reject(new m["a"](i))}},parseBuffers:function(e,t){var n=e._loadResources;v["a"].buffer(e.gltf,(function(r,i){if(Object(u["a"])(r.extras._pipeline.source))n.buffers[i]=r.extras._pipeline.source;else if(Object(u["a"])(t)){var a=e._resource.getDerivedResource({url:r.uri});++n.pendingBufferLoads,a.fetchArrayBuffer().then(t(e,i)).otherwise(y.getFailedLoadFunction(e,"buffer",a.url))}}))}},w=new a["a"],T=new a["a"];function x(e,t){return v["a"].techniqueAttribute(e,(function(e,n){if(e.semantic===t)return n}))}function E(e,t){var n=e.accessors,r=e.materials,i=e.extensions.KHR_techniques_webgl,a=i.techniques,o=i.programs,s=i.shaders,c=t.targets,f=t.attributes;for(var d in c)if(c.hasOwnProperty(d)){var l=c[d];for(var m in l)"extras"!==m&&(f[m+"_"+d]=l[m])}var h=r[t.material],_=a[h.extensions.KHR_techniques_webgl.technique],p=o[_.program],v=s[p.vertexShader];for(var b in f)if(f.hasOwnProperty(b)&&!Object(u["a"])(x(_,b))){var g=f[b],O=n[g],w=b.toLowerCase();"_"===w.charAt(0)&&(w=w.slice(1));var T="a_"+w;_.attributes[T]={semantic:b,type:O.componentType};var E=v.extras._pipeline,A=E.source;A="attribute "+y.getShaderVariable(O.type)+" "+T+";\n"+A,E.source=A}}function A(e,t,n,r){return Object(b["a"])(e,"KHR_techniques_webgl")?function(e,t){if(e.semantic===n&&(!r||!Object(u["a"])(e.node)))return t}:function(e,i){var a=t.parameters[e];if(a.semantic===n&&(!r||!Object(u["a"])(a.node)))return i}}y.computeBoundingSphere=function(e){for(var t=e.gltf,n=t.nodes,i=t.meshes,o=t.scenes[t.scene].nodes,s=o.length,c=[],f=new a["a"](Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),l=new a["a"](-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE),m=0;m<s;++m){var h=n[o[m]];h._transformToRoot=y.getTransform(h),c.push(h);while(c.length>0){h=c.pop();var _=h._transformToRoot,p=h.mesh;if(Object(u["a"])(p))for(var v=i[p],b=v.primitives,g=b.length,x=0;x<g;++x){var E=b[x].attributes.POSITION;if(Object(u["a"])(E)){var A=y.getAccessorMinMax(t,E);if(Object(u["a"])(A.min)&&Object(u["a"])(A.max)){var C=a["a"].fromArray(A.min,0,w),S=a["a"].fromArray(A.max,0,T);d["a"].multiplyByPoint(_,C,C),d["a"].multiplyByPoint(_,S,S),a["a"].minimumByComponent(f,C,f),a["a"].maximumByComponent(l,S,l)}}}var M=h.children;if(Object(u["a"])(M))for(var I=M.length,L=0;L<I;++L){var j=n[M[L]];j._transformToRoot=y.getTransform(j),d["a"].multiplyTransformation(_,j._transformToRoot,j._transformToRoot),c.push(j)}delete h._transformToRoot}}var V=r["a"].fromCornerPoints(f,l);return e._forwardAxis===O["a"].Z&&r["a"].transformWithoutScale(V,O["a"].Z_UP_TO_X_UP,V),e._upAxis===O["a"].Y?r["a"].transformWithoutScale(V,O["a"].Y_UP_TO_Z_UP,V):e._upAxis===O["a"].X&&r["a"].transformWithoutScale(V,O["a"].X_UP_TO_Z_UP,V),V},y.ensureSemanticExistence=function(e){return v["a"].mesh(e,(function(t){v["a"].meshPrimitive(t,(function(t){E(e,t)}))})),e},y.createAttributeLocations=function(e,t){var n={},r=!1,i=1;if(v["a"].techniqueAttribute(e,(function(e,t){/pos/i.test(t)&&!r?(n[t]=0,r=!0):n[t]=i++})),Object(u["a"])(t))for(var a in t)t.hasOwnProperty(a)&&(n[a]=i++);return n},y.getAccessorMinMax=function(e,t){var n=e.accessors[t],r=n.extensions,i=n.min,a=n.max;if(Object(u["a"])(r)){var o=r.WEB3D_quantized_attributes;Object(u["a"])(o)&&(i=o.decodedMin,a=o.decodedMax)}return{min:i,max:a}},y.getAttributeOrUniformBySemantic=function(e,t,n,r){return v["a"].technique(e,(function(i){if(!Object(u["a"])(n)||i.program===n){var a=v["a"].techniqueAttribute(i,A(e,i,t,r));return Object(u["a"])(a)?a:v["a"].techniqueUniform(i,A(e,i,t,r))}}))},y.getDiffuseAttributeOrUniform=function(e,t){var n=y.getAttributeOrUniformBySemantic(e,"COLOR_0",t);return Object(u["a"])(n)||(n=y.getAttributeOrUniformBySemantic(e,"_3DTILESDIFFUSE",t)),n};var C=new a["a"],S=new l["a"],M=new a["a"];function I(e,t,n){t+="(?!\\w)",t=new RegExp(t,"g");var r=e.search(t);return e.replace(t,(function(e,t){return r===t?e:n}))}function L(e,t){var n=e.accessors[t],r=n.extensions;if(Object(u["a"])(r))return r.WEB3D_quantized_attributes}function j(e,t,n){var r=t.material,i=e.materials[r];if(Object(b["a"])(e,"KHR_techniques_webgl")&&Object(u["a"])(i.extensions)&&Object(u["a"])(i.extensions.KHR_techniques_webgl)){var a=i.extensions.KHR_techniques_webgl.technique,o=e.extensions.KHR_techniques_webgl,s=o.techniques[a];return v["a"].techniqueAttribute(s,(function(e,t){var r=e.semantic;if(r===n)return t}))}}function V(e){var t={value:e,clone:function(e,t){return e},func:function(){return t.value}};return t}function R(e){var t={value:i["a"].fromArray(e),clone:i["a"].clone,func:function(){return t.value}};return t}function P(e){var t={value:a["a"].fromArray(e),clone:a["a"].clone,func:function(){return t.value}};return t}function B(e){var t={value:o["a"].fromArray(e),clone:o["a"].clone,func:function(){return t.value}};return t}function D(e){var t={value:c["a"].fromColumnMajorArray(e),clone:c["a"].clone,func:function(){return t.value}};return t}function N(e){var t={value:f["a"].fromColumnMajorArray(e),clone:f["a"].clone,func:function(){return t.value}};return t}function z(e){var t={value:d["a"].fromColumnMajorArray(e),clone:d["a"].clone,func:function(){return t.value}};return t}function k(e,t,n){this._value=void 0,this._textureId=e.index,this._textures=t,this._defaultTexture=n}function U(e,t,n){var r=new k(e,t,n);return r.func=function(){return r.value},r}y.getTransform=function(e,t){return Object(u["a"])(e.matrix)?d["a"].fromColumnMajorArray(e.matrix,t):d["a"].fromTranslationQuaternionRotationScale(a["a"].fromArray(e.translation,0,C),l["a"].unpack(e.rotation,0,S),a["a"].fromArray(e.scale,0,M),t)},y.getUsedExtensions=function(e){var t=e.extensionsUsed,n={};if(Object(u["a"])(t))for(var r=t.length,i=0;i<r;i++){var a=t[i];n[a]=!0}return n},y.getRequiredExtensions=function(e){var t=e.extensionsRequired,n={};if(Object(u["a"])(t))for(var r=t.length,i=0;i<r;i++){var a=t[i];n[a]=!0}return n},y.supportedExtensions={AGI_articulations:!0,CESIUM_RTC:!0,EXT_texture_webp:!0,KHR_blend:!0,KHR_binary_glTF:!0,KHR_draco_mesh_compression:!0,KHR_materials_common:!0,KHR_techniques_webgl:!0,KHR_materials_unlit:!0,KHR_materials_pbrSpecularGlossiness:!0,KHR_texture_transform:!0,WEB3D_quantized_attributes:!0},y.checkSupportedExtensions=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){if(!y.supportedExtensions[n])throw new m["a"]("Unsupported glTF Extension: "+n);if("EXT_texture_webp"===n&&!1===t)throw new m["a"]("Loaded model requires WebP but browser does not support it.")}},y.checkSupportedGlExtensions=function(e,t){if(Object(u["a"])(e))for(var n=e.length,r=0;r<n;r++){var i=e[r];if("OES_element_index_uint"!==i)throw new m["a"]("Unsupported WebGL Extension: "+i);if(!t.elementIndexUint)throw new m["a"]("OES_element_index_uint WebGL extension is not enabled.")}},y.modifyShaderForDracoQuantizedAttributes=function(e,t,n,r){var i={};for(var a in r)if(r.hasOwnProperty(a)){var o=r[a],s=o.quantization;if(!Object(u["a"])(s))continue;var c=j(e,t,a);"_"===a.charAt(0)&&(a=a.substring(1));var f="gltf_u_dec_"+a.toLowerCase();if(!Object(u["a"])(i[f])){var d,l="gltf_decoded_"+a,m=c.replace("a_","gltf_a_dec_"),h=o.componentsPerAttribute;n=I(n,c,m),d=s.octEncoded?"vec3":h>1?"vec"+h:"float",n=d+" "+m+";\n"+n;var p=3===h&&"COLOR_0"===a;p&&(n=I(n,m,"vec4("+m+", 1.0)"));var v="";if(s.octEncoded){var b=f+"_rangeConstant";n="uniform float "+b+";\n"+n,v="\nvoid main() {\n    "+m+" = czm_octDecode("+c+".xy, "+b+").zxy;\n    "+l+"();\n}\n"}else{var g=f+"_normConstant",O=f+"_min";n="uniform float "+g+";\nuniform "+d+" "+O+";\n"+n;var y=p?".xyz":"";v="\nvoid main() {\n    "+m+" = "+O+" + "+c+y+" * "+g+";\n    "+l+"();\n}\n"}n=_["a"].replaceMain(n,l),n+=v}}return{shader:n}},y.modifyShaderForQuantizedAttributes=function(e,t,n){var r={},i=t.attributes;for(var a in i)if(i.hasOwnProperty(a)){var o=j(e,t,a),s=t.attributes[a];"_"===a.charAt(0)&&(a=a.substring(1));var c="gltf_u_dec_"+a.toLowerCase(),f=c+"_scale",d=c+"_translate";if(!Object(u["a"])(r[c])&&!Object(u["a"])(r[f])){var l=L(e,s);if(Object(u["a"])(l)){var m,h=l.decodeMatrix,p="gltf_decoded_"+a,v=o.replace("a_","gltf_a_dec_"),b=Math.floor(Math.sqrt(h.length));n=I(n,o,v),m=b>2?"vec"+(b-1):"float",n=m+" "+v+";\n"+n;var g="";5===b?(n="uniform mat4 "+f+";\n"+n,n="uniform vec4 "+d+";\n"+n,g="\nvoid main() {\n    "+v+" = "+f+" * "+o+" + "+d+";\n    "+p+"();\n}\n",r[f]={mat:4},r[d]={vec:4}):(n="uniform mat"+b+" "+c+";\n"+n,g="\nvoid main() {\n    "+v+" = "+m+"("+c+" * vec"+b+"("+o+",1.0));\n    "+p+"();\n}\n",r[c]={mat:b}),n=_["a"].replaceMain(n,p),n+=g}}}return{shader:n,uniforms:r}},Object.defineProperties(k.prototype,{value:{get:function(){if(!Object(u["a"])(this._value)){var e=this._textures[this._textureId];if(!Object(u["a"])(e))return this._defaultTexture;this._value=e}return this._value},set:function(e){this._value=e}}}),k.prototype.clone=function(e){return e},k.prototype.func=void 0;var F={};function q(e){return[e[0],e[1],e[2],e[3],e[5],e[6],e[7],e[8],e[10],e[11],e[12],e[13],e[15],e[16],e[17],e[18]]}function W(e){return[e[20],e[21],e[22],e[23]]}F[h["a"].FLOAT]=V,F[h["a"].FLOAT_VEC2]=R,F[h["a"].FLOAT_VEC3]=P,F[h["a"].FLOAT_VEC4]=B,F[h["a"].INT]=V,F[h["a"].INT_VEC2]=R,F[h["a"].INT_VEC3]=P,F[h["a"].INT_VEC4]=B,F[h["a"].BOOL]=V,F[h["a"].BOOL_VEC2]=R,F[h["a"].BOOL_VEC3]=P,F[h["a"].BOOL_VEC4]=B,F[h["a"].FLOAT_MAT2]=D,F[h["a"].FLOAT_MAT3]=N,F[h["a"].FLOAT_MAT4]=z,F[h["a"].SAMPLER_2D]=U,y.createUniformFunction=function(e,t,n,r){return F[e](t,n,r)},y.createUniformsForDracoQuantizedAttributes=function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n],i=r.quantization;if(!Object(u["a"])(i))continue;"_"===n.charAt(0)&&(n=n.substring(1));var a="gltf_u_dec_"+n.toLowerCase();if(i.octEncoded){var o=a+"_rangeConstant",s=(1<<i.quantizationBits)-1;t[o]=V(s).func;continue}var c=a+"_normConstant",f=i.range/(1<<i.quantizationBits);t[c]=V(f).func;var d=a+"_min";switch(r.componentsPerAttribute){case 1:t[d]=V(i.minValues).func;break;case 2:t[d]=R(i.minValues).func;break;case 3:t[d]=P(i.minValues).func;break;case 4:t[d]=B(i.minValues).func;break}}return t},y.createUniformsForQuantizedAttributes=function(e,t,n){var r=e.accessors,i={},a={},o=t.attributes;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s],m=r[l],h=m.extensions;if("_"===s.charAt(0)&&(s=s.substring(1)),Object(u["a"])(h)){var _=h.WEB3D_quantized_attributes;if(Object(u["a"])(_)){var p=_.decodeMatrix,v="gltf_u_dec_"+s.toLowerCase();switch(m.type){case g["a"].SCALAR:a[v]=D(p).func,i[v]=!0;break;case g["a"].VEC2:a[v]=N(p).func,i[v]=!0;break;case g["a"].VEC3:a[v]=z(p).func,i[v]=!0;break;case g["a"].VEC4:var b=v+"_scale",O=v+"_translate";a[b]=z(q(p)).func,a[O]=B(W(p)).func,i[b]=!0,i[O]=!0;break}}}}for(var y in n)if(n.hasOwnProperty(y)&&!i[y]){var w=n[y];Object(u["a"])(w.mat)&&(2===w.mat?a[y]=D(c["a"].IDENTITY).func:3===w.mat?a[y]=N(f["a"].IDENTITY).func:4===w.mat&&(a[y]=z(d["a"].IDENTITY).func)),Object(u["a"])(w.vec)&&4===w.vec&&(a[y]=B([0,0,0,0]).func)}return a};var H=new a["a"],G={MODEL:function(e,t){return function(){return e.model}},VIEW:function(e,t){return function(){return e.view}},PROJECTION:function(e,t){return function(){return e.projection}},MODELVIEW:function(e,t){return function(){return e.modelView}},CESIUM_RTC_MODELVIEW:function(e,t){var n=new d["a"];return function(){return Object(u["a"])(t._rtcCenter)?(d["a"].getTranslation(e.model,H),a["a"].add(H,t._rtcCenter,H),d["a"].multiplyByPoint(e.view,H,H),d["a"].setTranslation(e.modelView,H,n)):e.modelView}},MODELVIEWPROJECTION:function(e,t){return function(){return e.modelViewProjection}},MODELINVERSE:function(e,t){return function(){return e.inverseModel}},VIEWINVERSE:function(e,t){return function(){return e.inverseView}},PROJECTIONINVERSE:function(e,t){return function(){return e.inverseProjection}},MODELVIEWINVERSE:function(e,t){return function(){return e.inverseModelView}},MODELVIEWPROJECTIONINVERSE:function(e,t){return function(){return e.inverseModelViewProjection}},MODELINVERSETRANSPOSE:function(e,t){return function(){return e.inverseTransposeModel}},MODELVIEWINVERSETRANSPOSE:function(e,t){return function(){return e.normal}},VIEWPORT:function(e,t){return function(){return e.viewportCartesian4}}};y.getGltfSemanticUniforms=function(){return G},t["a"]=y},e898:function(e,t,n){"use strict";var r=n("535a"),i=n("21d7"),a=n("5ed2"),o=n("8a9e"),s=n("9007");function u(e,t,n){this._name=n.name,this._startTime=a["a"].clone(e.startTime),this._delay=Object(r["a"])(e.delay,0),this._stopTime=e.stopTime,this.removeOnStop=Object(r["a"])(e.removeOnStop,!1),this._multiplier=Object(r["a"])(e.multiplier,1),this._reverse=Object(r["a"])(e.reverse,!1),this._loop=Object(r["a"])(e.loop,o["a"].NONE),this.start=new i["a"],this.update=new i["a"],this.stop=new i["a"],this._state=s["a"].STOPPED,this._runtimeAnimation=n,this._computedStartTime=void 0,this._duration=void 0;var u=this;this._raiseStartEvent=function(){u.start.raiseEvent(t,u)},this._updateEventTime=0,this._raiseUpdateEvent=function(){u.update.raiseEvent(t,u,u._updateEventTime)},this._raiseStopEvent=function(){u.stop.raiseEvent(t,u)}}Object.defineProperties(u.prototype,{name:{get:function(){return this._name}},startTime:{get:function(){return this._startTime}},delay:{get:function(){return this._delay}},stopTime:{get:function(){return this._stopTime}},multiplier:{get:function(){return this._multiplier}},reverse:{get:function(){return this._reverse}},loop:{get:function(){return this._loop}}}),t["a"]=u},e8d6:function(e,t,n){"use strict";var r=n("52f0");function i(e,t,n,i,a){this._model=e,this._runtimeNode=n,this._name=t.name,this._id=i,this.useMatrix=!1,this._show=!0,this._matrix=r["a"].clone(a),this._originalMatrix=r["a"].clone(a)}Object.defineProperties(i.prototype,{name:{get:function(){return this._name}},id:{get:function(){return this._id}},show:{get:function(){return this._show},set:function(e){this._show!==e&&(this._show=e,this._model._perNodeShowDirty=!0)}},matrix:{get:function(){return this._matrix},set:function(e){this._matrix=r["a"].clone(e,this._matrix),this.useMatrix=!0;var t=this._model;t._cesiumAnimationsDirty=!0,this._runtimeNode.dirtyNumber=t._maxDirtyNumber}},originalMatrix:{get:function(){return this._originalMatrix}}}),i.prototype.setMatrix=function(e){r["a"].clone(e,this._matrix)},t["a"]=i},fbf1:function(e,t,n){"use strict";var r=n("be18"),i=n("abab"),a=n("535a"),o=n("2f63"),s=n("7993"),u=n("52f0"),c=n("0260"),f=n("38f2"),d=n("66fb"),l=n("daa2"),m=n("3224"),h=n("6d11"),_=n("adba"),p=n("1da3");function v(){}var b=/^data\:/i;function g(e,t){var n=e.gltf,r=n.buffers,i=n.bufferViews,a=i[t.bufferView],o=r[a.buffer],s=a.byteOffset+t.byteOffset,u=t.count*Object(_["a"])(t.type),c=b.test(o.uri)?"":o.uri;return e.cacheKey+"//"+c+"/"+s+"/"+u}var O={};v.getAnimationParameterValues=function(e,t){var n=g(e,t),s=O[n];if(!Object(o["a"])(s)){var u=e.gltf,f=u.buffers,d=u.bufferViews,l=d[t.bufferView],m=l.buffer,p=f[m],v=p.extras._pipeline.source,b=t.componentType,y=t.type,w=Object(_["a"])(y),T=t.count,x=Object(h["a"])(u,t);s=new Array(T);for(var E=Object(a["a"])(t.byteOffset,0),A=l.byteOffset+E,C=0;C<T;C++){var S=i["a"].createArrayBufferView(b,v.buffer,v.byteOffset+A,w);"SCALAR"===y?s[C]=S[0]:"VEC3"===y?s[C]=r["a"].fromArray(S):"VEC4"===y&&(s[C]=c["a"].unpack(S)),A+=x}Object(o["a"])(e.cacheKey)&&(O[n]=s)}return s};var y={};function w(e,t,n){return e.cacheKey+"//"+t+"/"+n}function T(e){this._value=e}function x(e){this._spline=e,this._lastTimeIndex=0}T.prototype.evaluate=function(e,t){return this._value},T.prototype.wrapTime=function(e){return 0},T.prototype.clampTime=function(e){return 0},x.prototype.findTimeInterval=d["a"].prototype.findTimeInterval,x.prototype.evaluate=function(e,t){var n=this._lastTimeIndex=this.findTimeInterval(e,this._lastTimeIndex),r=this._spline.times,i=e>=r[n+1]?r[n+1]:r[n];return this._spline.evaluate(i,t)},Object.defineProperties(x.prototype,{times:{get:function(){return this._spline.times}}}),x.prototype.wrapTime=function(e){return this._spline.wrapTime(e)},x.prototype.clampTime=function(e){return this._spline.clampTime(e)},v.getAnimationSpline=function(e,t,n,r,i,a,u,c){var d=w(e,t,r),l=y[d];if(!Object(o["a"])(l)){var h=a,_=c;1===h.length&&1===_.length?l=new T(_[0]):"LINEAR"!==i.interpolation&&"STEP"!==i.interpolation||("translation"===u||"scale"===u?l=new s["a"]({times:h,points:_}):"rotation"===u?l=new f["a"]({times:h,points:_}):"weights"===u&&(l=new m["a"]({times:h,weights:_})),Object(o["a"])(l)&&"STEP"===i.interpolation&&(l=new x(l))),Object(o["a"])(e.cacheKey)&&(y[d]=l)}return l};var E={};v.getSkinInverseBindMatrices=function(e,t){var n=g(e,t),r=E[n];if(!Object(o["a"])(r)){var a=e.gltf,s=a.buffers,c=a.bufferViews,f=t.bufferView,d=c[f],m=d.buffer,v=s[m],b=v.extras._pipeline.source,O=t.componentType,y=t.type,w=t.count,T=Object(h["a"])(a,t),x=d.byteOffset+t.byteOffset,A=Object(_["a"])(y);if(r=new Array(w),O===l["a"].FLOAT&&y===p["a"].MAT4)for(var C=0;C<w;++C){var S=i["a"].createArrayBufferView(O,b.buffer,b.byteOffset+x,A);r[C]=u["a"].fromArray(S),x+=T}E[n]=r}return r},t["a"]=v}}]);