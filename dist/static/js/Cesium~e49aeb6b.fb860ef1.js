(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Cesium~e49aeb6b"],{"56d3":function(t,e,i){"use strict";function n(t){this.pass=t.pass,this.commandList=t.commandList,this.camera=t.camera,this.cullingVolume=t.cullingVolume,this.ready=!1}e["a"]=n},"5af0":function(t,e,i){"use strict";var n=i("bd8d"),r=i("2f63");function o(t,e){this._content=t,this._batchId=e,this._color=void 0}Object.defineProperties(o.prototype,{show:{get:function(){return this._content.batchTable.getShow(this._batchId)},set:function(t){this._content.batchTable.setShow(this._batchId,t)}},color:{get:function(){return Object(r["a"])(this._color)||(this._color=new n["a"]),this._content.batchTable.getColor(this._batchId,this._color)},set:function(t){this._content.batchTable.setColor(this._batchId,t)}},content:{get:function(){return this._content}},tileset:{get:function(){return this._content.tileset}},primitive:{get:function(){return this._content.tileset}},pickId:{get:function(){return this._content.batchTable.getPickColor(this._batchId)}}}),o.prototype.hasProperty=function(t){return this._content.batchTable.hasProperty(this._batchId,t)},o.prototype.getPropertyNames=function(t){return this._content.batchTable.getPropertyNames(this._batchId,t)},o.prototype.getProperty=function(t){return this._content.batchTable.getProperty(this._batchId,t)},o.prototype.setProperty=function(t,e){this._content.batchTable.setProperty(this._batchId,t,e),this._content.featurePropertiesDirty=!0},o.prototype.isExactClass=function(t){return this._content.batchTable.isExactClass(this._batchId,t)},o.prototype.isClass=function(t){return this._content.batchTable.isClass(this._batchId,t)},o.prototype.getExactClassName=function(){return this._content.batchTable.getExactClassName(this._batchId)},e["a"]=o},6380:function(t,e,i){"use strict";var n={NOT_COMPUTED:-1,USE_OPTIMIZATION:1,SKIP_OPTIMIZATION:0};e["a"]=Object.freeze(n)},"656b":function(t,e,i){"use strict";var n={HIGHLIGHT:0,REPLACE:1,MIX:2};e["a"]=Object.freeze(n)},6596:function(t,e,i){"use strict";var n=i("2c34"),r=i("670c"),o=i("a561"),a=i("dc1c"),s=i("bd8d"),c=i("2bb9"),l=i("abab"),u=i("535a"),h=i("2f63"),d=i("45c5"),_=i("7d62"),f=(i("4f04"),i("93da")),b=i("e42d"),p=i("283e"),g=i("b997"),m=i("a894"),y=i("d289"),v=i("6ef5"),O=i("6dc0"),S=i("6c84"),C=i("5770"),T=i("a913"),E=i("1da3"),D=i("b7c8"),P=i("656b"),x=i("29ab"),j=i("c13c"),I=i("3626"),w=i("6102"),R=i("25ef"),V=s["a"].WHITE,A=!0;function L(t,e,i,n,a){var s;this.featuresLength=e,this._translucentFeaturesLength=0,Object(h["a"])(i)&&(s=i.extensions),this._extensions=Object(u["a"])(s,{});var c,l,d=B(i);if(this._properties=d,this._batchTableHierarchy=k(this,i,n),this._batchTableBinaryProperties=N(e,d,n),this._showAlphaProperties=void 0,this._batchValues=void 0,this._batchValuesDirty=!1,this._batchTexture=void 0,this._defaultTexture=void 0,this._pickTexture=void 0,this._pickIds=[],this._content=t,this._colorChangedCallback=a,e>0){var _=Math.min(e,g["a"].maximumTextureSize),f=Math.ceil(e/g["a"].maximumTextureSize),b=1/_,p=.5*b,m=1/f,y=.5*m;c=new r["a"](_,f),l=new o["a"](b,p,m,y)}this._textureDimensions=c,this._textureStep=l}function B(t){var e={};if(!Object(h["a"])(t))return e;for(var i in t)t.hasOwnProperty(i)&&"HIERARCHY"!==i&&"extensions"!==i&&"extras"!==i&&(e[i]=Object(a["a"])(t[i],!0));return e}function k(t,e,i){if(Object(h["a"])(e)){var n=t._extensions["3DTILES_batch_table_hierarchy"],r=e.HIERARCHY;if(Object(h["a"])(r)&&(L._deprecationWarning("batchTableHierarchyExtension","The batch table HIERARCHY property has been moved to an extension. Use extensions.3DTILES_batch_table_hierarchy instead."),t._extensions["3DTILES_batch_table_hierarchy"]=r,n=r),Object(h["a"])(n))return z(n,i)}}function z(t,e){var i,r,o,a,s=t.instancesLength,d=t.classes,_=t.classIds,f=t.parentCounts,b=t.parentIds,p=s;if(Object(h["a"])(_.byteOffset)&&(_.componentType=Object(u["a"])(_.componentType,l["a"].UNSIGNED_SHORT),_.type=E["a"].SCALAR,o=Object(j["a"])(_),_=o.createArrayBufferView(e.buffer,e.byteOffset+_.byteOffset,s)),Object(h["a"])(f))for(Object(h["a"])(f.byteOffset)&&(f.componentType=Object(u["a"])(f.componentType,l["a"].UNSIGNED_SHORT),f.type=E["a"].SCALAR,o=Object(j["a"])(f),f=o.createArrayBufferView(e.buffer,e.byteOffset+f.byteOffset,s)),a=new Uint16Array(s),p=0,i=0;i<s;++i)a[i]=p,p+=f[i];Object(h["a"])(b)&&Object(h["a"])(b.byteOffset)&&(b.componentType=Object(u["a"])(b.componentType,l["a"].UNSIGNED_SHORT),b.type=E["a"].SCALAR,o=Object(j["a"])(b),b=o.createArrayBufferView(e.buffer,e.byteOffset+b.byteOffset,p));var g=d.length;for(i=0;i<g;++i){var m=d[i].length,y=d[i].instances,v=N(m,y,e);d[i].instances=Object(c["a"])(v,y)}var O=Object(n["a"])(new Array(g),0),S=new Uint16Array(s);for(i=0;i<s;++i)r=_[i],S[i]=O[r],++O[r];var C={classes:d,classIds:_,classIndexes:S,parentCounts:f,parentIndexes:a,parentIds:b};return C}function N(t,e,i){var n;for(var r in e)if(e.hasOwnProperty(r)){var o=e[r],a=o.byteOffset;if(Object(h["a"])(a)){var s=o.componentType,c=o.type;if(!Object(h["a"])(s))throw new p["a"]("componentType is required.");if(!Object(h["a"])(c))throw new p["a"]("type is required.");if(!Object(h["a"])(i))throw new p["a"]("Property "+r+" requires a batch table binary.");var l=Object(j["a"])(o),u=l.componentsPerAttribute,d=l.classType,_=l.createArrayBufferView(i.buffer,i.byteOffset+a,t);Object(h["a"])(n)||(n={}),n[r]={typedArray:_,componentCount:u,type:d}}}return n}function M(t){var e=t._textureDimensions;return e.x*e.y*4}function F(t){if(!Object(h["a"])(t._batchValues)){var e=M(t),i=new Uint8Array(e);Object(n["a"])(i,255),t._batchValues=i}return t._batchValues}function U(t){if(!Object(h["a"])(t._showAlphaProperties)){var e=2*t.featuresLength,i=new Uint8Array(e);Object(n["a"])(i,255),t._showAlphaProperties=i}return t._showAlphaProperties}L._deprecationWarning=d["a"],Object.defineProperties(L.prototype,{memorySizeInBytes:{get:function(){var t=0;return Object(h["a"])(this._pickTexture)&&(t+=this._pickTexture.sizeInBytes),Object(h["a"])(this._batchTexture)&&(t+=this._batchTexture.sizeInBytes),t}}}),L.getBinaryProperties=function(t,e,i){return N(t,e,i)},L.prototype.setShow=function(t,e){if(!e||Object(h["a"])(this._showAlphaProperties)){var i=U(this),n=2*t,r=e?255:0;if(i[n]!==r){i[n]=r;var o=F(this),a=4*t+3;o[a]=e?i[n+1]:0,this._batchValuesDirty=!0}}},L.prototype.setAllShow=function(t){for(var e=this.featuresLength,i=0;i<e;++i)this.setShow(i,t)},L.prototype.getShow=function(t){if(!Object(h["a"])(this._showAlphaProperties))return!0;var e=2*t;return 255===this._showAlphaProperties[e]};var W=new Array(4);L.prototype.setColor=function(t,e){if(!s["a"].equals(e,V)||Object(h["a"])(this._batchValues)){var i=e.toBytes(W),n=i[3],r=F(this),o=4*t,a=U(this),c=2*t;if(r[o]!==i[0]||r[o+1]!==i[1]||r[o+2]!==i[2]||a[c+1]!==n){r[o]=i[0],r[o+1]=i[1],r[o+2]=i[2];var l=255!==a[c+1],u=0!==a[c];r[o+3]=u?n:0,a[c+1]=n;var d=255!==n;d&&!l?++this._translucentFeaturesLength:!d&&l&&--this._translucentFeaturesLength,this._batchValuesDirty=!0,Object(h["a"])(this._colorChangedCallback)&&this._colorChangedCallback(t,e)}}},L.prototype.setAllColor=function(t){for(var e=this.featuresLength,i=0;i<e;++i)this.setColor(i,t)},L.prototype.getColor=function(t,e){if(!Object(h["a"])(this._batchValues))return s["a"].clone(V,e);var i=this._batchValues,n=4*t,r=this._showAlphaProperties,o=2*t;return s["a"].fromBytes(i[n],i[n+1],i[n+2],r[o+1],e)},L.prototype.getPickColor=function(t){return this._pickIds[t]};var q=new s["a"];function H(t,e){var i=t.typedArray,n=t.componentCount;return 1===n?i[e]:t.type.unpack(i,e*n)}function K(t,e,i){var n=t.typedArray,r=t.componentCount;1===r?n[e]=i:t.type.pack(i,n,e*r)}L.prototype.applyStyle=function(t){if(!Object(h["a"])(t))return this.setAllColor(V),void this.setAllShow(A);for(var e=this._content,i=this.featuresLength,n=0;n<i;++n){var r=e.getFeature(n),o=Object(h["a"])(t.color)?t.color.evaluateColor(r,q):V,a=Object(h["a"])(t.show)?t.show.evaluate(r):A;this.setColor(n,o),this.setShow(n,a)}};var G=[],Y=[],X=0;function Q(t,e,i){var n=t.classIds,r=t.parentCounts,o=t.parentIds,a=t.parentIndexes,s=n.length,c=G;c.length=Math.max(c.length,s);var l=++X,u=Y;u.length=0,u.push(e);while(u.length>0)if(e=u.pop(),c[e]!==l){c[e]=l;var d=i(t,e);if(Object(h["a"])(d))return d;for(var _=r[e],f=a[e],b=0;b<_;++b){var p=o[f+b];p!==e&&u.push(p)}}}function Z(t,e,i){var n=!0;while(n){var r=i(t,e);if(Object(h["a"])(r))return r;var o=t.parentIds[e];n=o!==e,e=o}}function J(t,e,i){var n=t.parentCounts,r=t.parentIds;return Object(h["a"])(r)?Object(h["a"])(n)?Q(t,e,i):Z(t,e,i):i(t,e)}function $(t,e,i){var n=t._batchTableHierarchy,r=J(n,e,(function(t,e){var n=t.classIds[e],r=t.classes[n].instances;if(Object(h["a"])(r[i]))return!0}));return Object(h["a"])(r)}function tt(t,e,i){var n=t._batchTableHierarchy;J(n,e,(function(t,e){var n=t.classIds[e],r=t.classes[n].instances;for(var o in r)r.hasOwnProperty(o)&&-1===i.indexOf(o)&&i.push(o)}))}function et(t,e,i){var n=t._batchTableHierarchy;return J(n,e,(function(t,e){var n=t.classIds[e],r=t.classes[n],o=t.classIndexes[e],s=r.instances[i];if(Object(h["a"])(s))return Object(h["a"])(s.typedArray)?H(s,o):Object(a["a"])(s[o],!0)}))}function it(t,e,i,n){var r=t._batchTableHierarchy,o=J(r,e,(function(t,e){var r=t.classIds[e],o=t.classes[r],s=t.classIndexes[e],c=o.instances[i];if(Object(h["a"])(c))return Object(h["a"])(c.typedArray)?K(c,s,n):c[s]=Object(a["a"])(n,!0),!0}));return Object(h["a"])(o)}function nt(t){return 1===t._textureDimensions.y?"uniform vec4 tile_textureStep; \nvec2 computeSt(float batchId) \n{ \n    float stepX = tile_textureStep.x; \n    float centerX = tile_textureStep.y; \n    return vec2(centerX + (batchId * stepX), 0.5); \n} \n":"uniform vec4 tile_textureStep; \nuniform vec2 tile_textureDimensions; \nvec2 computeSt(float batchId) \n{ \n    float stepX = tile_textureStep.x; \n    float centerX = tile_textureStep.y; \n    float stepY = tile_textureStep.z; \n    float centerY = tile_textureStep.w; \n    float xId = mod(batchId, tile_textureDimensions.x); \n    float yId = floor(batchId / tile_textureDimensions.x); \n    return vec2(centerX + (xId * stepX), centerY + (yId * stepY)); \n} \n"}function rt(t,e){return t=C["a"].replaceMain(t,"tile_main"),e?t+"uniform float tile_colorBlend; \nvoid tile_color(vec4 tile_featureColor) \n{ \n    tile_main(); \n    tile_featureColor = czm_gammaCorrect(tile_featureColor); \n    gl_FragColor.a *= tile_featureColor.a; \n    float highlight = ceil(tile_colorBlend); \n    gl_FragColor.rgb *= mix(tile_featureColor.rgb, vec3(1.0), highlight); \n} \n":t+"void tile_color(vec4 tile_featureColor) \n{ \n    tile_main(); \n} \n"}function ot(t,e){var i,n="texture2D("+e,r=0,o=t.indexOf(n,r);while(o>-1){for(var a=0,s=o;s<t.length;++s){var c=t.charAt(s);if("("===c)++a;else if(")"===c&&(--a,0===a)){i=s+1;break}}var l=t.slice(o,i),u="tile_diffuse_final("+l+", tile_diffuse)";t=t.slice(0,o)+u+t.slice(i),r=o+u.length,o=t.indexOf(n,r)}return t}function at(t,e,i){if(!Object(h["a"])(e))return rt(t,i);var n=new RegExp("(uniform|attribute|in)\\s+(vec[34]|sampler2D)\\s+"+e+";"),r=t.match(n);if(!Object(h["a"])(r))return rt(t,i);var o=r[0],a=r[2];t=C["a"].replaceMain(t,"tile_main"),t=t.replace(o,"");var s,c="bool isWhite(vec3 color) \n{ \n    return all(greaterThan(color, vec3(1.0 - czm_epsilon3))); \n} \nvec4 tile_diffuse_final(vec4 sourceDiffuse, vec4 tileDiffuse) \n{ \n    vec4 blendDiffuse = mix(sourceDiffuse, tileDiffuse, tile_colorBlend); \n    vec4 diffuse = isWhite(tileDiffuse.rgb) ? sourceDiffuse : blendDiffuse; \n    return vec4(diffuse.rgb, sourceDiffuse.a); \n} \n",l="    tile_featureColor = czm_gammaCorrect(tile_featureColor); \n    gl_FragColor.a *= tile_featureColor.a; \n    float highlight = ceil(tile_colorBlend); \n    gl_FragColor.rgb *= mix(tile_featureColor.rgb, vec3(1.0), highlight); \n";if("vec3"===a||"vec4"===a){var u="vec3"===a?"vec4("+e+", 1.0)":e,d="vec3"===a?"tile_diffuse.xyz":"tile_diffuse";n=new RegExp(e,"g"),t=t.replace(n,d),s="    vec4 source = "+u+"; \n    tile_diffuse = tile_diffuse_final(source, tile_featureColor); \n    tile_main(); \n"}else"sampler2D"===a&&(t=ot(t,e),s="    tile_diffuse = tile_featureColor; \n    tile_main(); \n");return t="uniform float tile_colorBlend; \nvec4 tile_diffuse = vec4(1.0); \n"+c+o+"\n"+t+"\nvoid tile_color(vec4 tile_featureColor) \n{ \n"+s,i&&(t+=l),t+="} \n",t}function st(t){var e=t._content.tileset,i=e.colorBlendMode,n=e.colorBlendAmount;return i===P["a"].HIGHLIGHT?0:i===P["a"].REPLACE?1:i===P["a"].MIX?f["a"].clamp(n,f["a"].EPSILON4,1):void 0}L.prototype.isClass=function(t,e){var i=this._batchTableHierarchy;if(!Object(h["a"])(i))return!1;var n=J(i,t,(function(t,i){var n=t.classIds[i],r=t.classes[n];if(r.name===e)return!0}));return Object(h["a"])(n)},L.prototype.isExactClass=function(t,e){return this.getExactClassName(t)===e},L.prototype.getExactClassName=function(t){var e=this._batchTableHierarchy;if(Object(h["a"])(e)){var i=e.classIds[t],n=e.classes[i];return n.name}},L.prototype.hasProperty=function(t,e){return Object(h["a"])(this._properties[e])||Object(h["a"])(this._batchTableHierarchy)&&$(this,t,e)},L.prototype.getPropertyNames=function(t,e){e=Object(h["a"])(e)?e:[],e.length=0;var i=Object.keys(this._properties);return e.push.apply(e,i),Object(h["a"])(this._batchTableHierarchy)&&tt(this,t,e),e},L.prototype.getProperty=function(t,e){if(Object(h["a"])(this._batchTableBinaryProperties)){var i=this._batchTableBinaryProperties[e];if(Object(h["a"])(i))return H(i,t)}var n=this._properties[e];if(Object(h["a"])(n))return Object(a["a"])(n[t],!0);if(Object(h["a"])(this._batchTableHierarchy)){var r=et(this,t,e);if(Object(h["a"])(r))return r}},L.prototype.setProperty=function(t,e,i){var n=this.featuresLength;if(Object(h["a"])(this._batchTableBinaryProperties)){var r=this._batchTableBinaryProperties[e];if(Object(h["a"])(r))return void K(r,t,i)}if(!Object(h["a"])(this._batchTableHierarchy)||!it(this,t,e,i)){var o=this._properties[e];Object(h["a"])(o)||(this._properties[e]=new Array(n),o=this._properties[e]),o[t]=Object(a["a"])(i,!0)}},L.prototype.getVertexShaderCallback=function(t,e,i){if(0!==this.featuresLength){var n=this;return function(r){var o,a=at(r,i,!1);return g["a"].maximumVertexTextureImageUnits>0?(o="",t&&(o+="uniform bool tile_translucentCommand; \n"),o+="uniform sampler2D tile_batchTexture; \nvarying vec4 tile_featureColor; \nvarying vec2 tile_featureSt; \nvoid main() \n{ \n    vec2 st = computeSt("+e+"); \n    vec4 featureProperties = texture2D(tile_batchTexture, st); \n    tile_color(featureProperties); \n    float show = ceil(featureProperties.a); \n    gl_Position *= show; \n",t&&(o+="    bool isStyleTranslucent = (featureProperties.a != 1.0); \n    if (czm_pass == czm_passTranslucent) \n    { \n        if (!isStyleTranslucent && !tile_translucentCommand) \n        { \n            gl_Position *= 0.0; \n        } \n    } \n    else \n    { \n        if (isStyleTranslucent) \n        { \n            gl_Position *= 0.0; \n        } \n    } \n"),o+="    tile_featureColor = featureProperties; \n    tile_featureSt = st; \n}"):o="varying vec2 tile_featureSt; \nvoid main() \n{ \n    tile_color(vec4(1.0)); \n    tile_featureSt = computeSt("+e+"); \n}",a+"\n"+nt(n)+o}}},L.prototype.getFragmentShaderCallback=function(t,e,i){if(0!==this.featuresLength)return function(n){return n=at(n,e,!0),g["a"].maximumVertexTextureImageUnits>0?(n+="uniform sampler2D tile_pickTexture; \nvarying vec2 tile_featureSt; \nvarying vec4 tile_featureColor; \nvoid main() \n{ \n    tile_color(tile_featureColor); \n",i&&(n+="    gl_FragColor.rgb *= gl_FragColor.a; \n"),n+="}"):(t&&(n+="uniform bool tile_translucentCommand; \n"),n+="uniform sampler2D tile_pickTexture; \nuniform sampler2D tile_batchTexture; \nvarying vec2 tile_featureSt; \nvoid main() \n{ \n    vec4 featureProperties = texture2D(tile_batchTexture, tile_featureSt); \n    if (featureProperties.a == 0.0) { \n        discard; \n    } \n",t&&(n+="    bool isStyleTranslucent = (featureProperties.a != 1.0); \n    if (czm_pass == czm_passTranslucent) \n    { \n        if (!isStyleTranslucent && !tile_translucentCommand) \n        { \n            discard; \n        } \n    } \n    else \n    { \n        if (isStyleTranslucent) \n        { \n            discard; \n        } \n    } \n"),n+="    tile_color(featureProperties); \n",i&&(n+="    gl_FragColor.rgb *= gl_FragColor.a; \n"),n+="} \n"),n}},L.prototype.getClassificationFragmentShaderCallback=function(){if(0!==this.featuresLength)return function(t){return t=C["a"].replaceMain(t,"tile_main"),g["a"].maximumVertexTextureImageUnits>0?t+="uniform sampler2D tile_pickTexture;\nvarying vec2 tile_featureSt; \nvarying vec4 tile_featureColor; \nvoid main() \n{ \n    tile_main(); \n    gl_FragColor = tile_featureColor; \n    gl_FragColor.rgb *= gl_FragColor.a; \n}":t+="uniform sampler2D tile_batchTexture; \nuniform sampler2D tile_pickTexture;\nvarying vec2 tile_featureSt; \nvoid main() \n{ \n    tile_main(); \n    vec4 featureProperties = texture2D(tile_batchTexture, tile_featureSt); \n    if (featureProperties.a == 0.0) { \n        discard; \n    } \n    gl_FragColor = featureProperties; \n    gl_FragColor.rgb *= gl_FragColor.a; \n} \n",t}},L.prototype.getUniformMapCallback=function(){if(0!==this.featuresLength){var t=this;return function(e){var i={tile_batchTexture:function(){return Object(u["a"])(t._batchTexture,t._defaultTexture)},tile_textureDimensions:function(){return t._textureDimensions},tile_textureStep:function(){return t._textureStep},tile_colorBlend:function(){return st(t)},tile_pickTexture:function(){return t._pickTexture}};return Object(c["a"])(e,i)}}},L.prototype.getPickId=function(){return"texture2D(tile_pickTexture, tile_featureSt)"};var ct={ALL_OPAQUE:0,ALL_TRANSLUCENT:1,OPAQUE_AND_TRANSLUCENT:2};function lt(t){var e=t._translucentFeaturesLength;return 0===e?ct.ALL_OPAQUE:e===t.featuresLength?ct.ALL_TRANSLUCENT:ct.OPAQUE_AND_TRANSLUCENT}function ut(t){var e=m["a"].shallowClone(t),i=e.pass===y["a"].TRANSLUCENT;return e.uniformMap=Object(h["a"])(e.uniformMap)?e.uniformMap:{},e.uniformMap.tile_translucentCommand=function(){return i},e}function ht(t){var e=m["a"].shallowClone(t);return e.pass=y["a"].TRANSLUCENT,e.renderState=gt(t.renderState),e}function dt(t){var e=m["a"].shallowClone(t);return e.renderState=mt(t.renderState),e}function _t(t,e){var i=t.shaderCache.getDerivedShaderProgram(e,"zBackfaceLogDepth");if(!Object(h["a"])(i)){var n=e.fragmentShaderSource.clone();n.defines=Object(h["a"])(n.defines)?n.defines.slice(0):[],n.defines.push("POLYGON_OFFSET"),n.sources.unshift("#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n#endif\n"),i=t.shaderCache.createDerivedShaderProgram(e,"zBackfaceLogDepth",{vertexShaderSource:e.vertexShaderSource,fragmentShaderSource:n,attributeLocations:e._attributeLocations})}return i}function ft(t,e){var i=m["a"].shallowClone(e),n=Object(a["a"])(i.renderState,!0);n.cull.enabled=!0,n.cull.face=x["a"].FRONT,n.colorMask={red:!1,green:!1,blue:!1,alpha:!1},n.polygonOffset={enabled:!0,factor:5,units:5},n.stencilTest=I["a"].setCesium3DTileBit(),n.stencilMask=I["a"].CESIUM_3D_TILE_MASK,i.renderState=O["a"].fromCache(n),i.castShadows=!1,i.receiveShadows=!1,i.uniformMap=Object(a["a"])(e.uniformMap);var o=new r["a"](5,5);return i.uniformMap.u_polygonOffset=function(){return o},i.shaderProgram=_t(t,e.shaderProgram),i}function bt(t,e){var i=m["a"].shallowClone(t),n=Object(a["a"])(i.renderState,!0);return n.stencilTest.enabled=!0,n.stencilTest.mask=I["a"].SKIP_LOD_MASK,n.stencilTest.reference=I["a"].CESIUM_3D_TILE_MASK|e<<I["a"].SKIP_LOD_BIT_SHIFT,n.stencilTest.frontFunction=w["a"].GREATER_OR_EQUAL,n.stencilTest.frontOperation.zPass=R["a"].REPLACE,n.stencilTest.backFunction=w["a"].GREATER_OR_EQUAL,n.stencilTest.backOperation.zPass=R["a"].REPLACE,n.stencilMask=I["a"].CESIUM_3D_TILE_MASK|I["a"].SKIP_LOD_MASK,i.renderState=O["a"].fromCache(n),i}function pt(t){var e=t.renderState.stencilTest.reference;return(e&I["a"].SKIP_LOD_MASK)>>>I["a"].SKIP_LOD_BIT_SHIFT}function gt(t){var e=Object(a["a"])(t,!0);return e.cull.enabled=!1,e.depthTest.enabled=!0,e.depthMask=!1,e.blending=D["a"].ALPHA_BLEND,e.stencilTest=I["a"].setCesium3DTileBit(),e.stencilMask=I["a"].CESIUM_3D_TILE_MASK,O["a"].fromCache(e)}function mt(t){var e=Object(a["a"])(t,!0);return e.stencilTest=I["a"].setCesium3DTileBit(),e.stencilMask=I["a"].CESIUM_3D_TILE_MASK,O["a"].fromCache(e)}function yt(t,e,i){var n=t._textureDimensions;return new T["a"]({context:e,pixelFormat:b["a"].RGBA,pixelDatatype:v["a"].UNSIGNED_BYTE,source:{width:n.x,height:n.y,arrayBufferView:i},flipY:!1,sampler:S["a"].NEAREST})}function vt(t,e){var i=t.featuresLength;if(!Object(h["a"])(t._pickTexture)&&i>0){for(var n=t._pickIds,r=M(t),o=new Uint8Array(r),a=t._content,c=0;c<i;++c){var l=e.createPickId(a.getFeature(c));n.push(l);var u=l.color,d=4*c;o[d]=s["a"].floatToByte(u.red),o[d+1]=s["a"].floatToByte(u.green),o[d+2]=s["a"].floatToByte(u.blue),o[d+3]=s["a"].floatToByte(u.alpha)}t._pickTexture=yt(t,e,o),a.tileset._statistics.batchTableByteLength+=t._pickTexture.sizeInBytes}}function Ot(t){var e=t._textureDimensions;t._batchTexture.copyFrom({width:e.x,height:e.y,arrayBufferView:t._batchValues})}L.prototype.addDerivedCommands=function(t,e){for(var i=t.commandList,n=i.length,r=this._content._tile,o=r._finalResolution,a=r.tileset,s=a._skipLevelOfDetail&&a._hasMixedContent&&t.context.stencilBuffer,c=lt(this),l=e;l<n;++l){var u=i[l],d=u.derivedCommands.tileset;Object(h["a"])(d)&&!u.dirty||(d={},u.derivedCommands.tileset=d,d.originalCommand=ut(u),u.dirty=!1);var _=d.originalCommand;c!==ct.ALL_OPAQUE&&u.pass!==y["a"].TRANSLUCENT&&(Object(h["a"])(d.translucent)||(d.translucent=ht(_))),c!==ct.ALL_TRANSLUCENT&&u.pass!==y["a"].TRANSLUCENT&&(Object(h["a"])(d.opaque)||(d.opaque=dt(_)),s&&(o||(Object(h["a"])(d.zback)||(d.zback=ft(t.context,_)),a._backfaceCommands.push(d.zback)),Object(h["a"])(d.stencil)&&r._selectionDepth===pt(d.stencil)||(u.renderState.depthMask?d.stencil=bt(_,r._selectionDepth):d.stencil=d.opaque)));var f=s?d.stencil:d.opaque,b=d.translucent;u.pass!==y["a"].TRANSLUCENT?(c===ct.ALL_OPAQUE&&(i[l]=f),c===ct.ALL_TRANSLUCENT&&(i[l]=b),c===ct.OPAQUE_AND_TRANSLUCENT&&(i[l]=f,i.push(b))):i[l]=_}},L.prototype.update=function(t,e){var i=e.context;this._defaultTexture=i.defaultTexture;var n=e.passes;(n.pick||n.postProcess)&&vt(this,i),this._batchValuesDirty&&(this._batchValuesDirty=!1,Object(h["a"])(this._batchTexture)||(this._batchTexture=yt(this,i,this._batchValues),t._statistics.batchTableByteLength+=this._batchTexture.sizeInBytes),Ot(this))},L.prototype.isDestroyed=function(){return!1},L.prototype.destroy=function(){this._batchTexture=this._batchTexture&&this._batchTexture.destroy(),this._pickTexture=this._pickTexture&&this._pickTexture.destroy();for(var t=this._pickIds,e=t.length,i=0;i<e;++i)t[i].destroy();return Object(_["a"])(this)},e["a"]=L},"73cd":function(t,e,i){"use strict";var n=i("dc1c"),r=i("535a"),o=i("2f63"),a=i("d4ed"),s=i("a58e"),c=i("a5e0"),l=i("6928");function u(t){var e;if(this._style={},this._ready=!1,this._show=void 0,this._color=void 0,this._pointSize=void 0,this._pointOutlineColor=void 0,this._pointOutlineWidth=void 0,this._labelColor=void 0,this._labelOutlineColor=void 0,this._labelOutlineWidth=void 0,this._font=void 0,this._labelStyle=void 0,this._labelText=void 0,this._backgroundColor=void 0,this._backgroundPadding=void 0,this._backgroundEnabled=void 0,this._scaleByDistance=void 0,this._translucencyByDistance=void 0,this._distanceDisplayCondition=void 0,this._heightOffset=void 0,this._anchorLineEnabled=void 0,this._anchorLineColor=void 0,this._image=void 0,this._disableDepthTestDistance=void 0,this._horizontalOrigin=void 0,this._verticalOrigin=void 0,this._labelHorizontalOrigin=void 0,this._labelVerticalOrigin=void 0,this._meta=void 0,this._colorShaderFunction=void 0,this._showShaderFunction=void 0,this._pointSizeShaderFunction=void 0,this._colorShaderFunctionReady=!1,this._showShaderFunctionReady=!1,this._pointSizeShaderFunctionReady=!1,this._colorShaderTranslucent=!1,"string"===typeof t||t instanceof a["a"]){var i=a["a"].createIfNeeded(t);e=i.fetchJson(t)}else e=s["a"].resolve(t);var n=this;this._readyPromise=e.then((function(t){return h(n,t),n}))}function h(t,e){e=Object(r["a"])(Object(n["a"])(e,!0),t._style),t._style=e,t.show=e.show,t.color=e.color,t.pointSize=e.pointSize,t.pointOutlineColor=e.pointOutlineColor,t.pointOutlineWidth=e.pointOutlineWidth,t.labelColor=e.labelColor,t.labelOutlineColor=e.labelOutlineColor,t.labelOutlineWidth=e.labelOutlineWidth,t.labelStyle=e.labelStyle,t.font=e.font,t.labelText=e.labelText,t.backgroundColor=e.backgroundColor,t.backgroundPadding=e.backgroundPadding,t.backgroundEnabled=e.backgroundEnabled,t.scaleByDistance=e.scaleByDistance,t.translucencyByDistance=e.translucencyByDistance,t.distanceDisplayCondition=e.distanceDisplayCondition,t.heightOffset=e.heightOffset,t.anchorLineEnabled=e.anchorLineEnabled,t.anchorLineColor=e.anchorLineColor,t.image=e.image,t.disableDepthTestDistance=e.disableDepthTestDistance,t.horizontalOrigin=e.horizontalOrigin,t.verticalOrigin=e.verticalOrigin,t.labelHorizontalOrigin=e.labelHorizontalOrigin,t.labelVerticalOrigin=e.labelVerticalOrigin;var i={};if(Object(o["a"])(e.meta)){var a=e.defines,s=Object(r["a"])(e.meta,r["a"].EMPTY_OBJECT);for(var c in s)s.hasOwnProperty(c)&&(i[c]=new l["a"](s[c],a))}t._meta=i,t._ready=!0}function d(t,e){var i=Object(r["a"])(t._style,r["a"].EMPTY_OBJECT).defines;if(Object(o["a"])(e))return"boolean"===typeof e||"number"===typeof e?new l["a"](String(e)):"string"===typeof e?new l["a"](e,i):Object(o["a"])(e.conditions)?new c["a"](e,i):e}function _(t){if(Object(o["a"])(t))return Object(o["a"])(t.expression)?t.expression:Object(o["a"])(t.conditionsExpression)?Object(n["a"])(t.conditionsExpression,!0):t}Object.defineProperties(u.prototype,{style:{get:function(){return this._style}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise}},show:{get:function(){return this._show},set:function(t){this._show=d(this,t),this._style.show=_(this._show),this._showShaderFunctionReady=!1}},color:{get:function(){return this._color},set:function(t){this._color=d(this,t),this._style.color=_(this._color),this._colorShaderFunctionReady=!1}},pointSize:{get:function(){return this._pointSize},set:function(t){this._pointSize=d(this,t),this._style.pointSize=_(this._pointSize),this._pointSizeShaderFunctionReady=!1}},pointOutlineColor:{get:function(){return this._pointOutlineColor},set:function(t){this._pointOutlineColor=d(this,t),this._style.pointOutlineColor=_(this._pointOutlineColor)}},pointOutlineWidth:{get:function(){return this._pointOutlineWidth},set:function(t){this._pointOutlineWidth=d(this,t),this._style.pointOutlineWidth=_(this._pointOutlineWidth)}},labelColor:{get:function(){return this._labelColor},set:function(t){this._labelColor=d(this,t),this._style.labelColor=_(this._labelColor)}},labelOutlineColor:{get:function(){return this._labelOutlineColor},set:function(t){this._labelOutlineColor=d(this,t),this._style.labelOutlineColor=_(this._labelOutlineColor)}},labelOutlineWidth:{get:function(){return this._labelOutlineWidth},set:function(t){this._labelOutlineWidth=d(this,t),this._style.labelOutlineWidth=_(this._labelOutlineWidth)}},font:{get:function(){return this._font},set:function(t){this._font=d(this,t),this._style.font=_(this._font)}},labelStyle:{get:function(){return this._labelStyle},set:function(t){this._labelStyle=d(this,t),this._style.labelStyle=_(this._labelStyle)}},labelText:{get:function(){return this._labelText},set:function(t){this._labelText=d(this,t),this._style.labelText=_(this._labelText)}},backgroundColor:{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=d(this,t),this._style.backgroundColor=_(this._backgroundColor)}},backgroundPadding:{get:function(){return this._backgroundPadding},set:function(t){this._backgroundPadding=d(this,t),this._style.backgroundPadding=_(this._backgroundPadding)}},backgroundEnabled:{get:function(){return this._backgroundEnabled},set:function(t){this._backgroundEnabled=d(this,t),this._style.backgroundEnabled=_(this._backgroundEnabled)}},scaleByDistance:{get:function(){return this._scaleByDistance},set:function(t){this._scaleByDistance=d(this,t),this._style.scaleByDistance=_(this._scaleByDistance)}},translucencyByDistance:{get:function(){return this._translucencyByDistance},set:function(t){this._translucencyByDistance=d(this,t),this._style.translucencyByDistance=_(this._translucencyByDistance)}},distanceDisplayCondition:{get:function(){return this._distanceDisplayCondition},set:function(t){this._distanceDisplayCondition=d(this,t),this._style.distanceDisplayCondition=_(this._distanceDisplayCondition)}},heightOffset:{get:function(){return this._heightOffset},set:function(t){this._heightOffset=d(this,t),this._style.heightOffset=_(this._heightOffset)}},anchorLineEnabled:{get:function(){return this._anchorLineEnabled},set:function(t){this._anchorLineEnabled=d(this,t),this._style.anchorLineEnabled=_(this._anchorLineEnabled)}},anchorLineColor:{get:function(){return this._anchorLineColor},set:function(t){this._anchorLineColor=d(this,t),this._style.anchorLineColor=_(this._anchorLineColor)}},image:{get:function(){return this._image},set:function(t){this._image=d(this,t),this._style.image=_(this._image)}},disableDepthTestDistance:{get:function(){return this._disableDepthTestDistance},set:function(t){this._disableDepthTestDistance=d(this,t),this._style.disableDepthTestDistance=_(this._disableDepthTestDistance)}},horizontalOrigin:{get:function(){return this._horizontalOrigin},set:function(t){this._horizontalOrigin=d(this,t),this._style.horizontalOrigin=_(this._horizontalOrigin)}},verticalOrigin:{get:function(){return this._verticalOrigin},set:function(t){this._verticalOrigin=d(this,t),this._style.verticalOrigin=_(this._verticalOrigin)}},labelHorizontalOrigin:{get:function(){return this._labelHorizontalOrigin},set:function(t){this._labelHorizontalOrigin=d(this,t),this._style.labelHorizontalOrigin=_(this._labelHorizontalOrigin)}},labelVerticalOrigin:{get:function(){return this._labelVerticalOrigin},set:function(t){this._labelVerticalOrigin=d(this,t),this._style.labelVerticalOrigin=_(this._labelVerticalOrigin)}},meta:{get:function(){return this._meta},set:function(t){this._meta=t}}}),u.prototype.getColorShaderFunction=function(t,e,i){return this._colorShaderFunctionReady?(i.translucent=this._colorShaderTranslucent,this._colorShaderFunction):(this._colorShaderFunctionReady=!0,this._colorShaderFunction=Object(o["a"])(this.color)?this.color.getShaderFunction(t,e,i,"vec4"):void 0,this._colorShaderTranslucent=i.translucent,this._colorShaderFunction)},u.prototype.getShowShaderFunction=function(t,e,i){return this._showShaderFunctionReady||(this._showShaderFunctionReady=!0,this._showShaderFunction=Object(o["a"])(this.show)?this.show.getShaderFunction(t,e,i,"bool"):void 0),this._showShaderFunction},u.prototype.getPointSizeShaderFunction=function(t,e,i){return this._pointSizeShaderFunctionReady||(this._pointSizeShaderFunctionReady=!0,this._pointSizeShaderFunction=Object(o["a"])(this.pointSize)?this.pointSize.getShaderFunction(t,e,i,"float"):void 0),this._pointSizeShaderFunction},e["a"]=u},7950:function(t,e,i){"use strict";var n=i("bef8"),r=i("bd8d"),o=i("535a"),a=i("2f63"),s=i("add9");function c(t,e,i,n,r){this._content=t,this._billboard=i,this._label=n,this._polyline=r,this._batchId=e,this._billboardImage=void 0,this._billboardColor=void 0,this._billboardOutlineColor=void 0,this._billboardOutlineWidth=void 0,this._billboardSize=void 0,this._pointSize=void 0,this._color=void 0,this._pointSize=void 0,this._pointOutlineColor=void 0,this._pointOutlineWidth=void 0,this._heightOffset=void 0,this._pickIds=new Array(3),u(this)}var l=new n["a"];function u(t){var e=t._billboard;if(Object(a["a"])(t._billboardImage)&&t._billboardImage!==e.image)e.image=t._billboardImage;else if(!Object(a["a"])(t._billboardImage)){var i=Object(o["a"])(t._color,c.defaultColor),n=Object(o["a"])(t._pointOutlineColor,c.defaultPointOutlineColor),l=Object(o["a"])(t._pointOutlineWidth,c.defaultPointOutlineWidth),u=Object(o["a"])(t._pointSize,c.defaultPointSize),h=t._billboardColor,d=t._billboardOutlineColor,_=t._billboardOutlineWidth,f=t._billboardSize;if(!r["a"].equals(i,h)||!r["a"].equals(n,d)||l!==_||u!==f){t._billboardColor=r["a"].clone(i,t._billboardColor),t._billboardOutlineColor=r["a"].clone(n,t._billboardOutlineColor),t._billboardOutlineWidth=l,t._billboardSize=u;var b=i.alpha,p=i.toCssColorString(),g=n.toCssColorString(),m=JSON.stringify([p,u,g,l]);e.setImage(m,Object(s["a"])(b,p,g,l,u))}}}Object.defineProperties(c.prototype,{show:{get:function(){return this._label.show},set:function(t){this._label.show=t,this._billboard.show=t,this._polyline.show=t}},color:{get:function(){return this._color},set:function(t){this._color=r["a"].clone(t,this._color),u(this)}},pointSize:{get:function(){return this._pointSize},set:function(t){this._pointSize=t,u(this)}},pointOutlineColor:{get:function(){return this._pointOutlineColor},set:function(t){this._pointOutlineColor=r["a"].clone(t,this._pointOutlineColor),u(this)}},pointOutlineWidth:{get:function(){return this._pointOutlineWidth},set:function(t){this._pointOutlineWidth=t,u(this)}},labelColor:{get:function(){return this._label.fillColor},set:function(t){this._label.fillColor=t,this._polyline.show=this._label.show&&t.alpha>0}},labelOutlineColor:{get:function(){return this._label.outlineColor},set:function(t){this._label.outlineColor=t}},labelOutlineWidth:{get:function(){return this._label.outlineWidth},set:function(t){this._label.outlineWidth=t}},font:{get:function(){return this._label.font},set:function(t){this._label.font=t}},labelStyle:{get:function(){return this._label.style},set:function(t){this._label.style=t}},labelText:{get:function(){return this._label.text},set:function(t){Object(a["a"])(t)||(t=""),this._label.text=t}},backgroundColor:{get:function(){return this._label.backgroundColor},set:function(t){this._label.backgroundColor=t}},backgroundPadding:{get:function(){return this._label.backgroundPadding},set:function(t){this._label.backgroundPadding=t}},backgroundEnabled:{get:function(){return this._label.showBackground},set:function(t){this._label.showBackground=t}},scaleByDistance:{get:function(){return this._label.scaleByDistance},set:function(t){this._label.scaleByDistance=t,this._billboard.scaleByDistance=t}},translucencyByDistance:{get:function(){return this._label.translucencyByDistance},set:function(t){this._label.translucencyByDistance=t,this._billboard.translucencyByDistance=t}},distanceDisplayCondition:{get:function(){return this._label.distanceDisplayCondition},set:function(t){this._label.distanceDisplayCondition=t,this._polyline.distanceDisplayCondition=t,this._billboard.distanceDisplayCondition=t}},heightOffset:{get:function(){return this._heightOffset},set:function(t){var e=Object(o["a"])(this._heightOffset,0),i=this._content.tileset.ellipsoid,n=i.cartesianToCartographic(this._billboard.position,l);n.height=n.height-e+t;var r=i.cartographicToCartesian(n);this._billboard.position=r,this._label.position=this._billboard.position,this._polyline.positions=[this._polyline.positions[0],r],this._heightOffset=t}},anchorLineEnabled:{get:function(){return this._polyline.show},set:function(t){this._polyline.show=t}},anchorLineColor:{get:function(){return this._polyline.material.uniforms.color},set:function(t){this._polyline.material.uniforms.color=r["a"].clone(t,this._polyline.material.uniforms.color)}},image:{get:function(){return this._billboardImage},set:function(t){var e=this._billboardImage!==t;this._billboardImage=t,e&&u(this)}},disableDepthTestDistance:{get:function(){return this._label.disableDepthTestDistance},set:function(t){this._label.disableDepthTestDistance=t,this._billboard.disableDepthTestDistance=t}},horizontalOrigin:{get:function(){return this._billboard.horizontalOrigin},set:function(t){this._billboard.horizontalOrigin=t}},verticalOrigin:{get:function(){return this._billboard.verticalOrigin},set:function(t){this._billboard.verticalOrigin=t}},labelHorizontalOrigin:{get:function(){return this._label.horizontalOrigin},set:function(t){this._label.horizontalOrigin=t}},labelVerticalOrigin:{get:function(){return this._label.verticalOrigin},set:function(t){this._label.verticalOrigin=t}},content:{get:function(){return this._content}},tileset:{get:function(){return this._content.tileset}},primitive:{get:function(){return this._content.tileset}},pickIds:{get:function(){var t=this._pickIds;return t[0]=this._billboard.pickId,t[1]=this._label.pickId,t[2]=this._polyline.pickId,t}}}),c.defaultColor=r["a"].WHITE,c.defaultPointOutlineColor=r["a"].BLACK,c.defaultPointOutlineWidth=0,c.defaultPointSize=8,c.prototype.hasProperty=function(t){return this._content.batchTable.hasProperty(this._batchId,t)},c.prototype.getPropertyNames=function(t){return this._content.batchTable.getPropertyNames(this._batchId,t)},c.prototype.getProperty=function(t){return this._content.batchTable.getProperty(this._batchId,t)},c.prototype.setProperty=function(t,e){this._content.batchTable.setProperty(this._batchId,t,e),this._content.featurePropertiesDirty=!0},c.prototype.isExactClass=function(t){return this._content.batchTable.isExactClass(this._batchId,t)},c.prototype.isClass=function(t){return this._content.batchTable.isClass(this._batchId,t)},c.prototype.getExactClassName=function(){return this._content.batchTable.getExactClassName(this._batchId)},e["a"]=c},"7abe":function(t,e,i){"use strict";var n={UNLOADED:0,LOADING:1,PROCESSING:2,READY:3,EXPIRED:4,FAILED:5};e["a"]=Object.freeze(n)},9889:function(t,e,i){"use strict";var n=i("abab"),r=i("535a"),o=i("2f63");function a(t,e){this.json=t,this.buffer=e,this._cachedTypedArrays={},this.featuresLength=0}function s(t,e,i,r,a,s){var c=t._cachedTypedArrays,l=c[e];return Object(o["a"])(l)||(l=n["a"].createArrayBufferView(i,t.buffer.buffer,t.buffer.byteOffset+s,a*r),c[e]=l),l}function c(t,e,i,r){var a=t._cachedTypedArrays,s=a[e];return Object(o["a"])(s)||(s=n["a"].createTypedArray(i,r),a[e]=s),s}a.prototype.getGlobalProperty=function(t,e,i){var a=this.json[t];if(Object(o["a"])(a))return Object(o["a"])(a.byteOffset)?(e=Object(r["a"])(e,n["a"].UNSIGNED_INT),i=Object(r["a"])(i,1),s(this,t,e,i,1,a.byteOffset)):a},a.prototype.getPropertyArray=function(t,e,i){var r=this.json[t];if(Object(o["a"])(r))return Object(o["a"])(r.byteOffset)?(Object(o["a"])(r.componentType)&&(e=n["a"].fromName(r.componentType)),s(this,t,e,i,this.featuresLength,r.byteOffset)):c(this,t,e,r)},a.prototype.getProperty=function(t,e,i,n,r){var a=this.json[t];if(Object(o["a"])(a)){var s=this.getPropertyArray(t,e,i);if(1===i)return s[n];for(var c=0;c<i;++c)r[c]=s[i*n+c];return r}},e["a"]=a},"9c94":function(t,e,i){"use strict";var n=i("61aa"),r=i("c2ce"),o=i("09e7"),a=i("490e"),s=i("a994"),c=i("3995"),l=i("364c"),u={b3dm:function(t,e,i,r,o){return new n["a"](t,e,i,r,o)},pnts:function(t,e,i,n,r){return new s["a"](t,e,i,n,r)},i3dm:function(t,e,i,n,r){return new a["a"](t,e,i,n,r)},cmpt:function(t,e,i,n,o){return new r["a"](t,e,i,n,o,u)},json:function(t,e,i,n,r){return new c["a"](t,e,i,n,r)},geom:function(t,e,i,n,r){return new o["a"](t,e,i,n,r)},vctr:function(t,e,i,n,r){return new l["a"](t,e,i,n,r)}};e["a"]=u},"9e51":function(t,e,i){"use strict";var n=i("2f63");function r(){this._style=void 0,this._styleDirty=!1,this._lastStyleTime=0}Object.defineProperties(r.prototype,{style:{get:function(){return this._style},set:function(t){t!==this._style&&(this._style=t,this._styleDirty=!0)}}}),r.prototype.makeDirty=function(){this._styleDirty=!0},r.prototype.resetDirty=function(){this._styleDirty=!1},r.prototype.applyStyle=function(t){if(t.ready&&(!Object(n["a"])(this._style)||this._style.ready)){var e=this._styleDirty;e&&++this._lastStyleTime;for(var i=this._lastStyleTime,r=t._statistics,o=e?t._selectedTiles:t._selectedTilesToStyle,a=o.length,s=0;s<a;++s){var c=o[s];if(c.lastStyleTime!==i){var l=c.content;c.lastStyleTime=i,l.applyStyle(this._style),r.numberOfFeaturesStyled+=l.featuresLength,++r.numberOfTilesStyled}}}},e["a"]=r},"9f0f":function(t,e,i){"use strict";var n=i("be18"),r=i("6380"),o=i("1ec0"),a=i("8cfb"),s={},c=new n["a"];s.checkChildrenWithinParent=function(t){var e=t.children,i=e.length,s=t.boundingVolume;if(s instanceof a["a"]||s instanceof o["a"]){var l=s._orientedBoundingBox;t._optimChildrenWithinParent=r["a"].USE_OPTIMIZATION;for(var u=0;u<i;++u){var h=e[u],d=h.boundingVolume;if(!(d instanceof a["a"]||d instanceof o["a"])){t._optimChildrenWithinParent=r["a"].SKIP_OPTIMIZATION;break}var _=d._orientedBoundingBox,f=n["a"].subtract(_.center,l.center,c),b=n["a"].magnitude(f);n["a"].divideByScalar(f,b,f);var p=Math.abs(l.halfAxes[0]*f.x)+Math.abs(l.halfAxes[1]*f.y)+Math.abs(l.halfAxes[2]*f.z)+Math.abs(l.halfAxes[3]*f.x)+Math.abs(l.halfAxes[4]*f.y)+Math.abs(l.halfAxes[5]*f.z)+Math.abs(l.halfAxes[6]*f.x)+Math.abs(l.halfAxes[7]*f.y)+Math.abs(l.halfAxes[8]*f.z),g=Math.abs(_.halfAxes[0]*f.x)+Math.abs(_.halfAxes[1]*f.y)+Math.abs(_.halfAxes[2]*f.z)+Math.abs(_.halfAxes[3]*f.x)+Math.abs(_.halfAxes[4]*f.y)+Math.abs(_.halfAxes[5]*f.z)+Math.abs(_.halfAxes[6]*f.x)+Math.abs(_.halfAxes[7]*f.y)+Math.abs(_.halfAxes[8]*f.z);if(p<=g+b){t._optimChildrenWithinParent=r["a"].SKIP_OPTIMIZATION;break}}}return t._optimChildrenWithinParent===r["a"].USE_OPTIMIZATION},e["a"]=s},c0a9:function(t,e,i){"use strict";var n=i("cef5"),r=i("be18"),o=i("bd8d"),a=i("9541"),s=i("2384"),c=i("535a"),l=i("2f63"),u=i("45c5"),h=i("7d62"),d=i("c52f"),_=i("974b"),f=i("66bf"),b=i("5ed2"),p=i("93da"),g=i("df07"),m=i("52f0"),y=i("78e5"),v=i("713f"),O=i("eace"),S=i("de66"),C=i("75b2"),T=i("8a39"),E=i("b82e"),D=i("d4ed"),P=i("283e"),x=i("a58e"),j=i("9c94"),I=i("7abe"),w=i("6380"),R=i("d150"),V=i("c4a1"),A=i("c872"),L=i("a307"),B=i("1ec0"),k=i("eb1f"),z=i("8cfb"),N=i("d289");function M(t,e,i,n){this._tileset=t,this._header=i;var r=i.content;this.transform=Object(l["a"])(i.transform)?m["a"].unpack(i.transform):m["a"].clone(m["a"].IDENTITY);var a,s,c,u,h,d,_,f,p=Object(l["a"])(n)?n.computedTransform:t.modelMatrix,g=m["a"].multiply(p,this.transform,new m["a"]),y=Object(l["a"])(n)?n._initialTransform:m["a"].IDENTITY;if(this._initialTransform=m["a"].multiply(y,this.transform,new m["a"]),this.computedTransform=g,this._boundingVolume=this.createBoundingVolume(i.boundingVolume,g),this._boundingVolume2D=void 0,Object(l["a"])(r)&&Object(l["a"])(r.boundingVolume)&&(a=this.createBoundingVolume(r.boundingVolume,g)),this._contentBoundingVolume=a,this._contentBoundingVolume2D=void 0,Object(l["a"])(i.viewerRequestVolume)&&(s=this.createBoundingVolume(i.viewerRequestVolume,g)),this._viewerRequestVolume=s,this.geometricError=i.geometricError,this._geometricError=i.geometricError,Object(l["a"])(this._geometricError)||(this._geometricError=Object(l["a"])(n)?n.geometricError:t._geometricError,M._deprecationWarning("geometricErrorUndefined","Required property geometricError is undefined for this tile. Using parent's geometric error instead.")),this.updateGeometricErrorScale(),Object(l["a"])(i.refine)?("replace"!==i.refine&&"add"!==i.refine||M._deprecationWarning("lowercase-refine",'This tile uses a lowercase refine "'+i.refine+'". Instead use "'+i.refine.toUpperCase()+'".'),c="REPLACE"===i.refine.toUpperCase()?V["a"].REPLACE:V["a"].ADD):c=Object(l["a"])(n)?n.refine:V["a"].REPLACE,this.refine=c,this.children=[],this.parent=n,e=D["a"].createIfNeeded(e),Object(l["a"])(r)){var v=r.uri;Object(l["a"])(r.url)&&(M._deprecationWarning("contentUrl",'This tileset JSON uses the "content.url" property which has been deprecated. Use "content.uri" instead.'),v=r.url),h=!1,d=I["a"].UNLOADED,_=e.getDerivedResource({url:v}),f=C["a"].getServerKey(_.getUrlComponent())}else u=new A["a"](t,this),h=!0,d=I["a"].READY;this._content=u,this._contentResource=_,this._contentState=d,this._contentReadyToProcessPromise=void 0,this._contentReadyPromise=void 0,this._expiredContent=void 0,this._serverKey=f,this.hasEmptyContent=h,this.hasTilesetContent=!1,this.cacheNode=void 0;var O,S,T=i.expire;Object(l["a"])(T)&&(O=T.duration,Object(l["a"])(T.date)&&(S=b["a"].fromIso8601(T.date))),this.expireDuration=O,this.expireDate=S,this.lastStyleTime=0,this._optimChildrenWithinParent=w["a"].NOT_COMPUTED,this.clippingPlanesDirty=!1,this.priorityDeferred=!1,this._distanceToCamera=0,this._centerZDepth=0,this._screenSpaceError=0,this._screenSpaceErrorProgressiveResolution=0,this._visibilityPlaneMask=0,this._visible=!1,this._inRequestVolume=!1,this._finalResolution=!0,this._depth=0,this._stackLength=0,this._selectionDepth=0,this._updatedVisibilityFrame=0,this._touchedFrame=0,this._visitedFrame=0,this._selectedFrame=0,this._requestedFrame=0,this._ancestorWithContent=void 0,this._ancestorWithContentAvailable=void 0,this._refines=!1,this._shouldSelect=!1,this._isClipped=!0,this._clippingPlanesState=0,this._debugBoundingVolume=void 0,this._debugContentBoundingVolume=void 0,this._debugViewerRequestVolume=void 0,this._debugColor=o["a"].fromRandom({alpha:1}),this._debugColorizeTiles=!1,this._priority=0,this._priorityHolder=this,this._priorityProgressiveResolution=!1,this._priorityProgressiveResolutionScreenSpaceErrorLeaf=!1,this._priorityReverseScreenSpaceError=0,this._foveatedFactor=0,this._wasMinPriorityChild=!1,this._loadTimestamp=new b["a"],this._commandsLength=0,this._color=void 0,this._colorDirty=!1,this._request=void 0}M._deprecationWarning=u["a"],Object.defineProperties(M.prototype,{tileset:{get:function(){return this._tileset}},content:{get:function(){return this._content}},boundingVolume:{get:function(){return this._boundingVolume}},contentBoundingVolume:{get:function(){return Object(c["a"])(this._contentBoundingVolume,this._boundingVolume)}},boundingSphere:{get:function(){return this._boundingVolume.boundingSphere}},extras:{get:function(){return this._header.extras}},color:{get:function(){return Object(l["a"])(this._color)||(this._color=new o["a"]),o["a"].clone(this._color)},set:function(t){this._color=o["a"].clone(t,this._color),this._colorDirty=!0}},contentAvailable:{get:function(){return this.contentReady&&!this.hasEmptyContent&&!this.hasTilesetContent||Object(l["a"])(this._expiredContent)&&!this.contentFailed}},contentReady:{get:function(){return this._contentState===I["a"].READY}},contentUnloaded:{get:function(){return this._contentState===I["a"].UNLOADED}},contentExpired:{get:function(){return this._contentState===I["a"].EXPIRED}},contentFailed:{get:function(){return this._contentState===I["a"].FAILED}},contentReadyToProcessPromise:{get:function(){if(Object(l["a"])(this._contentReadyToProcessPromise))return this._contentReadyToProcessPromise.promise}},contentReadyPromise:{get:function(){if(Object(l["a"])(this._contentReadyPromise))return this._contentReadyPromise.promise}},commandsLength:{get:function(){return this._commandsLength}}});var F=new r["a"];function U(t,e){var i=t._tileset,n=e.camera,o=t.boundingSphere,a=o.radius,s=r["a"].multiplyByScalar(n.directionWC,t._centerZDepth,F),c=r["a"].add(n.positionWC,s,F),u=r["a"].subtract(c,o.center,F),h=r["a"].magnitude(u),d=h>a;if(d){var _=r["a"].normalize(u,F),f=r["a"].multiplyByScalar(_,a,F),b=r["a"].add(o.center,f,F),g=r["a"].subtract(b,n.positionWC,F),m=r["a"].normalize(g,F);t._foveatedFactor=1-Math.abs(r["a"].dot(n.directionWC,m))}else t._foveatedFactor=0;var y=t.refine===V["a"].REPLACE,v=i._skipLevelOfDetail;if(y&&!v||!i.foveatedScreenSpaceError||1===i.foveatedConeSize||t._priorityProgressiveResolution&&y&&v||i._pass===R["a"].PRELOAD_FLIGHT||i._pass===R["a"].PRELOAD)return!1;var O=1-Math.cos(.5*n.frustum.fov),S=i.foveatedConeSize*O;if(t._foveatedFactor<=S)return!1;var C=O-S,T=p["a"].clamp((t._foveatedFactor-S)/C,0,1),E=i.foveatedInterpolationCallback(i.foveatedMinimumScreenSpaceErrorRelaxation,i.maximumScreenSpaceError,T),D=0===t._screenSpaceError&&Object(l["a"])(t.parent)?.5*t.parent._screenSpaceError:t._screenSpaceError;return i.maximumScreenSpaceError-E<=D}var W=new b["a"];function q(t,e){if(t.progressiveResolutionHeightFraction<=0||t.progressiveResolutionHeightFraction>.5)return!1;var i=e._screenSpaceErrorProgressiveResolution>t._maximumScreenSpaceError;e._priorityProgressiveResolutionScreenSpaceErrorLeaf=!1;var n=e.parent,r=t._maximumScreenSpaceError,o=e._screenSpaceErrorProgressiveResolution<=r,a=Object(l["a"])(n)&&n._screenSpaceErrorProgressiveResolution>r;return o&&a&&(e._priorityProgressiveResolutionScreenSpaceErrorLeaf=!0,i=!0),i}function H(t,e){var i=e.parent,n=Object(l["a"])(i)&&(!t._skipLevelOfDetail||0===e._screenSpaceError||i.hasTilesetContent),r=n?i._screenSpaceError:e._screenSpaceError;return t.root._screenSpaceError-r}function K(t){if(Object(l["a"])(t.expireDuration)){var e=b["a"].now(W);b["a"].addSeconds(e,t.expireDuration,e),Object(l["a"])(t.expireDate)?b["a"].lessThan(t.expireDate,e)&&b["a"].clone(e,t.expireDate):t.expireDate=b["a"].clone(e)}}function G(t,e){return function(i){t._contentState===I["a"].PROCESSING?--e.statistics.numberOfTilesProcessing:--e.statistics.numberOfPendingRequests,t._contentState=I["a"].FAILED,t._contentReadyPromise.reject(i),t._contentReadyToProcessPromise.reject(i)}}function Y(t){return function(){return t._priority}}M.prototype.getScreenSpaceError=function(t,e,i){var n=this._tileset,r=Object(c["a"])(i,1),o=Object(l["a"])(this.parent)?this.parent.geometricError:n._geometricError,a=e?o:this.geometricError;if(0===a)return 0;var s,u=t.camera,h=u.frustum,d=t.context,_=d.drawingBufferWidth,f=d.drawingBufferHeight*r;if(t.mode===L["a"].SCENE2D||h instanceof v["a"]){Object(l["a"])(h._offCenterFrustum)&&(h=h._offCenterFrustum);var b=Math.max(h.top-h.bottom,h.right-h.left)/Math.max(_,f);s=a/b}else{var g=Math.max(this._distanceToCamera,p["a"].EPSILON7),m=u.frustum.sseDenominator;if(s=a*f/(g*m),n.dynamicScreenSpaceError){var y=n._dynamicScreenSpaceErrorComputedDensity,O=n.dynamicScreenSpaceErrorFactor,S=p["a"].fog(g,y)*O;s-=S}}return s/=t.pixelRatio,s},M.prototype.updateVisibility=function(t){var e=this.parent,i=this._tileset,n=Object(l["a"])(e)?e.computedTransform:i.modelMatrix,r=Object(l["a"])(e)?e._visibilityPlaneMask:s["a"].MASK_INDETERMINATE;this.updateTransform(n),this._distanceToCamera=this.distanceToTile(t),this._centerZDepth=this.distanceToTileCenter(t),this._screenSpaceError=this.getScreenSpaceError(t,!1),this._screenSpaceErrorProgressiveResolution=this.getScreenSpaceError(t,!1,i.progressiveResolutionHeightFraction),this._visibilityPlaneMask=this.visibility(t,r),this._visible=this._visibilityPlaneMask!==s["a"].MASK_OUTSIDE,this._inRequestVolume=this.insideViewerRequestVolume(t),this._priorityReverseScreenSpaceError=H(i,this),this._priorityProgressiveResolution=q(i,this),this.priorityDeferred=U(this,t)},M.prototype.updateExpiration=function(){if(Object(l["a"])(this.expireDate)&&this.contentReady&&!this.hasEmptyContent){var t=b["a"].now(W);b["a"].lessThan(this.expireDate,t)&&(this._contentState=I["a"].EXPIRED,this._expiredContent=this._content)}},M.prototype.requestContent=function(){var t=this,e=this._tileset;if(this.hasEmptyContent)return!1;var i=this._contentResource.clone(),n=this.contentExpired;n&&i.setQueryParameters({expired:this.expireDate.toString()});var r=new S["a"]({throttle:!0,throttleByServer:!0,type:E["a"].TILES3D,priorityFunction:Y(this),serverKey:this._serverKey});this._request=r,i.request=r;var o=i.fetchArrayBuffer();if(!Object(l["a"])(o))return!1;var a=this._contentState;this._contentState=I["a"].LOADING,this._contentReadyToProcessPromise=x["a"].defer(),this._contentReadyPromise=x["a"].defer();var s=G(this,e);return o.then((function(i){if(!t.isDestroyed()){var r,o=new Uint8Array(i),a=Object(_["a"])(o),c=j["a"][a];return e._disableSkipLevelOfDetail=e._disableSkipLevelOfDetail||"vctr"===a||"geom"===a,Object(l["a"])(c)?r=c(e,t,t._contentResource,i,0):(r=j["a"].json(e,t,t._contentResource,i,0),t.hasTilesetContent=!0),n&&(t.expireDate=void 0),t._content=r,t._contentState=I["a"].PROCESSING,t._contentReadyToProcessPromise.resolve(r),r.readyPromise.then((function(e){t.isDestroyed()?s():(K(t),t._selectedFrame=0,t.lastStyleTime=0,b["a"].now(t._loadTimestamp),t._contentState=I["a"].READY,t._contentReadyPromise.resolve(e))}))}s()})).otherwise((function(i){if(r.state===T["a"].CANCELLED)return t._contentState=a,--e.statistics.numberOfPendingRequests,void++e.statistics.numberOfAttemptedRequests;s(i)})),!0},M.prototype.unloadContent=function(){this.hasEmptyContent||this.hasTilesetContent||(this._content=this._content&&this._content.destroy(),this._contentState=I["a"].UNLOADED,this._contentReadyToProcessPromise=void 0,this._contentReadyPromise=void 0,this.lastStyleTime=0,this.clippingPlanesDirty=0===this._clippingPlanesState,this._clippingPlanesState=0,this._debugColorizeTiles=!1,this._debugBoundingVolume=this._debugBoundingVolume&&this._debugBoundingVolume.destroy(),this._debugContentBoundingVolume=this._debugContentBoundingVolume&&this._debugContentBoundingVolume.destroy(),this._debugViewerRequestVolume=this._debugViewerRequestVolume&&this._debugViewerRequestVolume.destroy())};var X=new n["a"];function Q(t,e){if(e.mode!==L["a"].SCENE3D&&!Object(l["a"])(t._boundingVolume2D)){var i=t._boundingVolume.boundingSphere,r=n["a"].projectTo2D(i,e.mapProjection,X);t._boundingVolume2D=new k["a"](r.center,r.radius)}return e.mode!==L["a"].SCENE3D?t._boundingVolume2D:t._boundingVolume}function Z(t,e){if(e.mode!==L["a"].SCENE3D&&!Object(l["a"])(t._contentBoundingVolume2D)){var i=t._contentBoundingVolume.boundingSphere,r=n["a"].projectTo2D(i,e.mapProjection,X);t._contentBoundingVolume2D=new k["a"](r.center,r.radius)}return e.mode!==L["a"].SCENE3D?t._contentBoundingVolume2D:t._contentBoundingVolume}M.prototype.visibility=function(t,e){var i=t.cullingVolume,n=Q(this,t),r=this._tileset,o=r.clippingPlanes;if(Object(l["a"])(o)&&o.enabled){var a=o.computeIntersectionWithBoundingVolume(n,r.clippingPlanesOriginMatrix);if(this._isClipped=a!==f["a"].INSIDE,a===f["a"].OUTSIDE)return s["a"].MASK_OUTSIDE}return i.computeVisibilityWithPlaneMask(n,e)},M.prototype.contentVisibility=function(t){if(!Object(l["a"])(this._contentBoundingVolume))return f["a"].INSIDE;if(this._visibilityPlaneMask===s["a"].MASK_INSIDE)return f["a"].INSIDE;var e=t.cullingVolume,i=Z(this,t),n=this._tileset,r=n.clippingPlanes;if(Object(l["a"])(r)&&r.enabled){var o=r.computeIntersectionWithBoundingVolume(i,n.clippingPlanesOriginMatrix);if(this._isClipped=o!==f["a"].INSIDE,o===f["a"].OUTSIDE)return f["a"].OUTSIDE}return e.computeVisibility(i)},M.prototype.distanceToTile=function(t){var e=Q(this,t);return e.distanceToCamera(t)};var J=new r["a"];M.prototype.distanceToTileCenter=function(t){var e=Q(this,t),i=e.boundingVolume,n=r["a"].subtract(i.center,t.camera.positionWC,J);return r["a"].dot(t.camera.directionWC,n)},M.prototype.insideViewerRequestVolume=function(t){var e=this._viewerRequestVolume;return!Object(l["a"])(e)||0===e.distanceToCamera(t)};var $=new g["a"],tt=new r["a"],et=new g["a"],it=new r["a"],nt=new O["a"],rt=new y["a"],ot=new m["a"];function at(t,e,i){var n=r["a"].fromElements(t[0],t[1],t[2],it),o=g["a"].fromArray(t,3,et);n=m["a"].multiplyByPoint(e,n,n);var a=m["a"].getMatrix3(e,$);return o=g["a"].multiply(a,o,o),Object(l["a"])(i)?(i.update(n,o),i):new z["a"](n,o)}function st(t,e,i,n){var r=O["a"].unpack(t,0,nt),o=t[4],a=t[5],s=y["a"].fromRectangle(r,o,a,d["a"].WGS84,rt),c=s.center,u=s.halfAxes;e=m["a"].multiplyTransformation(e,m["a"].inverseTransformation(i,ot),ot),c=m["a"].multiplyByPoint(e,c,c);var h=m["a"].getMatrix3(e,$);return u=g["a"].multiply(h,u,u),Object(l["a"])(n)&&n instanceof z["a"]?(n.update(c,u),n):new z["a"](c,u)}function ct(t,e,i,n){if(!m["a"].equalsEpsilon(e,i,p["a"].EPSILON8))return st(t,e,i,n);if(Object(l["a"])(n))return n;var r=O["a"].unpack(t,0,nt);return new B["a"]({rectangle:r,minimumHeight:t[4],maximumHeight:t[5]})}function lt(t,e,i){var n=r["a"].fromElements(t[0],t[1],t[2],it),o=t[3];n=m["a"].multiplyByPoint(e,n,n);var a=m["a"].getScale(e,tt),s=r["a"].maximumComponent(a);return o*=s,Object(l["a"])(i)?(i.update(n,o),i):new k["a"](n,o)}function ut(t,e,i,n){if(n.isRender){var r=Object(l["a"])(t._header.content)&&Object(l["a"])(t._header.content.boundingVolume),s=t.hasEmptyContent||t.hasTilesetContent,c=e.debugShowBoundingVolume||e.debugShowContentBoundingVolume&&!r;if(c){var u;u=t._finalResolution?s?o["a"].DARKGRAY:o["a"].WHITE:o["a"].YELLOW,Object(l["a"])(t._debugBoundingVolume)||(t._debugBoundingVolume=t._boundingVolume.createDebugVolume(u)),t._debugBoundingVolume.update(i);var h=t._debugBoundingVolume.getGeometryInstanceAttributes("outline");h.color=a["a"].toValue(u,h.color)}else!c&&Object(l["a"])(t._debugBoundingVolume)&&(t._debugBoundingVolume=t._debugBoundingVolume.destroy());e.debugShowContentBoundingVolume&&r?(Object(l["a"])(t._debugContentBoundingVolume)||(t._debugContentBoundingVolume=t._contentBoundingVolume.createDebugVolume(o["a"].BLUE)),t._debugContentBoundingVolume.update(i)):!e.debugShowContentBoundingVolume&&Object(l["a"])(t._debugContentBoundingVolume)&&(t._debugContentBoundingVolume=t._debugContentBoundingVolume.destroy()),e.debugShowViewerRequestVolume&&Object(l["a"])(t._viewerRequestVolume)?(Object(l["a"])(t._debugViewerRequestVolume)||(t._debugViewerRequestVolume=t._viewerRequestVolume.createDebugVolume(o["a"].YELLOW)),t._debugViewerRequestVolume.update(i)):!e.debugShowViewerRequestVolume&&Object(l["a"])(t._debugViewerRequestVolume)&&(t._debugViewerRequestVolume=t._debugViewerRequestVolume.destroy());var d=e.debugColorizeTiles&&!t._debugColorizeTiles||Object(l["a"])(e._heatmap.tilePropertyName),_=!e.debugColorizeTiles&&t._debugColorizeTiles;d?(e._heatmap.colorize(t,i),t._debugColorizeTiles=!0,t.color=t._debugColor):_&&(t._debugColorizeTiles=!1,t.color=o["a"].WHITE),t._colorDirty&&(t._colorDirty=!1,t._content.applyDebugSettings(!0,t._color)),_&&e.makeStyleDirty()}}function ht(t,e,i){var n=t._content,r=t._expiredContent;if(Object(l["a"])(r)){if(!t.contentReady)return void r.update(e,i);t._expiredContent.destroy(),t._expiredContent=void 0}n.update(e,i)}function dt(t,e){var i=e.clippingPlanes,n=0;Object(l["a"])(i)&&t._isClipped&&i.enabled&&(n=i.clippingPlanesState),n!==t._clippingPlanesState&&(t._clippingPlanesState=n,t.clippingPlanesDirty=!0)}M.prototype.createBoundingVolume=function(t,e,i){if(!Object(l["a"])(t))throw new P["a"]("boundingVolume must be defined");if(Object(l["a"])(t.box))return at(t.box,e,i);if(Object(l["a"])(t.region))return ct(t.region,e,this._initialTransform,i);if(Object(l["a"])(t.sphere))return lt(t.sphere,e,i);throw new P["a"]("boundingVolume must contain a sphere, region, or box")},M.prototype.updateTransform=function(t){t=Object(c["a"])(t,m["a"].IDENTITY);var e=m["a"].multiply(t,this.transform,ot),i=!m["a"].equals(e,this.computedTransform);if(i){m["a"].clone(e,this.computedTransform);var n=this._header,r=this._header.content;this._boundingVolume=this.createBoundingVolume(n.boundingVolume,this.computedTransform,this._boundingVolume),Object(l["a"])(this._contentBoundingVolume)&&(this._contentBoundingVolume=this.createBoundingVolume(r.boundingVolume,this.computedTransform,this._contentBoundingVolume)),Object(l["a"])(this._viewerRequestVolume)&&(this._viewerRequestVolume=this.createBoundingVolume(n.viewerRequestVolume,this.computedTransform,this._viewerRequestVolume)),this.updateGeometricErrorScale(),this._debugBoundingVolume=this._debugBoundingVolume&&this._debugBoundingVolume.destroy(),this._debugContentBoundingVolume=this._debugContentBoundingVolume&&this._debugContentBoundingVolume.destroy(),this._debugViewerRequestVolume=this._debugViewerRequestVolume&&this._debugViewerRequestVolume.destroy()}},M.prototype.updateGeometricErrorScale=function(){var t=m["a"].getScale(this.computedTransform,tt),e=r["a"].maximumComponent(t);this.geometricError=this._geometricError*e},M.prototype.update=function(t,e,i){var n=e.commandList.length;dt(this,t),ut(this,t,e,i),ht(this,t,e);var r=e.commandList.length,o=r-n;this._commandsLength=o;for(var a=0;a<o;++a){var s=e.commandList[n+a],c=s.pass===N["a"].TRANSLUCENT;s.depthForTranslucentClassification=c}this.clippingPlanesDirty=!1};var _t=[];function ft(t,e,i){var n=t*Math.pow(10,e),r=parseInt(n);return r*Math.pow(10,i)}function bt(t,e,i){return Math.max(p["a"].normalize(t,e,i)-p["a"].EPSILON7,0)}M.prototype.process=function(t,e){var i=e.commandList;e.commandList=_t,this._content.update(t,e),_t.length=0,e.commandList=i},M.prototype.updatePriority=function(){var t=this.tileset,e=t.preferLeaves,i=t._minimumPriority,n=t._maximumPriority,r=4,o=1,a=0,s=r,c=a+s,l=r,u=c+l,h=o,d=Math.pow(10,u),_=u+h,f=o,b=Math.pow(10,_),p=_+f,g=Math.pow(10,p),m=bt(this._depth,i.depth,n.depth);m=e?1-m:m;var y=!t._skipLevelOfDetail&&this.refine===V["a"].REPLACE,v=y?bt(this._priorityHolder._distanceToCamera,i.distance,n.distance):bt(this._priorityReverseScreenSpaceError,i.reverseScreenSpaceError,n.reverseScreenSpaceError),O=ft(v,s,a),S=this._priorityProgressiveResolution?0:d,C=bt(this._priorityHolder._foveatedFactor,i.foveatedFactor,n.foveatedFactor),T=ft(C,l,c),E=this.priorityDeferred?b:0,D=t._pass===R["a"].PRELOAD_FLIGHT?0:g;this._priority=m+O+S+T+E+D},M.prototype.isDestroyed=function(){return!1},M.prototype.destroy=function(){return this._content=this._content&&this._content.destroy(),this._expiredContent=this._expiredContent&&!this._expiredContent.isDestroyed()&&this._expiredContent.destroy(),this._debugBoundingVolume=this._debugBoundingVolume&&this._debugBoundingVolume.destroy(),this._debugContentBoundingVolume=this._debugContentBoundingVolume&&this._debugContentBoundingVolume.destroy(),this._debugViewerRequestVolume=this._debugViewerRequestVolume&&this._debugViewerRequestVolume.destroy(),Object(h["a"])(this)},e["a"]=M},c4a1:function(t,e,i){"use strict";var n={ADD:0,REPLACE:1};e["a"]=Object.freeze(n)},d150:function(t,e,i){"use strict";var n=i("8981"),r=i("859c"),o={RENDER:0,PICK:1,SHADOW:2,PRELOAD:3,PRELOAD_FLIGHT:4,REQUEST_RENDER_MODE_DEFER_CHECK:5,MOST_DETAILED_PRELOAD:6,MOST_DETAILED_PICK:7,NUMBER_OF_PASSES:8},a=new Array(o.NUMBER_OF_PASSES);a[o.RENDER]=Object.freeze({traversal:r["a"],isRender:!0,requestTiles:!0,ignoreCommands:!1}),a[o.PICK]=Object.freeze({traversal:r["a"],isRender:!1,requestTiles:!1,ignoreCommands:!1}),a[o.SHADOW]=Object.freeze({traversal:r["a"],isRender:!1,requestTiles:!0,ignoreCommands:!1}),a[o.PRELOAD]=Object.freeze({traversal:r["a"],isRender:!1,requestTiles:!0,ignoreCommands:!0}),a[o.PRELOAD_FLIGHT]=Object.freeze({traversal:r["a"],isRender:!1,requestTiles:!0,ignoreCommands:!0}),a[o.REQUEST_RENDER_MODE_DEFER_CHECK]=Object.freeze({traversal:r["a"],isRender:!1,requestTiles:!0,ignoreCommands:!0}),a[o.MOST_DETAILED_PRELOAD]=Object.freeze({traversal:n["a"],isRender:!1,requestTiles:!0,ignoreCommands:!0}),a[o.MOST_DETAILED_PICK]=Object.freeze({traversal:n["a"],isRender:!1,requestTiles:!1,ignoreCommands:!1}),o.getPassOptions=function(t){return a[t]},e["a"]=Object.freeze(o)},f8cdd:function(t,e,i){"use strict";var n=i("4f04");function r(t,e,i,n,r){this.featurePropertiesDirty=!1}Object.defineProperties(r.prototype,{featuresLength:{get:function(){n["a"].throwInstantiationError()}},pointsLength:{get:function(){n["a"].throwInstantiationError()}},trianglesLength:{get:function(){n["a"].throwInstantiationError()}},geometryByteLength:{get:function(){n["a"].throwInstantiationError()}},texturesByteLength:{get:function(){n["a"].throwInstantiationError()}},batchTableByteLength:{get:function(){n["a"].throwInstantiationError()}},innerContents:{get:function(){n["a"].throwInstantiationError()}},readyPromise:{get:function(){n["a"].throwInstantiationError()}},tileset:{get:function(){n["a"].throwInstantiationError()}},tile:{get:function(){n["a"].throwInstantiationError()}},url:{get:function(){n["a"].throwInstantiationError()}},batchTable:{get:function(){n["a"].throwInstantiationError()}}}),r.prototype.hasProperty=function(t,e){n["a"].throwInstantiationError()},r.prototype.getFeature=function(t){n["a"].throwInstantiationError()},r.prototype.applyDebugSettings=function(t,e){n["a"].throwInstantiationError()},r.prototype.applyStyle=function(t){n["a"].throwInstantiationError()},r.prototype.update=function(t,e){n["a"].throwInstantiationError()},r.prototype.isDestroyed=function(){n["a"].throwInstantiationError()},r.prototype.destroy=function(){n["a"].throwInstantiationError()},e["a"]=r}}]);