(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Cesium~a57d3e3a"],{2659:function(e,t,i){"use strict";var a=i("a58e"),r=i("670c"),n=i("8dfe"),o=i("535a"),l=i("2f63"),s=i("c52f"),c=i("21d7"),u=i("5d5c"),h=i("23de"),d=i("af23"),v=i("eace"),f=i("de66"),g=i("8a39"),_=i("b82e"),m=i("d4ed"),b=i("283e"),y=i("1ee6"),w=i("553b"),p=i("a89b"),x=i("d3a0"),j=15;function A(e){this._resource=void 0,this._credit=void 0,this._tilingScheme=void 0,this._levelZeroMaximumGeometricError=void 0,this._maxLevel=void 0,this._terrainDataStructure=void 0,this._ready=!1,this._width=void 0,this._height=void 0,this._encoding=void 0;var t=e.token;this._hasAvailability=!1,this._tilesAvailable=void 0,this._tilesAvailablityLoaded=void 0,this._availableCache={};var i=this,d=Object(o["a"])(e.ellipsoid,s["a"].WGS84);this._readyPromise=Object(a["a"])(e.url).then((function(e){var a=m["a"].createIfNeeded(e);a.appendForwardSlash(),Object(l["a"])(t)&&(a=a.getDerivedResource({queryParameters:{token:t}})),i._resource=a;var r=a.getDerivedResource({queryParameters:{f:"pjson"}});return r.fetchJson()})).then((function(e){var t=e.copyrightText;Object(l["a"])(t)&&(i._credit=new n["a"](t));var s=e.spatialReference,c=Object(o["a"])(s.latestWkid,s.wkid),f=e.extent,g={ellipsoid:d};if(4326===c)g.rectangle=v["a"].fromDegrees(f.xmin,f.ymin,f.xmax,f.ymax),i._tilingScheme=new u["a"](g);else{if(3857!==c)return a["a"].reject(new b["a"]("Invalid spatial reference"));g.rectangleSouthwestInMeters=new r["a"](f.xmin,f.ymin),g.rectangleNortheastInMeters=new r["a"](f.xmax,f.ymax),i._tilingScheme=new x["a"](g)}var _=e.tileInfo;if(!Object(l["a"])(_))return a["a"].reject(new b["a"]("tileInfo is required"));i._width=_.rows+1,i._height=_.cols+1,i._encoding="LERC"===_.format?h["a"].LERC:h["a"].NONE,i._lodCount=_.lods.length-1;var m=i._hasAvailability=-1!==e.capabilities.indexOf("Tilemap");return m&&(i._tilesAvailable=new w["a"](i._tilingScheme,i._lodCount),i._tilesAvailable.addAvailableTileRange(0,0,0,i._tilingScheme.getNumberOfXTilesAtLevel(0),i._tilingScheme.getNumberOfYTilesAtLevel(0)),i._tilesAvailablityLoaded=new w["a"](i._tilingScheme,i._lodCount)),i._levelZeroMaximumGeometricError=y["a"].getEstimatedLevelZeroGeometricErrorForAHeightmap(i._tilingScheme.ellipsoid,i._width,i._tilingScheme.getNumberOfXTilesAtLevel(0)),e.bandCount,i._terrainDataStructure={elementMultiplier:1,lowestEncodedHeight:e.minValues[0],highestEncodedHeight:e.maxValues[0]},i._ready=!0,!0})).otherwise((function(e){var t="An error occurred while accessing "+i._resource.url+".";return p["a"].handleError(void 0,i,i._errorEvent,t),a["a"].reject(e)})),this._errorEvent=new c["a"]}function O(e,t,i,a){if(e._hasAvailability){var r=e._tilesAvailablityLoaded,n=e._tilesAvailable;return!(t>e._lodCount)&&(!!n.isTileAvailable(t,i,a)||!r.isTileAvailable(t,i,a)&&void 0)}}function T(e,t,i,a){var n=t-1,o=i-1,l=a[e.y*t+e.x],s=[],c={startX:e.x,startY:e.y,endX:0,endY:0},u=new r["a"](e.x+1,e.y+1),h=!1,d=!1;while(!h||!d){var v=u.x,f=d?u.y+1:u.y;if(!h){for(var g=e.y;g<f;++g)if(a[g*t+u.x]!==l){h=!0;break}h?(s.push(new r["a"](u.x,e.y)),--u.x,--v,c.endX=u.x):u.x===n?(c.endX=u.x,h=!0):++u.x}if(!d){for(var _=u.y*t,m=e.x;m<=v;++m)if(a[_+m]!==l){d=!0;break}d?(s.push(new r["a"](e.x,u.y)),--u.y,c.endY=u.y):u.y===o?(c.endY=u.y,d=!0):++u.y}}return{endingIndices:s,range:c,value:l}}function M(e,t,i,a,n){var o=[],l=n.every((function(e){return e===n[0]}));if(l)return 1===n[0]&&o.push({startX:e,startY:t,endX:e+i-1,endY:t+a-1}),o;var s=[new r["a"](0,0)];while(s.length>0){var c=s.pop(),u=T(c,i,a,n);if(1===u.value){var h=u.range;h.startX+=e,h.endX+=e,h.startY+=t,h.endY+=t,o.push(h)}var d=u.endingIndices;d.length>0&&(s=s.concat(d))}return o}function E(e,t,i,a){if(!e._hasAvailability)return{};var r=128*Math.floor(i/128),n=128*Math.floor(a/128),o=Math.min(1<<t,128),s="tilemap/"+t+"/"+n+"/"+r+"/"+o+"/"+o,c=e._availableCache;if(Object(l["a"])(c[s]))return c[s];var u=new f["a"]({throttle:!1,throttleByServer:!0,type:_["a"].TERRAIN}),h=e._resource.getDerivedResource({url:s,request:u}),d=h.fetchJson();return Object(l["a"])(d)?(d=d.then((function(l){var s=M(r,n,o,o,l.data);e._tilesAvailablityLoaded.addAvailableTileRange(t,r,n,r+o,n+o);for(var c=e._tilesAvailable,u=0;u<s.length;++u){var h=s[u];c.addAvailableTileRange(t,h.startX,h.startY,h.endX,h.endY)}return O(e,t,i,a)})),c[s]={promise:d,request:u},d=d.always((function(e){return delete c[s],e})),{promise:d,request:u}):{}}Object.defineProperties(A.prototype,{errorEvent:{get:function(){return this._errorEvent}},credit:{get:function(){return this._credit}},tilingScheme:{get:function(){return this._tilingScheme}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise}},hasWaterMask:{get:function(){return!1}},hasVertexNormals:{get:function(){return!1}},availability:{get:function(){return this._tilesAvailable}}}),A.prototype.requestTileGeometry=function(e,t,i,r){var n,o=this._resource.getDerivedResource({url:"tile/"+i+"/"+t+"/"+e,request:r}),s=this._hasAvailability,c=a["a"].resolve(!0);if(s&&!Object(l["a"])(O(this,i+1,2*e,2*t))){var u=E(this,i+1,2*e,2*t);c=u.promise,n=u.request}var h=o.fetchArrayBuffer();if(Object(l["a"])(h)&&Object(l["a"])(c)){var v=this,f=this._tilesAvailable;return a["a"].join(h,c).then((function(a){return new d["a"]({buffer:a[0],width:v._width,height:v._height,childTileMask:s?f.computeChildMaskForTile(i,e,t):j,structure:v._terrainDataStructure,encoding:v._encoding})})).otherwise((function(e){return Object(l["a"])(n)&&n.state===g["a"].CANCELLED?(r.cancel(),r.deferred.promise.always((function(){return r.state=g["a"].CANCELLED,a["a"].reject(e)}))):a["a"].reject(e)}))}},A.prototype.getLevelMaximumGeometricError=function(e){return this._levelZeroMaximumGeometricError/(1<<e)},A.prototype.getTileDataAvailable=function(e,t,i){if(this._hasAvailability){var a=O(this,i,e,t);if(Object(l["a"])(a))return a;E(this,i,e,t)}},A.prototype.loadTileDataAvailability=function(e,t,i){},t["a"]=A},9201:function(e,t,i){"use strict";var a={NONE:0,GEODESIC:1,RHUMB:2};t["a"]=Object.freeze(a)},dd06:function(e,t,i){"use strict";var a=i("cef5"),r=i("7229"),n=i("670c"),o=i("be18"),l=i("bef8"),s=i("535a"),c=i("2f63"),u=i("c52f"),h=i("5d5c"),d=i("eace"),v=i("d4ed"),f=new o["a"],g=new o["a"],_=new l["a"],m=new o["a"],b=new o["a"],y=new a["a"],w=new h["a"],p=[new l["a"],new l["a"],new l["a"],new l["a"]],x=new n["a"],j={};function A(e){l["a"].fromRadians(e.east,e.north,0,p[0]),l["a"].fromRadians(e.west,e.north,0,p[1]),l["a"].fromRadians(e.east,e.south,0,p[2]),l["a"].fromRadians(e.west,e.south,0,p[3]);var t,i=0,a=0,r=0,n=0,o=j._terrainHeightsMaxLevel;for(t=0;t<=o;++t){for(var s=!1,c=0;c<4;++c){var u=p[c];if(w.positionToTileXY(u,t,x),0===c)r=x.x,n=x.y;else if(r!==x.x||n!==x.y){s=!0;break}}if(s)break;i=r,a=n}if(0!==t)return{x:i,y:a,level:t>o?o:t-1}}j.initialize=function(){var e=j._initPromise;return Object(c["a"])(e)||(e=v["a"].fetchJson(Object(r["a"])("Assets/approximateTerrainHeights.json")).then((function(e){j._terrainHeights=e})),j._initPromise=e),e},j.getMinimumMaximumHeights=function(e,t){t=Object(s["a"])(t,u["a"].WGS84);var i=A(e),a=j._defaultMinTerrainHeight,r=j._defaultMaxTerrainHeight;if(Object(c["a"])(i)){var n=i.level+"-"+i.x+"-"+i.y,l=j._terrainHeights[n];Object(c["a"])(l)&&(a=l[0],r=l[1]),t.cartographicToCartesian(d["a"].northeast(e,_),f),t.cartographicToCartesian(d["a"].southwest(e,_),g),o["a"].midpoint(g,f,m);var h=t.scaleToGeodeticSurface(m,b);if(Object(c["a"])(h)){var v=o["a"].distance(m,h);a=Math.min(a,-v)}else a=j._defaultMinTerrainHeight}return a=Math.max(j._defaultMinTerrainHeight,a),{minimumTerrainHeight:a,maximumTerrainHeight:r}},j.getBoundingSphere=function(e,t){t=Object(s["a"])(t,u["a"].WGS84);var i=A(e),r=j._defaultMaxTerrainHeight;if(Object(c["a"])(i)){var n=i.level+"-"+i.x+"-"+i.y,o=j._terrainHeights[n];Object(c["a"])(o)&&(r=o[1])}var l=a["a"].fromRectangle3D(e,t,0);return a["a"].fromRectangle3D(e,t,r,y),a["a"].union(l,y,l)},j._terrainHeightsMaxLevel=6,j._defaultMaxTerrainHeight=9e3,j._defaultMinTerrainHeight=-1e5,j._terrainHeights=void 0,j._initPromise=void 0,Object.defineProperties(j,{initialized:{get:function(){return Object(c["a"])(j._terrainHeights)}}}),t["a"]=j}}]);