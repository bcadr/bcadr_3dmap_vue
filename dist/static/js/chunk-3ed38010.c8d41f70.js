(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3ed38010"],{"0b16":function(t,e,r){"use strict";var n=r("1985"),i=r("35e8");function a(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=x,e.resolve=C,e.resolveObject=O,e.format=w,e.Url=a;var s=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["<",">",'"',"`"," ","\r","\n","\t"],l=["{","}","|","\\","^","`"].concat(u),c=["'"].concat(l),f=["%","/","?",";","#"].concat(c),d=["/","?","#"],p=255,m=/^[+a-z0-9A-Z_-]{0,63}$/,g=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},_={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=r("b3835");function x(t,e,r){if(t&&i.isObject(t)&&t instanceof a)return t;var n=new a;return n.parse(t,e,r),n}function w(t){return i.isString(t)&&(t=x(t)),t instanceof a?t.format():a.prototype.format.call(t)}function C(t,e){return x(t,!1,!0).resolve(e)}function O(t,e){return t?x(t,!1,!0).resolveObject(e):e}a.prototype.parse=function(t,e,r){if(!i.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var a=t.indexOf("?"),o=-1!==a&&a<t.indexOf("#")?"?":"#",u=t.split(o),l=/\\/g;u[0]=u[0].replace(l,"/"),t=u.join(o);var x=t;if(x=x.trim(),!r&&1===t.split("#").length){var w=h.exec(x);if(w)return this.path=x,this.href=x,this.pathname=w[1],w[2]?(this.search=w[2],this.query=e?b.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var C=s.exec(x);if(C){C=C[0];var O=C.toLowerCase();this.protocol=O,x=x.substr(C.length)}if(r||C||x.match(/^\/\/[^@\/]+@[^@\/]+/)){var A="//"===x.substr(0,2);!A||C&&_[C]||(x=x.substr(2),this.slashes=!0)}if(!_[C]&&(A||C&&!y[C])){for(var j,D,I=-1,S=0;S<d.length;S++){var R=x.indexOf(d[S]);-1!==R&&(-1===I||R<I)&&(I=R)}D=-1===I?x.lastIndexOf("@"):x.lastIndexOf("@",I),-1!==D&&(j=x.slice(0,D),x=x.slice(D+1),this.auth=decodeURIComponent(j)),I=-1;for(S=0;S<f.length;S++){R=x.indexOf(f[S]);-1!==R&&(-1===I||R<I)&&(I=R)}-1===I&&(I=x.length),this.host=x.slice(0,I),x=x.slice(I),this.parseHost(),this.hostname=this.hostname||"";var k="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!k)for(var M=this.hostname.split(/\./),U=(S=0,M.length);S<U;S++){var E=M[S];if(E&&!E.match(m)){for(var F="",q=0,B=E.length;q<B;q++)E.charCodeAt(q)>127?F+="x":F+=E[q];if(!F.match(m)){var N=M.slice(0,S),P=M.slice(S+1),T=E.match(g);T&&(N.push(T[1]),P.unshift(T[2])),P.length&&(x="/"+P.join(".")+x),this.hostname=N.join(".");break}}}this.hostname.length>p?this.hostname="":this.hostname=this.hostname.toLowerCase(),k||(this.hostname=n.toASCII(this.hostname));var z=this.port?":"+this.port:"",G=this.hostname||"";this.host=G+z,this.href+=this.host,k&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==x[0]&&(x="/"+x))}if(!v[O])for(S=0,U=c.length;S<U;S++){var L=c[S];if(-1!==x.indexOf(L)){var V=encodeURIComponent(L);V===L&&(V=escape(L)),x=x.split(L).join(V)}}var $=x.indexOf("#");-1!==$&&(this.hash=x.substr($),x=x.slice(0,$));var H=x.indexOf("?");if(-1!==H?(this.search=x.substr(H),this.query=x.substr(H+1),e&&(this.query=b.parse(this.query)),x=x.slice(0,H)):e&&(this.search="",this.query={}),x&&(this.pathname=x),y[O]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){z=this.pathname||"";var J=this.search||"";this.path=z+J}return this.href=this.format(),this},a.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",a=!1,s="";this.host?a=t+this.host:this.hostname&&(a=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(s=b.stringify(this.query));var o=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||y[e])&&!1!==a?(a="//"+(a||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):a||(a=""),n&&"#"!==n.charAt(0)&&(n="#"+n),o&&"?"!==o.charAt(0)&&(o="?"+o),r=r.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})),o=o.replace("#","%23"),e+a+r+o+n},a.prototype.resolve=function(t){return this.resolveObject(x(t,!1,!0)).format()},a.prototype.resolveObject=function(t){if(i.isString(t)){var e=new a;e.parse(t,!1,!0),t=e}for(var r=new a,n=Object.keys(this),s=0;s<n.length;s++){var o=n[s];r[o]=this[o]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var h=Object.keys(t),u=0;u<h.length;u++){var l=h[u];"protocol"!==l&&(r[l]=t[l])}return y[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!y[t.protocol]){for(var c=Object.keys(t),f=0;f<c.length;f++){var d=c[f];r[d]=t[d]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||_[t.protocol])r.pathname=t.pathname;else{var p=(t.pathname||"").split("/");while(p.length&&!(t.host=p.shift()));t.host||(t.host=""),t.hostname||(t.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),r.pathname=p.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var m=r.pathname||"",g=r.search||"";r.path=m+g}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var v=r.pathname&&"/"===r.pathname.charAt(0),b=t.host||t.pathname&&"/"===t.pathname.charAt(0),x=b||v||r.host&&t.pathname,w=x,C=r.pathname&&r.pathname.split("/")||[],O=(p=t.pathname&&t.pathname.split("/")||[],r.protocol&&!y[r.protocol]);if(O&&(r.hostname="",r.port=null,r.host&&(""===C[0]?C[0]=r.host:C.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===p[0]?p[0]=t.host:p.unshift(t.host)),t.host=null),x=x&&(""===p[0]||""===C[0])),b)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,C=p;else if(p.length)C||(C=[]),C.pop(),C=C.concat(p),r.search=t.search,r.query=t.query;else if(!i.isNullOrUndefined(t.search)){if(O){r.hostname=r.host=C.shift();var A=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");A&&(r.auth=A.shift(),r.host=r.hostname=A.shift())}return r.search=t.search,r.query=t.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!C.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var j=C.slice(-1)[0],D=(r.host||t.host||C.length>1)&&("."===j||".."===j)||""===j,I=0,S=C.length;S>=0;S--)j=C[S],"."===j?C.splice(S,1):".."===j?(C.splice(S,1),I++):I&&(C.splice(S,1),I--);if(!x&&!w)for(;I--;I)C.unshift("..");!x||""===C[0]||C[0]&&"/"===C[0].charAt(0)||C.unshift(""),D&&"/"!==C.join("/").substr(-1)&&C.push("");var R=""===C[0]||C[0]&&"/"===C[0].charAt(0);if(O){r.hostname=r.host=R?"":C.length?C.shift():"";A=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");A&&(r.auth=A.shift(),r.host=r.hostname=A.shift())}return x=x||r.host&&C.length,x&&!R&&C.unshift(""),C.length?r.pathname=C.join("/"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},a.prototype.parseHost=function(){var t=this.host,e=o.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},1985:function(t,e,r){(function(t,n){var i;/*! https://mths.be/punycode v1.4.1 by @mathias */(function(a){e&&e.nodeType,t&&t.nodeType;var s="object"==typeof n&&n;s.global!==s&&s.window!==s&&s.self;var o,h=2147483647,u=36,l=1,c=26,f=38,d=700,p=72,m=128,g="-",v=/^xn--/,_=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=u-l,w=Math.floor,C=String.fromCharCode;function O(t){throw new RangeError(b[t])}function A(t,e){var r=t.length,n=[];while(r--)n[r]=e(t[r]);return n}function j(t,e){var r=t.split("@"),n="";r.length>1&&(n=r[0]+"@",t=r[1]),t=t.replace(y,".");var i=t.split("."),a=A(i,e).join(".");return n+a}function D(t){var e,r,n=[],i=0,a=t.length;while(i<a)e=t.charCodeAt(i++),e>=55296&&e<=56319&&i<a?(r=t.charCodeAt(i++),56320==(64512&r)?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--)):n.push(e);return n}function I(t){return A(t,(function(t){var e="";return t>65535&&(t-=65536,e+=C(t>>>10&1023|55296),t=56320|1023&t),e+=C(t),e})).join("")}function S(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:u}function R(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function k(t,e,r){var n=0;for(t=r?w(t/d):t>>1,t+=w(t/e);t>x*c>>1;n+=u)t=w(t/x);return w(n+(x+1)*t/(t+f))}function M(t){var e,r,n,i,a,s,o,f,d,v,_=[],y=t.length,b=0,x=m,C=p;for(r=t.lastIndexOf(g),r<0&&(r=0),n=0;n<r;++n)t.charCodeAt(n)>=128&&O("not-basic"),_.push(t.charCodeAt(n));for(i=r>0?r+1:0;i<y;){for(a=b,s=1,o=u;;o+=u){if(i>=y&&O("invalid-input"),f=S(t.charCodeAt(i++)),(f>=u||f>w((h-b)/s))&&O("overflow"),b+=f*s,d=o<=C?l:o>=C+c?c:o-C,f<d)break;v=u-d,s>w(h/v)&&O("overflow"),s*=v}e=_.length+1,C=k(b-a,e,0==a),w(b/e)>h-x&&O("overflow"),x+=w(b/e),b%=e,_.splice(b++,0,x)}return I(_)}function U(t){var e,r,n,i,a,s,o,f,d,v,_,y,b,x,A,j=[];for(t=D(t),y=t.length,e=m,r=0,a=p,s=0;s<y;++s)_=t[s],_<128&&j.push(C(_));n=i=j.length,i&&j.push(g);while(n<y){for(o=h,s=0;s<y;++s)_=t[s],_>=e&&_<o&&(o=_);for(b=n+1,o-e>w((h-r)/b)&&O("overflow"),r+=(o-e)*b,e=o,s=0;s<y;++s)if(_=t[s],_<e&&++r>h&&O("overflow"),_==e){for(f=r,d=u;;d+=u){if(v=d<=a?l:d>=a+c?c:d-a,f<v)break;A=f-v,x=u-v,j.push(C(R(v+A%x,0))),f=w(A/x)}j.push(C(R(f,0))),a=k(r,b,n==i),r=0,++n}++r,++e}return j.join("")}function E(t){return j(t,(function(t){return v.test(t)?M(t.slice(4).toLowerCase()):t}))}function F(t){return j(t,(function(t){return _.test(t)?"xn--"+U(t):t}))}o={version:"1.4.1",ucs2:{decode:D,encode:I},decode:M,encode:U,toASCII:F,toUnicode:E},i=function(){return o}.call(e,r,e,t),void 0===i||(t.exports=i)})()}).call(this,r("62e4")(t),r("c8ba"))},"35e8":function(t,e,r){"use strict";t.exports={isString:function(t){return"string"===typeof t},isObject:function(t){return"object"===typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},"3e8f":function(t,e){},"429a":function(t,e){function r(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}r.keys=function(){return[]},r.resolve=r,t.exports=r,r.id="429a"},4362:function(t,e,r){e.nextTick=function(t){var e=Array.prototype.slice.call(arguments);e.shift(),setTimeout((function(){t.apply(null,e)}),0)},e.platform=e.arch=e.execPath=e.title="browser",e.pid=1,e.browser=!0,e.env={},e.argv=[],e.binding=function(t){throw new Error("No such module. (Possibly not yet loaded)")},function(){var t,n="/";e.cwd=function(){return n},e.chdir=function(e){t||(t=r("df7c")),n=t.resolve(e,n)}}(),e.exit=e.kill=e.umask=e.dlopen=e.uptime=e.memoryUsage=e.uvCounters=function(){},e.features={}},7037:function(t,e,r){function n(e){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?(t.exports=n=function(t){return typeof t},t.exports["default"]=t.exports,t.exports.__esModule=!0):(t.exports=n=function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports["default"]=t.exports,t.exports.__esModule=!0),n(e)}r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0"),t.exports=n,t.exports["default"]=t.exports,t.exports.__esModule=!0},"91dd":function(t,e,r){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,r,a){e=e||"&",r=r||"=";var s={};if("string"!==typeof t||0===t.length)return s;var o=/\+/g;t=t.split(e);var h=1e3;a&&"number"===typeof a.maxKeys&&(h=a.maxKeys);var u=t.length;h>0&&u>h&&(u=h);for(var l=0;l<u;++l){var c,f,d,p,m=t[l].replace(o,"%20"),g=m.indexOf(r);g>=0?(c=m.substr(0,g),f=m.substr(g+1)):(c=m,f=""),d=decodeURIComponent(c),p=decodeURIComponent(f),n(s,d)?i(s[d])?s[d].push(p):s[d]=[s[d],p]:s[d]=p}return s};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},ade3:function(t,e,r){"use strict";function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r.d(e,"a",(function(){return n}))},b3835:function(t,e,r){"use strict";e.decode=e.parse=r("91dd"),e.encode=e.stringify=r("e099")},b85c:function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0"),r("fb6a"),r("b0c0"),r("a630");function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function i(t,e){if(t){if("string"===typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}function a(t,e){var r;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=i(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,h=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){h=!0,s=t},f:function(){try{o||null==r["return"]||r["return"]()}finally{if(h)throw s}}}}},df7c:function(t,e,r){(function(t){function r(t,e){for(var r=0,n=t.length-1;n>=0;n--){var i=t[n];"."===i?t.splice(n,1):".."===i?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}function n(t){"string"!==typeof t&&(t+="");var e,r=0,n=-1,i=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!i){r=e+1;break}}else-1===n&&(i=!1,n=e+1);return-1===n?"":t.slice(r,n)}function i(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}e.resolve=function(){for(var e="",n=!1,a=arguments.length-1;a>=-1&&!n;a--){var s=a>=0?arguments[a]:t.cwd();if("string"!==typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(e=s+"/"+e,n="/"===s.charAt(0))}return e=r(i(e.split("/"),(function(t){return!!t})),!n).join("/"),(n?"/":"")+e||"."},e.normalize=function(t){var n=e.isAbsolute(t),s="/"===a(t,-1);return t=r(i(t.split("/"),(function(t){return!!t})),!n).join("/"),t||n||(t="."),t&&s&&(t+="/"),(n?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(i(t,(function(t,e){if("string"!==typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},e.relative=function(t,r){function n(t){for(var e=0;e<t.length;e++)if(""!==t[e])break;for(var r=t.length-1;r>=0;r--)if(""!==t[r])break;return e>r?[]:t.slice(e,r-e+1)}t=e.resolve(t).substr(1),r=e.resolve(r).substr(1);for(var i=n(t.split("/")),a=n(r.split("/")),s=Math.min(i.length,a.length),o=s,h=0;h<s;h++)if(i[h]!==a[h]){o=h;break}var u=[];for(h=o;h<i.length;h++)u.push("..");return u=u.concat(a.slice(o)),u.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!==typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),r=47===e,n=-1,i=!0,a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),47===e){if(!i){n=a;break}}else i=!1;return-1===n?r?"/":".":r&&1===n?"/":t.slice(0,n)},e.basename=function(t,e){var r=n(t);return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},e.extname=function(t){"string"!==typeof t&&(t+="");for(var e=-1,r=0,n=-1,i=!0,a=0,s=t.length-1;s>=0;--s){var o=t.charCodeAt(s);if(47!==o)-1===n&&(i=!1,n=s+1),46===o?-1===e?e=s:1!==a&&(a=1):-1!==e&&(a=-1);else if(!i){r=s+1;break}}return-1===e||-1===n||0===a||1===a&&e===n-1&&e===r+1?"":t.slice(e,n)};var a="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}}).call(this,r("4362"))},e099:function(t,e,r){"use strict";var n=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,r,o){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"===typeof t?a(s(t),(function(s){var o=encodeURIComponent(n(s))+r;return i(t[s])?a(t[s],(function(t){return o+encodeURIComponent(n(t))})).join(e):o+encodeURIComponent(n(t[s]))})).join(e):o?encodeURIComponent(n(o))+r+encodeURIComponent(n(t)):""};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function a(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var s=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},e2ae:function(t,e,r){var n,i;(function(a,s,o){t.exports?t.exports=o():(n=o,i="function"===typeof n?n.call(e,r,e,t):n,void 0===i||(t.exports=i))})(0,0,(function(){var t={defaultRadius:40,defaultRenderer:"canvas2d",defaultGradient:{.25:"rgb(0,0,255)",.55:"rgb(0,255,0)",.85:"yellow",1:"rgb(255,0,0)"},defaultMaxOpacity:1,defaultMinOpacity:0,defaultBlur:.85,defaultXField:"x",defaultYField:"y",defaultValueField:"value",plugins:{}},e=function(){var e=function(t){this._coordinator={},this._data=[],this._radi=[],this._min=10,this._max=1,this._xField=t["xField"]||t.defaultXField,this._yField=t["yField"]||t.defaultYField,this._valueField=t["valueField"]||t.defaultValueField,t["radius"]&&(this._cfgRadius=t["radius"])},r=t.defaultRadius;return e.prototype={_organiseData:function(t,e){var n=t[this._xField],i=t[this._yField],a=this._radi,s=this._data,o=this._max,h=this._min,u=t[this._valueField]||1,l=t.radius||this._cfgRadius||r;s[n]||(s[n]=[],a[n]=[]),s[n][i]?s[n][i]+=u:(s[n][i]=u,a[n][i]=l);var c=s[n][i];return c>o?(e?this.setDataMax(c):this._max=c,!1):c<h?(e?this.setDataMin(c):this._min=c,!1):{x:n,y:i,value:u,radius:l,min:h,max:o}},_unOrganizeData:function(){var t=[],e=this._data,r=this._radi;for(var n in e)for(var i in e[n])t.push({x:n,y:i,radius:r[n][i],value:e[n][i]});return{min:this._min,max:this._max,data:t}},_onExtremaChange:function(){this._coordinator.emit("extremachange",{min:this._min,max:this._max})},addData:function(){if(arguments[0].length>0){var t=arguments[0],e=t.length;while(e--)this.addData.call(this,t[e])}else{var r=this._organiseData(arguments[0],!0);r&&(0===this._data.length&&(this._min=this._max=r.value),this._coordinator.emit("renderpartial",{min:this._min,max:this._max,data:[r]}))}return this},setData:function(t){var e=t.data,r=e.length;this._data=[],this._radi=[];for(var n=0;n<r;n++)this._organiseData(e[n],!1);return this._max=t.max,this._min=t.min||0,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},removeData:function(){},setDataMax:function(t){return this._max=t,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},setDataMin:function(t){return this._min=t,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},setCoordinator:function(t){this._coordinator=t},_getInternalData:function(){return{max:this._max,min:this._min,data:this._data,radi:this._radi}},getData:function(){return this._unOrganizeData()}},e}(),r=function(){var t=function(t){var e=t.gradient||t.defaultGradient,r=document.createElement("canvas"),n=r.getContext("2d");r.width=256,r.height=1;var i=n.createLinearGradient(0,0,256,1);for(var a in e)i.addColorStop(a,e[a]);return n.fillStyle=i,n.fillRect(0,0,256,1),n.getImageData(0,0,256,1).data},e=function(t,e){var r=document.createElement("canvas"),n=r.getContext("2d"),i=t,a=t;if(r.width=r.height=2*t,1==e)n.beginPath(),n.arc(i,a,t,0,2*Math.PI,!1),n.fillStyle="rgba(0,0,0,1)",n.fill();else{var s=n.createRadialGradient(i,a,t*e,i,a,t);s.addColorStop(0,"rgba(0,0,0,1)"),s.addColorStop(1,"rgba(0,0,0,0)"),n.fillStyle=s,n.fillRect(0,0,2*t,2*t)}return r},r=function(t){var e=[],r=t.min,n=t.max,i=t.radi,a=(t=t.data,Object.keys(t)),s=a.length;while(s--){var o=a[s],h=Object.keys(t[o]),u=h.length;while(u--){var l=h[u],c=t[o][l],f=i[o][l];e.push({x:o,y:l,value:c,radius:f})}}return{min:r,max:n,data:e}};function n(e){var r=e.container,n=this.shadowCanvas=document.createElement("canvas"),i=this.canvas=e.canvas||document.createElement("canvas"),a=(this._renderBoundaries=[1e4,1e4,0,0],getComputedStyle(e.container)||{});i.className="heatmap-canvas",this._width=i.width=n.width=e.width||+a.width.replace(/px/,""),this._height=i.height=n.height=e.height||+a.height.replace(/px/,""),this.shadowCtx=n.getContext("2d"),this.ctx=i.getContext("2d"),i.style.cssText=n.style.cssText="position:absolute;left:0;top:0;",r.style.position="relative",r.appendChild(i),this._palette=t(e),this._templates={},this._setStyles(e)}return n.prototype={renderPartial:function(t){t.data.length>0&&(this._drawAlpha(t),this._colorize())},renderAll:function(t){this._clear(),t.data.length>0&&(this._drawAlpha(r(t)),this._colorize())},_updateGradient:function(e){this._palette=t(e)},updateConfig:function(t){t["gradient"]&&this._updateGradient(t),this._setStyles(t)},setDimensions:function(t,e){this._width=t,this._height=e,this.canvas.width=this.shadowCanvas.width=t,this.canvas.height=this.shadowCanvas.height=e},_clear:function(){this.shadowCtx.clearRect(0,0,this._width,this._height),this.ctx.clearRect(0,0,this._width,this._height)},_setStyles:function(t){this._blur=0==t.blur?0:t.blur||t.defaultBlur,t.backgroundColor&&(this.canvas.style.backgroundColor=t.backgroundColor),this._width=this.canvas.width=this.shadowCanvas.width=t.width||this._width,this._height=this.canvas.height=this.shadowCanvas.height=t.height||this._height,this._opacity=255*(t.opacity||0),this._maxOpacity=255*(t.maxOpacity||t.defaultMaxOpacity),this._minOpacity=255*(t.minOpacity||t.defaultMinOpacity),this._useGradientOpacity=!!t.useGradientOpacity},_drawAlpha:function(t){var r=this._min=t.min,n=this._max=t.max,i=(t=t.data||[],t.length),a=1-this._blur;while(i--){var s,o=t[i],h=o.x,u=o.y,l=o.radius,c=Math.min(o.value,n),f=h-l,d=u-l,p=this.shadowCtx;this._templates[l]?s=this._templates[l]:this._templates[l]=s=e(l,a);var m=(c-r)/(n-r);p.globalAlpha=m<.01?.01:m,p.drawImage(s,f,d),f<this._renderBoundaries[0]&&(this._renderBoundaries[0]=f),d<this._renderBoundaries[1]&&(this._renderBoundaries[1]=d),f+2*l>this._renderBoundaries[2]&&(this._renderBoundaries[2]=f+2*l),d+2*l>this._renderBoundaries[3]&&(this._renderBoundaries[3]=d+2*l)}},_colorize:function(){var t=this._renderBoundaries[0],e=this._renderBoundaries[1],r=this._renderBoundaries[2]-t,n=this._renderBoundaries[3]-e,i=this._width,a=this._height,s=this._opacity,o=this._maxOpacity,h=this._minOpacity,u=this._useGradientOpacity;t<0&&(t=0),e<0&&(e=0),t+r>i&&(r=i-t),e+n>a&&(n=a-e);for(var l=this.shadowCtx.getImageData(t,e,r,n),c=l.data,f=c.length,d=this._palette,p=3;p<f;p+=4){var m,g=c[p],v=4*g;if(v)m=s>0?s:g<o?g<h?h:g:o,c[p-3]=d[v],c[p-2]=d[v+1],c[p-1]=d[v+2],c[p]=u?d[v+3]:m}l.data=c,this.ctx.putImageData(l,t,e),this._renderBoundaries=[1e3,1e3,0,0]},getValueAt:function(t){var e,r=this.shadowCtx,n=r.getImageData(t.x,t.y,1,1),i=n.data[3],a=this._max,s=this._min;return e=Math.abs(a-s)*(i/255)>>0,e},getDataURL:function(){return this.canvas.toDataURL()}},n}(),n=function(){var e=!1;return"canvas2d"===t["defaultRenderer"]&&(e=r),e}(),i={merge:function(){for(var t={},e=arguments.length,r=0;r<e;r++){var n=arguments[r];for(var i in n)t[i]=n[i]}return t}},a=function(){var r=function(){function t(){this.cStore={}}return t.prototype={on:function(t,e,r){var n=this.cStore;n[t]||(n[t]=[]),n[t].push((function(t){return e.call(r,t)}))},emit:function(t,e){var r=this.cStore;if(r[t])for(var n=r[t].length,i=0;i<n;i++){var a=r[t][i];a(e)}}},t}(),a=function(t){var e=t._renderer,r=t._coordinator,n=t._store;r.on("renderpartial",e.renderPartial,e),r.on("renderall",e.renderAll,e),r.on("extremachange",(function(e){t._config.onExtremaChange&&t._config.onExtremaChange({min:e.min,max:e.max,gradient:t._config["gradient"]||t._config["defaultGradient"]})})),n.setCoordinator(r)};function s(){var s=this._config=i.merge(t,arguments[0]||{});if(this._coordinator=new r,s["plugin"]){var o=s["plugin"];if(!t.plugins[o])throw new Error("Plugin '"+o+"' not found. Maybe it was not registered.");var h=t.plugins[o];this._renderer=new h.renderer(s),this._store=new h.store(s)}else this._renderer=new n(s),this._store=new e(s);a(this)}return s.prototype={addData:function(){return this._store.addData.apply(this._store,arguments),this},removeData:function(){return this._store.removeData&&this._store.removeData.apply(this._store,arguments),this},setData:function(){return this._store.setData.apply(this._store,arguments),this},setDataMax:function(){return this._store.setDataMax.apply(this._store,arguments),this},setDataMin:function(){return this._store.setDataMin.apply(this._store,arguments),this},configure:function(t){return this._config=i.merge(this._config,t),this._renderer.updateConfig(this._config),this._coordinator.emit("renderall",this._store._getInternalData()),this},repaint:function(){return this._coordinator.emit("renderall",this._store._getInternalData()),this},getData:function(){return this._store.getData()},getDataURL:function(){return this._renderer.getDataURL()},getValueAt:function(t){return this._store.getValueAt?this._store.getValueAt(t):this._renderer.getValueAt?this._renderer.getValueAt(t):null}},s}(),s={create:function(t){return new a(t)},register:function(e,r){t.plugins[e]=r}};return s}))}}]);