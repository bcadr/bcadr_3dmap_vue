(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Cesium~9d9b77a3"],{"0fc7":function(t,i,e){"use strict";var a=e("e62c"),o=e("535a"),s=e("2f63"),n=e("21d7"),r=e("5ed2"),d=e("108c");function c(){this._definitionChanged=new n["a"],this._startTime=void 0,this._stopTime=void 0,this._currentTime=void 0,this._clockRange=void 0,this._clockStep=void 0,this._multiplier=void 0}Object.defineProperties(c.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},startTime:Object(d["a"])("startTime"),stopTime:Object(d["a"])("stopTime"),currentTime:Object(d["a"])("currentTime"),clockRange:Object(d["a"])("clockRange"),clockStep:Object(d["a"])("clockStep"),multiplier:Object(d["a"])("multiplier")}),c.prototype.clone=function(t){return Object(s["a"])(t)||(t=new c),t.startTime=this.startTime,t.stopTime=this.stopTime,t.currentTime=this.currentTime,t.clockRange=this.clockRange,t.clockStep=this.clockStep,t.multiplier=this.multiplier,t},c.prototype.equals=function(t){return this===t||Object(s["a"])(t)&&r["a"].equals(this.startTime,t.startTime)&&r["a"].equals(this.stopTime,t.stopTime)&&r["a"].equals(this.currentTime,t.currentTime)&&this.clockRange===t.clockRange&&this.clockStep===t.clockStep&&this.multiplier===t.multiplier},c.prototype.merge=function(t){this.startTime=Object(o["a"])(this.startTime,t.startTime),this.stopTime=Object(o["a"])(this.stopTime,t.stopTime),this.currentTime=Object(o["a"])(this.currentTime,t.currentTime),this.clockRange=Object(o["a"])(this.clockRange,t.clockRange),this.clockStep=Object(o["a"])(this.clockStep,t.clockStep),this.multiplier=Object(o["a"])(this.multiplier,t.multiplier)},c.prototype.getValue=function(t){return Object(s["a"])(t)||(t=new a["a"]),t.startTime=Object(o["a"])(this.startTime,t.startTime),t.stopTime=Object(o["a"])(this.stopTime,t.stopTime),t.currentTime=Object(o["a"])(this.currentTime,t.currentTime),t.clockRange=Object(o["a"])(this.clockRange,t.clockRange),t.multiplier=Object(o["a"])(this.multiplier,t.multiplier),t.clockStep=Object(o["a"])(this.clockStep,t.clockStep),t},i["a"]=c},"474a":function(t,i,e){"use strict";var a=e("535a"),o=e("2f63"),s=e("21d7"),n=e("dde7"),r=e("0a43");function d(t){this._definitionChanged=new s["a"],this._show=void 0,this._showSubscription=void 0,this._semiMajorAxis=void 0,this._semiMajorAxisSubscription=void 0,this._semiMinorAxis=void 0,this._semiMinorAxisSubscription=void 0,this._height=void 0,this._heightSubscription=void 0,this._heightReference=void 0,this._heightReferenceSubscription=void 0,this._extrudedHeight=void 0,this._extrudedHeightSubscription=void 0,this._extrudedHeightReference=void 0,this._extrudedHeightReferenceSubscription=void 0,this._rotation=void 0,this._rotationSubscription=void 0,this._stRotation=void 0,this._stRotationSubscription=void 0,this._granularity=void 0,this._granularitySubscription=void 0,this._fill=void 0,this._fillSubscription=void 0,this._material=void 0,this._materialSubscription=void 0,this._outline=void 0,this._outlineSubscription=void 0,this._outlineColor=void 0,this._outlineColorSubscription=void 0,this._outlineWidth=void 0,this._outlineWidthSubscription=void 0,this._numberOfVerticalLines=void 0,this._numberOfVerticalLinesSubscription=void 0,this._shadows=void 0,this._shadowsSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubscription=void 0,this._classificationType=void 0,this._classificationTypeSubscription=void 0,this._zIndex=void 0,this._zIndexSubscription=void 0,this.merge(Object(a["a"])(t,a["a"].EMPTY_OBJECT))}Object.defineProperties(d.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},show:Object(r["a"])("show"),semiMajorAxis:Object(r["a"])("semiMajorAxis"),semiMinorAxis:Object(r["a"])("semiMinorAxis"),height:Object(r["a"])("height"),heightReference:Object(r["a"])("heightReference"),extrudedHeight:Object(r["a"])("extrudedHeight"),extrudedHeightReference:Object(r["a"])("extrudedHeightReference"),rotation:Object(r["a"])("rotation"),stRotation:Object(r["a"])("stRotation"),granularity:Object(r["a"])("granularity"),fill:Object(r["a"])("fill"),material:Object(n["a"])("material"),outline:Object(r["a"])("outline"),outlineColor:Object(r["a"])("outlineColor"),outlineWidth:Object(r["a"])("outlineWidth"),numberOfVerticalLines:Object(r["a"])("numberOfVerticalLines"),shadows:Object(r["a"])("shadows"),distanceDisplayCondition:Object(r["a"])("distanceDisplayCondition"),classificationType:Object(r["a"])("classificationType"),zIndex:Object(r["a"])("zIndex")}),d.prototype.clone=function(t){return Object(o["a"])(t)?(t.show=this.show,t.semiMajorAxis=this.semiMajorAxis,t.semiMinorAxis=this.semiMinorAxis,t.height=this.height,t.heightReference=this.heightReference,t.extrudedHeight=this.extrudedHeight,t.extrudedHeightReference=this.extrudedHeightReference,t.rotation=this.rotation,t.stRotation=this.stRotation,t.granularity=this.granularity,t.fill=this.fill,t.material=this.material,t.outline=this.outline,t.outlineColor=this.outlineColor,t.outlineWidth=this.outlineWidth,t.numberOfVerticalLines=this.numberOfVerticalLines,t.shadows=this.shadows,t.distanceDisplayCondition=this.distanceDisplayCondition,t.classificationType=this.classificationType,t.zIndex=this.zIndex,t):new d(this)},d.prototype.merge=function(t){this.show=Object(a["a"])(this.show,t.show),this.semiMajorAxis=Object(a["a"])(this.semiMajorAxis,t.semiMajorAxis),this.semiMinorAxis=Object(a["a"])(this.semiMinorAxis,t.semiMinorAxis),this.height=Object(a["a"])(this.height,t.height),this.heightReference=Object(a["a"])(this.heightReference,t.heightReference),this.extrudedHeight=Object(a["a"])(this.extrudedHeight,t.extrudedHeight),this.extrudedHeightReference=Object(a["a"])(this.extrudedHeightReference,t.extrudedHeightReference),this.rotation=Object(a["a"])(this.rotation,t.rotation),this.stRotation=Object(a["a"])(this.stRotation,t.stRotation),this.granularity=Object(a["a"])(this.granularity,t.granularity),this.fill=Object(a["a"])(this.fill,t.fill),this.material=Object(a["a"])(this.material,t.material),this.outline=Object(a["a"])(this.outline,t.outline),this.outlineColor=Object(a["a"])(this.outlineColor,t.outlineColor),this.outlineWidth=Object(a["a"])(this.outlineWidth,t.outlineWidth),this.numberOfVerticalLines=Object(a["a"])(this.numberOfVerticalLines,t.numberOfVerticalLines),this.shadows=Object(a["a"])(this.shadows,t.shadows),this.distanceDisplayCondition=Object(a["a"])(this.distanceDisplayCondition,t.distanceDisplayCondition),this.classificationType=Object(a["a"])(this.classificationType,t.classificationType),this.zIndex=Object(a["a"])(this.zIndex,t.zIndex)},i["a"]=d},"4df0":function(t,i,e){"use strict";var a=e("dd06"),o=e("be18"),s=e("bd8d"),n=e("9541"),r=e("2f63"),d=e("77bc"),c=e("a6ac"),h=e("1ac2"),l=e("d9403"),u=e("452d"),m=e("c2eb"),p=e("eace"),_=e("ac9c"),f=e("2d75"),v=e("d6db"),g=e("3a8e"),b=e("b83c"),y=e("9171"),O=e("3ba2"),C=e("c6e8"),j=e("ea07"),w=new s["a"],S=o["a"].ZERO,x=new o["a"],M=new p["a"];function P(t){this.id=t,this.vertexFormat=void 0,this.center=void 0,this.semiMajorAxis=void 0,this.semiMinorAxis=void 0,this.rotation=void 0,this.height=void 0,this.extrudedHeight=void 0,this.granularity=void 0,this.stRotation=void 0,this.numberOfVerticalLines=void 0,this.offsetAttribute=void 0}function V(t,i){C["a"].call(this,{entity:t,scene:i,geometryOptions:new P(t),geometryPropertyName:"ellipse",observedPropertyNames:["availability","position","ellipse"]}),this._onEntityPropertyChanged(t,"ellipse",t.ellipse,void 0)}function D(t,i,e){y["a"].call(this,t,i,e)}Object(r["a"])(Object.create)&&(V.prototype=Object.create(C["a"].prototype),V.prototype.constructor=V),V.prototype.createFillGeometryInstance=function(t){var i,e=this._entity,a=e.isAvailable(t),o={show:new _["a"](a&&e.isShowing&&this._showProperty.getValue(t)&&this._fillProperty.getValue(t)),distanceDisplayCondition:d["a"].fromDistanceDisplayCondition(this._distanceDisplayConditionProperty.getValue(t)),offset:void 0,color:void 0};this._materialProperty instanceof b["a"]&&(Object(r["a"])(this._materialProperty.color)&&(this._materialProperty.color.isConstant||a)&&(i=this._materialProperty.color.getValue(t,w)),Object(r["a"])(i)||(i=s["a"].WHITE),o.color=n["a"].fromColor(i));return Object(r["a"])(this._options.offsetAttribute)&&(o.offset=m["a"].fromCartesian3(j["a"].getValueOrDefault(this._terrainOffsetProperty,t,S,x))),new l["a"]({id:e,geometry:new c["a"](this._options),attributes:o})},V.prototype.createOutlineGeometryInstance=function(t){var i=this._entity,e=i.isAvailable(t),a=j["a"].getValueOrDefault(this._outlineColorProperty,t,s["a"].BLACK,w),o=this._distanceDisplayConditionProperty.getValue(t),c={show:new _["a"](e&&i.isShowing&&this._showProperty.getValue(t)&&this._showOutlineProperty.getValue(t)),color:n["a"].fromColor(a),distanceDisplayCondition:d["a"].fromDistanceDisplayCondition(o),offset:void 0};return Object(r["a"])(this._options.offsetAttribute)&&(c.offset=m["a"].fromCartesian3(j["a"].getValueOrDefault(this._terrainOffsetProperty,t,S,x))),new l["a"]({id:i,geometry:new h["a"](this._options),attributes:c})},V.prototype._computeCenter=function(t,i){return j["a"].getValueOrUndefined(this._entity.position,t,i)},V.prototype._isHidden=function(t,i){var e=t.position;return!Object(r["a"])(e)||!Object(r["a"])(i.semiMajorAxis)||!Object(r["a"])(i.semiMinorAxis)||O["a"].prototype._isHidden.call(this,t,i)},V.prototype._isDynamic=function(t,i){return!t.position.isConstant||!i.semiMajorAxis.isConstant||!i.semiMinorAxis.isConstant||!j["a"].isConstant(i.rotation)||!j["a"].isConstant(i.height)||!j["a"].isConstant(i.extrudedHeight)||!j["a"].isConstant(i.granularity)||!j["a"].isConstant(i.stRotation)||!j["a"].isConstant(i.outlineWidth)||!j["a"].isConstant(i.numberOfVerticalLines)||!j["a"].isConstant(i.zIndex)||this._onTerrain&&!j["a"].isConstant(this._materialProperty)&&!(this._materialProperty instanceof b["a"])},V.prototype._setStaticOptions=function(t,i){var e=j["a"].getValueOrUndefined(i.height,u["a"].MINIMUM_VALUE),o=j["a"].getValueOrDefault(i.heightReference,u["a"].MINIMUM_VALUE,f["a"].NONE),s=j["a"].getValueOrUndefined(i.extrudedHeight,u["a"].MINIMUM_VALUE),n=j["a"].getValueOrDefault(i.extrudedHeightReference,u["a"].MINIMUM_VALUE,f["a"].NONE);Object(r["a"])(s)&&!Object(r["a"])(e)&&(e=0);var d=this._options;d.vertexFormat=this._materialProperty instanceof b["a"]?g["a"].VERTEX_FORMAT:v["a"].MaterialSupport.TEXTURED.vertexFormat,d.center=t.position.getValue(u["a"].MINIMUM_VALUE,d.center),d.semiMajorAxis=i.semiMajorAxis.getValue(u["a"].MINIMUM_VALUE,d.semiMajorAxis),d.semiMinorAxis=i.semiMinorAxis.getValue(u["a"].MINIMUM_VALUE,d.semiMinorAxis),d.rotation=j["a"].getValueOrUndefined(i.rotation,u["a"].MINIMUM_VALUE),d.granularity=j["a"].getValueOrUndefined(i.granularity,u["a"].MINIMUM_VALUE),d.stRotation=j["a"].getValueOrUndefined(i.stRotation,u["a"].MINIMUM_VALUE),d.numberOfVerticalLines=j["a"].getValueOrUndefined(i.numberOfVerticalLines,u["a"].MINIMUM_VALUE),d.offsetAttribute=C["a"].computeGeometryOffsetAttribute(e,o,s,n),d.height=C["a"].getGeometryHeight(e,o),s=C["a"].getGeometryExtrudedHeight(s,n),s===C["a"].CLAMP_TO_GROUND&&(s=a["a"].getMinimumMaximumHeights(c["a"].computeRectangle(d,M)).minimumTerrainHeight),d.extrudedHeight=s},V.DynamicGeometryUpdater=D,Object(r["a"])(Object.create)&&(D.prototype=Object.create(y["a"].prototype),D.prototype.constructor=D),D.prototype._isHidden=function(t,i,e){var a=this._options;return!Object(r["a"])(a.center)||!Object(r["a"])(a.semiMajorAxis)||!Object(r["a"])(a.semiMinorAxis)||y["a"].prototype._isHidden.call(this,t,i,e)},D.prototype._setOptions=function(t,i,e){var o=this._options,s=j["a"].getValueOrUndefined(i.height,e),n=j["a"].getValueOrDefault(i.heightReference,e,f["a"].NONE),d=j["a"].getValueOrUndefined(i.extrudedHeight,e),h=j["a"].getValueOrDefault(i.extrudedHeightReference,e,f["a"].NONE);Object(r["a"])(d)&&!Object(r["a"])(s)&&(s=0),o.center=j["a"].getValueOrUndefined(t.position,e,o.center),o.semiMajorAxis=j["a"].getValueOrUndefined(i.semiMajorAxis,e),o.semiMinorAxis=j["a"].getValueOrUndefined(i.semiMinorAxis,e),o.rotation=j["a"].getValueOrUndefined(i.rotation,e),o.granularity=j["a"].getValueOrUndefined(i.granularity,e),o.stRotation=j["a"].getValueOrUndefined(i.stRotation,e),o.numberOfVerticalLines=j["a"].getValueOrUndefined(i.numberOfVerticalLines,e),o.offsetAttribute=C["a"].computeGeometryOffsetAttribute(s,n,d,h),o.height=C["a"].getGeometryHeight(s,n),d=C["a"].getGeometryExtrudedHeight(d,h),d===C["a"].CLAMP_TO_GROUND&&(d=a["a"].getMinimumMaximumHeights(c["a"].computeRectangle(o,M)).minimumTerrainHeight),o.extrudedHeight=d},i["a"]=V},"8be7":function(t,i,e){"use strict";var a=e("be18"),o=e("bd8d"),s=e("9541"),n=e("535a"),r=e("2f63"),d=e("aee6"),c=e("77bc"),h=e("6cae"),l=e("bcbd"),u=e("d9403"),m=e("0276"),p=e("452d"),_=e("52f0"),f=e("c2eb"),v=e("ac9c"),g=e("2d75"),b=e("d6db"),y=e("3a8e"),O=e("894b"),C=e("a307"),j=e("b83c"),w=e("9171"),S=e("3ba2"),x=e("6fa2"),M=e("40b2"),P=e("ea07"),V=new j["a"](o["a"].WHITE),D=a["a"].ZERO,A=new a["a"],R=new a["a"],U=new a["a"],E=new o["a"],I=new a["a"](1,1,1);function T(t){this.id=t,this.vertexFormat=void 0,this.radii=void 0,this.innerRadii=void 0,this.minimumClock=void 0,this.maximumClock=void 0,this.minimumCone=void 0,this.maximumCone=void 0,this.stackPartitions=void 0,this.slicePartitions=void 0,this.subdivisions=void 0,this.offsetAttribute=void 0}function k(t,i){S["a"].call(this,{entity:t,scene:i,geometryOptions:new T(t),geometryPropertyName:"ellipsoid",observedPropertyNames:["availability","position","orientation","ellipsoid"]}),this._onEntityPropertyChanged(t,"ellipsoid",t.ellipsoid,void 0)}function L(t,i,e){w["a"].call(this,t,i,e),this._scene=t._scene,this._modelMatrix=new _["a"],this._attributes=void 0,this._outlineAttributes=void 0,this._lastSceneMode=void 0,this._lastShow=void 0,this._lastOutlineShow=void 0,this._lastOutlineWidth=void 0,this._lastOutlineColor=void 0,this._lastOffset=new a["a"],this._material={}}Object(r["a"])(Object.create)&&(k.prototype=Object.create(S["a"].prototype),k.prototype.constructor=k),Object.defineProperties(k.prototype,{terrainOffsetProperty:{get:function(){return this._terrainOffsetProperty}}}),k.prototype.createFillGeometryInstance=function(t,i,e){var a,n,d=this._entity,l=d.isAvailable(t),m=new v["a"](l&&d.isShowing&&this._showProperty.getValue(t)&&this._fillProperty.getValue(t)),p=this._distanceDisplayConditionProperty.getValue(t),_=c["a"].fromDistanceDisplayCondition(p),g={show:m,distanceDisplayCondition:_,color:void 0,offset:void 0};this._materialProperty instanceof j["a"]&&(Object(r["a"])(this._materialProperty.color)&&(this._materialProperty.color.isConstant||l)&&(n=this._materialProperty.color.getValue(t,E)),Object(r["a"])(n)||(n=o["a"].WHITE),a=s["a"].fromColor(n),g.color=a);return Object(r["a"])(this._options.offsetAttribute)&&(g.offset=f["a"].fromCartesian3(P["a"].getValueOrDefault(this._terrainOffsetProperty,t,D,A))),new u["a"]({id:d,geometry:new h["a"](this._options),modelMatrix:i?void 0:d.computeModelMatrixForHeightReference(t,d.ellipsoid.heightReference,.5*this._options.radii.z,this._scene.mapProjection.ellipsoid,e),attributes:g})},k.prototype.createOutlineGeometryInstance=function(t,i,e){var a=this._entity,n=a.isAvailable(t),d=P["a"].getValueOrDefault(this._outlineColorProperty,t,o["a"].BLACK,E),h=this._distanceDisplayConditionProperty.getValue(t),m={show:new v["a"](n&&a.isShowing&&this._showProperty.getValue(t)&&this._showOutlineProperty.getValue(t)),color:s["a"].fromColor(d),distanceDisplayCondition:c["a"].fromDistanceDisplayCondition(h),offset:void 0};return Object(r["a"])(this._options.offsetAttribute)&&(m.offset=f["a"].fromCartesian3(P["a"].getValueOrDefault(this._terrainOffsetProperty,t,D,A))),new u["a"]({id:a,geometry:new l["a"](this._options),modelMatrix:i?void 0:a.computeModelMatrixForHeightReference(t,a.ellipsoid.heightReference,.5*this._options.radii.z,this._scene.mapProjection.ellipsoid,e),attributes:m})},k.prototype._computeCenter=function(t,i){return P["a"].getValueOrUndefined(this._entity.position,t,i)},k.prototype._isHidden=function(t,i){return!Object(r["a"])(t.position)||!Object(r["a"])(i.radii)||S["a"].prototype._isHidden.call(this,t,i)},k.prototype._isDynamic=function(t,i){return!t.position.isConstant||!P["a"].isConstant(t.orientation)||!i.radii.isConstant||!P["a"].isConstant(i.innerRadii)||!P["a"].isConstant(i.stackPartitions)||!P["a"].isConstant(i.slicePartitions)||!P["a"].isConstant(i.outlineWidth)||!P["a"].isConstant(i.minimumClock)||!P["a"].isConstant(i.maximumClock)||!P["a"].isConstant(i.minimumCone)||!P["a"].isConstant(i.maximumCone)||!P["a"].isConstant(i.subdivisions)},k.prototype._setStaticOptions=function(t,i){var e=P["a"].getValueOrDefault(i.heightReference,p["a"].MINIMUM_VALUE,g["a"].NONE),a=this._options;a.vertexFormat=this._materialProperty instanceof j["a"]?y["a"].VERTEX_FORMAT:b["a"].MaterialSupport.TEXTURED.vertexFormat,a.radii=i.radii.getValue(p["a"].MINIMUM_VALUE,a.radii),a.innerRadii=P["a"].getValueOrUndefined(i.innerRadii,a.radii),a.minimumClock=P["a"].getValueOrUndefined(i.minimumClock,p["a"].MINIMUM_VALUE),a.maximumClock=P["a"].getValueOrUndefined(i.maximumClock,p["a"].MINIMUM_VALUE),a.minimumCone=P["a"].getValueOrUndefined(i.minimumCone,p["a"].MINIMUM_VALUE),a.maximumCone=P["a"].getValueOrUndefined(i.maximumCone,p["a"].MINIMUM_VALUE),a.stackPartitions=P["a"].getValueOrUndefined(i.stackPartitions,p["a"].MINIMUM_VALUE),a.slicePartitions=P["a"].getValueOrUndefined(i.slicePartitions,p["a"].MINIMUM_VALUE),a.subdivisions=P["a"].getValueOrUndefined(i.subdivisions,p["a"].MINIMUM_VALUE),a.offsetAttribute=e!==g["a"].NONE?m["a"].ALL:void 0},k.prototype._onEntityPropertyChanged=x["a"],k.DynamicGeometryUpdater=L,Object(r["a"])(Object.create)&&(L.prototype=Object.create(w["a"].prototype),L.prototype.constructor=L),L.prototype.update=function(t){var i=this._entity,e=i.ellipsoid;if(!i.isShowing||!i.isAvailable(t)||!P["a"].getValueOrDefault(e.show,t,!0))return Object(r["a"])(this._primitive)&&(this._primitive.show=!1),void(Object(r["a"])(this._outlinePrimitive)&&(this._outlinePrimitive.show=!1));var h=P["a"].getValueOrUndefined(e.radii,t,R),l=Object(r["a"])(h)?i.computeModelMatrixForHeightReference(t,e.heightReference,.5*h.z,this._scene.mapProjection.ellipsoid,this._modelMatrix):void 0;if(!Object(r["a"])(l)||!Object(r["a"])(h))return Object(r["a"])(this._primitive)&&(this._primitive.show=!1),void(Object(r["a"])(this._outlinePrimitive)&&(this._outlinePrimitive.show=!1));var u=P["a"].getValueOrDefault(e.fill,t,!0),p=P["a"].getValueOrDefault(e.outline,t,!1),j=P["a"].getValueOrClonedDefault(e.outlineColor,t,o["a"].BLACK,E),w=M["a"].getValue(t,Object(n["a"])(e.material,V),this._material),S=P["a"].getValueOrUndefined(e.innerRadii,t,U),x=P["a"].getValueOrUndefined(e.minimumClock,t),T=P["a"].getValueOrUndefined(e.maximumClock,t),k=P["a"].getValueOrUndefined(e.minimumCone,t),L=P["a"].getValueOrUndefined(e.maximumCone,t),N=P["a"].getValueOrUndefined(e.stackPartitions,t),H=P["a"].getValueOrUndefined(e.slicePartitions,t),z=P["a"].getValueOrUndefined(e.subdivisions,t),G=P["a"].getValueOrDefault(e.outlineWidth,t,1),W=P["a"].getValueOrDefault(e.heightReference,t,g["a"].NONE),F=W!==g["a"].NONE?m["a"].ALL:void 0,B=this._scene.mode,q=B===C["a"].SCENE3D&&W===g["a"].NONE,X=this._options,J=this._geometryUpdater.shadowsProperty.getValue(t),K=this._geometryUpdater.distanceDisplayConditionProperty,Y=K.getValue(t),Z=P["a"].getValueOrDefault(this._geometryUpdater.terrainOffsetProperty,t,D,A),Q=!q||this._lastSceneMode!==B||!Object(r["a"])(this._primitive)||X.stackPartitions!==N||X.slicePartitions!==H||Object(r["a"])(S)&&!a["a"].equals(X.innerRadii!==S)||X.minimumClock!==x||X.maximumClock!==T||X.minimumCone!==k||X.maximumCone!==L||X.subdivisions!==z||this._lastOutlineWidth!==G||X.offsetAttribute!==F;if(Q){var $=this._primitives;if($.removeAndDestroy(this._primitive),$.removeAndDestroy(this._outlinePrimitive),this._primitive=void 0,this._outlinePrimitive=void 0,this._lastSceneMode=B,this._lastOutlineWidth=G,X.stackPartitions=N,X.slicePartitions=H,X.subdivisions=z,X.offsetAttribute=F,X.radii=a["a"].clone(q?I:h,X.radii),Object(r["a"])(S))if(q){var tt=a["a"].magnitude(h);X.innerRadii=a["a"].fromElements(S.x/tt,S.y/tt,S.z/tt,X.innerRadii)}else X.innerRadii=a["a"].clone(S,X.innerRadii);else X.innerRadii=void 0;X.minimumClock=x,X.maximumClock=T,X.minimumCone=k,X.maximumCone=L;var it=new b["a"]({material:w,translucent:w.isTranslucent(),closed:!0});X.vertexFormat=it.vertexFormat;var et=this._geometryUpdater.createFillGeometryInstance(t,q,this._modelMatrix);this._primitive=$.add(new O["a"]({geometryInstances:et,appearance:it,asynchronous:!1,shadows:J}));var at=this._geometryUpdater.createOutlineGeometryInstance(t,q,this._modelMatrix);this._outlinePrimitive=$.add(new O["a"]({geometryInstances:at,appearance:new y["a"]({flat:!0,translucent:255!==at.attributes.color.value[3],renderState:{lineWidth:this._geometryUpdater._scene.clampLineWidth(G)}}),asynchronous:!1,shadows:J})),this._lastShow=u,this._lastOutlineShow=p,this._lastOutlineColor=o["a"].clone(j,this._lastOutlineColor),this._lastDistanceDisplayCondition=Y,this._lastOffset=a["a"].clone(Z,this._lastOffset)}else if(this._primitive.ready){var ot=this._primitive,st=this._outlinePrimitive;ot.show=!0,st.show=!0,ot.appearance.material=w;var nt=this._attributes;Object(r["a"])(nt)||(nt=ot.getGeometryInstanceAttributes(i),this._attributes=nt),u!==this._lastShow&&(nt.show=v["a"].toValue(u,nt.show),this._lastShow=u);var rt=this._outlineAttributes;Object(r["a"])(rt)||(rt=st.getGeometryInstanceAttributes(i),this._outlineAttributes=rt),p!==this._lastOutlineShow&&(rt.show=v["a"].toValue(p,rt.show),this._lastOutlineShow=p),o["a"].equals(j,this._lastOutlineColor)||(rt.color=s["a"].toValue(j,rt.color),o["a"].clone(j,this._lastOutlineColor)),d["a"].equals(Y,this._lastDistanceDisplayCondition)||(nt.distanceDisplayCondition=c["a"].toValue(Y,nt.distanceDisplayCondition),rt.distanceDisplayCondition=c["a"].toValue(Y,rt.distanceDisplayCondition),d["a"].clone(Y,this._lastDistanceDisplayCondition)),a["a"].equals(Z,this._lastOffset)||(nt.offset=f["a"].toValue(Z,nt.offset),rt.offset=f["a"].toValue(Z,nt.offset),a["a"].clone(Z,this._lastOffset))}q&&(h.x=Math.max(h.x,.001),h.y=Math.max(h.y,.001),h.z=Math.max(h.z,.001),l=_["a"].multiplyByScale(l,h,l),this._primitive.modelMatrix=l,this._outlinePrimitive.modelMatrix=l)},i["a"]=k},9023:function(t,i,e){"use strict";var a=e("4f04");function o(){a["a"].throwInstantiationError()}Object.defineProperties(o.prototype,{name:{get:a["a"].throwInstantiationError},clock:{get:a["a"].throwInstantiationError},entities:{get:a["a"].throwInstantiationError},isLoading:{get:a["a"].throwInstantiationError},changedEvent:{get:a["a"].throwInstantiationError},errorEvent:{get:a["a"].throwInstantiationError},loadingEvent:{get:a["a"].throwInstantiationError},show:{get:a["a"].throwInstantiationError},clustering:{get:a["a"].throwInstantiationError}}),o.prototype.update=function(t){a["a"].throwInstantiationError()},o.setLoading=function(t,i){t._isLoading!==i&&(i?t._entityCollection.suspendEvents():t._entityCollection.resumeEvents(),t._isLoading=i,t._loading.raiseEvent(t,i))},i["a"]=o},9171:function(t,i,e){"use strict";var a=e("cef5"),o=e("2f63"),s=e("7d62"),n=e("4f04"),r=e("acad"),d=e("d6db"),c=e("3a8e"),h=e("894b"),l=e("2d19"),u=e("b83c"),m=e("40b2"),p=e("ea07");function _(t,i,e){this._primitives=i,this._orderedGroundPrimitives=e,this._primitive=void 0,this._outlinePrimitive=void 0,this._geometryUpdater=t,this._options=t._options,this._entity=t._entity,this._material=void 0}_.prototype._isHidden=function(t,i,e){return!t.isShowing||!t.isAvailable(e)||!p["a"].getValueOrDefault(i.show,e,!0)},_.prototype._setOptions=n["a"].throwInstantiationError,_.prototype.update=function(t){var i=this._geometryUpdater,e=i._onTerrain,a=this._primitives,s=this._orderedGroundPrimitives;e?s.remove(this._primitive):(a.removeAndDestroy(this._primitive),a.removeAndDestroy(this._outlinePrimitive),this._outlinePrimitive=void 0),this._primitive=void 0;var n=this._entity,l=n[this._geometryUpdater._geometryPropertyName];if(this._setOptions(n,l,t),!this._isHidden(n,l,t)){var _=this._geometryUpdater.shadowsProperty.getValue(t),f=this._options;if(!Object(o["a"])(l.fill)||l.fill.getValue(t)){var v,g=i.fillMaterialProperty,b=g instanceof u["a"],y=i._getIsClosed(f);if(b)v=new c["a"]({closed:y,flat:e&&!i._supportsMaterialsforEntitiesOnTerrain});else{var O=m["a"].getValue(t,g,this._material);this._material=O,v=new d["a"]({material:O,translucent:O.isTranslucent(),closed:y})}if(e)f.vertexFormat=c["a"].VERTEX_FORMAT,this._primitive=s.add(new r["a"]({geometryInstances:this._geometryUpdater.createFillGeometryInstance(t),appearance:v,asynchronous:!1,shadows:_,classificationType:this._geometryUpdater.classificationTypeProperty.getValue(t)}),p["a"].getValueOrUndefined(this._geometryUpdater.zIndex,t));else{f.vertexFormat=v.vertexFormat;var C=this._geometryUpdater.createFillGeometryInstance(t);b&&(v.translucent=255!==C.attributes.color.value[3]),this._primitive=a.add(new h["a"]({geometryInstances:C,appearance:v,asynchronous:!1,shadows:_}))}}if(!e&&Object(o["a"])(l.outline)&&l.outline.getValue(t)){var j=this._geometryUpdater.createOutlineGeometryInstance(t),w=p["a"].getValueOrDefault(l.outlineWidth,t,1);this._outlinePrimitive=a.add(new h["a"]({geometryInstances:j,appearance:new c["a"]({flat:!0,translucent:255!==j.attributes.color.value[3],renderState:{lineWidth:i._scene.clampLineWidth(w)}}),asynchronous:!1,shadows:_}))}}},_.prototype.getBoundingSphere=function(t){var i,e=this._entity,s=this._primitive,n=this._outlinePrimitive;return Object(o["a"])(s)&&s.show&&s.ready&&(i=s.getGeometryInstanceAttributes(e),Object(o["a"])(i)&&Object(o["a"])(i.boundingSphere))||Object(o["a"])(n)&&n.show&&n.ready&&(i=n.getGeometryInstanceAttributes(e),Object(o["a"])(i)&&Object(o["a"])(i.boundingSphere))?(a["a"].clone(i.boundingSphere,t),l["a"].DONE):Object(o["a"])(s)&&!s.ready||Object(o["a"])(n)&&!n.ready?l["a"].PENDING:l["a"].FAILED},_.prototype.isDestroyed=function(){return!1},_.prototype.destroy=function(){var t=this._primitives,i=this._orderedGroundPrimitives;this._geometryUpdater._onTerrain?i.remove(this._primitive):t.removeAndDestroy(this._primitive),t.removeAndDestroy(this._outlinePrimitive),Object(s["a"])(this)},i["a"]=_},b3a7:function(t,i,e){"use strict";var a=e("535a"),o=e("7d62"),s=e("21d7"),n=e("93da"),r=e("a58e");function d(){this._dataSources=[],this._dataSourceAdded=new s["a"],this._dataSourceRemoved=new s["a"],this._dataSourceMoved=new s["a"]}function c(t,i){var e=t.indexOf(i);return e}function h(t,i,e){var a=t._dataSources,o=a.length-1;if(i=n["a"].clamp(i,0,o),e=n["a"].clamp(e,0,o),i!==e){var s=a[i];a[i]=a[e],a[e]=s,t.dataSourceMoved.raiseEvent(s,e,i)}}Object.defineProperties(d.prototype,{length:{get:function(){return this._dataSources.length}},dataSourceAdded:{get:function(){return this._dataSourceAdded}},dataSourceRemoved:{get:function(){return this._dataSourceRemoved}},dataSourceMoved:{get:function(){return this._dataSourceMoved}}}),d.prototype.add=function(t){var i=this,e=this._dataSources;return Object(r["a"])(t,(function(t){return e===i._dataSources&&(i._dataSources.push(t),i._dataSourceAdded.raiseEvent(i,t)),t}))},d.prototype.remove=function(t,i){i=Object(a["a"])(i,!1);var e=this._dataSources.indexOf(t);return-1!==e&&(this._dataSources.splice(e,1),this._dataSourceRemoved.raiseEvent(this,t),i&&"function"===typeof t.destroy&&t.destroy(),!0)},d.prototype.removeAll=function(t){t=Object(a["a"])(t,!1);for(var i=this._dataSources,e=0,o=i.length;e<o;++e){var s=i[e];this._dataSourceRemoved.raiseEvent(this,s),t&&"function"===typeof s.destroy&&s.destroy()}this._dataSources=[]},d.prototype.contains=function(t){return-1!==this.indexOf(t)},d.prototype.indexOf=function(t){return this._dataSources.indexOf(t)},d.prototype.get=function(t){return this._dataSources[t]},d.prototype.getByName=function(t){return this._dataSources.filter((function(i){return i.name===t}))},d.prototype.raise=function(t){var i=c(this._dataSources,t);h(this,i,i+1)},d.prototype.lower=function(t){var i=c(this._dataSources,t);h(this,i,i-1)},d.prototype.raiseToTop=function(t){var i=c(this._dataSources,t);i!==this._dataSources.length-1&&(this._dataSources.splice(i,1),this._dataSources.push(t),this.dataSourceMoved.raiseEvent(t,this._dataSources.length-1,i))},d.prototype.lowerToBottom=function(t){var i=c(this._dataSources,t);0!==i&&(this._dataSources.splice(i,1),this._dataSources.splice(0,0,t),this.dataSourceMoved.raiseEvent(t,0,i))},d.prototype.isDestroyed=function(){return!1},d.prototype.destroy=function(){return this.removeAll(!0),Object(o["a"])(this)},i["a"]=d},bd0e:function(t,i,e){"use strict";var a=e("535a"),o=e("2f63"),s=e("21d7"),n=e("dde7"),r=e("0a43");function d(t){this._definitionChanged=new s["a"],this._show=void 0,this._showSubscription=void 0,this._radii=void 0,this._radiiSubscription=void 0,this._innerRadii=void 0,this._innerRadiiSubscription=void 0,this._minimumClock=void 0,this._minimumClockSubscription=void 0,this._maximumClock=void 0,this._maximumClockSubscription=void 0,this._minimumCone=void 0,this._minimumConeSubscription=void 0,this._maximumCone=void 0,this._maximumConeSubscription=void 0,this._heightReference=void 0,this._heightReferenceSubscription=void 0,this._fill=void 0,this._fillSubscription=void 0,this._material=void 0,this._materialSubscription=void 0,this._outline=void 0,this._outlineSubscription=void 0,this._outlineColor=void 0,this._outlineColorSubscription=void 0,this._outlineWidth=void 0,this._outlineWidthSubscription=void 0,this._stackPartitions=void 0,this._stackPartitionsSubscription=void 0,this._slicePartitions=void 0,this._slicePartitionsSubscription=void 0,this._subdivisions=void 0,this._subdivisionsSubscription=void 0,this._shadows=void 0,this._shadowsSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubscription=void 0,this.merge(Object(a["a"])(t,a["a"].EMPTY_OBJECT))}Object.defineProperties(d.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},show:Object(r["a"])("show"),radii:Object(r["a"])("radii"),innerRadii:Object(r["a"])("innerRadii"),minimumClock:Object(r["a"])("minimumClock"),maximumClock:Object(r["a"])("maximumClock"),minimumCone:Object(r["a"])("minimumCone"),maximumCone:Object(r["a"])("maximumCone"),heightReference:Object(r["a"])("heightReference"),fill:Object(r["a"])("fill"),material:Object(n["a"])("material"),outline:Object(r["a"])("outline"),outlineColor:Object(r["a"])("outlineColor"),outlineWidth:Object(r["a"])("outlineWidth"),stackPartitions:Object(r["a"])("stackPartitions"),slicePartitions:Object(r["a"])("slicePartitions"),subdivisions:Object(r["a"])("subdivisions"),shadows:Object(r["a"])("shadows"),distanceDisplayCondition:Object(r["a"])("distanceDisplayCondition")}),d.prototype.clone=function(t){return Object(o["a"])(t)?(t.show=this.show,t.radii=this.radii,t.innerRadii=this.innerRadii,t.minimumClock=this.minimumClock,t.maximumClock=this.maximumClock,t.minimumCone=this.minimumCone,t.maximumCone=this.maximumCone,t.heightReference=this.heightReference,t.fill=this.fill,t.material=this.material,t.outline=this.outline,t.outlineColor=this.outlineColor,t.outlineWidth=this.outlineWidth,t.stackPartitions=this.stackPartitions,t.slicePartitions=this.slicePartitions,t.subdivisions=this.subdivisions,t.shadows=this.shadows,t.distanceDisplayCondition=this.distanceDisplayCondition,t):new d(this)},d.prototype.merge=function(t){this.show=Object(a["a"])(this.show,t.show),this.radii=Object(a["a"])(this.radii,t.radii),this.innerRadii=Object(a["a"])(this.innerRadii,t.innerRadii),this.minimumClock=Object(a["a"])(this.minimumClock,t.minimumClock),this.maximumClock=Object(a["a"])(this.maximumClock,t.maximumClock),this.minimumCone=Object(a["a"])(this.minimumCone,t.minimumCone),this.maximumCone=Object(a["a"])(this.maximumCone,t.maximumCone),this.heightReference=Object(a["a"])(this.heightReference,t.heightReference),this.fill=Object(a["a"])(this.fill,t.fill),this.material=Object(a["a"])(this.material,t.material),this.outline=Object(a["a"])(this.outline,t.outline),this.outlineColor=Object(a["a"])(this.outlineColor,t.outlineColor),this.outlineWidth=Object(a["a"])(this.outlineWidth,t.outlineWidth),this.stackPartitions=Object(a["a"])(this.stackPartitions,t.stackPartitions),this.slicePartitions=Object(a["a"])(this.slicePartitions,t.slicePartitions),this.subdivisions=Object(a["a"])(this.subdivisions,t.subdivisions),this.shadows=Object(a["a"])(this.shadows,t.shadows),this.distanceDisplayCondition=Object(a["a"])(this.distanceDisplayCondition,t.distanceDisplayCondition)},i["a"]=d},cab1:function(t,i,e){"use strict";var a=e("933b"),o=e("2f63"),s=e("2d19");function n(t,i){this._primitives=t,this._orderedGroundPrimitives=i,this._dynamicUpdaters=new a["a"]}n.prototype.add=function(t,i){this._dynamicUpdaters.set(i.id,i.createDynamicUpdater(this._primitives,this._orderedGroundPrimitives))},n.prototype.remove=function(t){var i=t.id,e=this._dynamicUpdaters.get(i);Object(o["a"])(e)&&(this._dynamicUpdaters.remove(i),e.destroy())},n.prototype.update=function(t){for(var i=this._dynamicUpdaters.values,e=0,a=i.length;e<a;e++)i[e].update(t);return!0},n.prototype.removeAllPrimitives=function(){for(var t=this._dynamicUpdaters.values,i=0,e=t.length;i<e;i++)t[i].destroy();this._dynamicUpdaters.removeAll()},n.prototype.getBoundingSphere=function(t,i){return t=this._dynamicUpdaters.get(t.id),Object(o["a"])(t)&&Object(o["a"])(t.getBoundingSphere)?t.getBoundingSphere(i):s["a"].FAILED},i["a"]=n},e22d:function(t,i,e){"use strict";var a=e("dd06"),o=e("cef5"),s=e("535a"),n=e("2f63"),r=e("7d62"),d=e("eff8"),c=e("a0f5"),h=e("acad"),l=e("3d43"),u=e("738d"),m=e("448f"),p=e("2d19"),_=e("dde1"),f=e("70fd"),v=e("5174"),g=e("a10a"),b=e("6510"),y=e("091c"),O=e("b4c8"),C=e("203c");function j(t){h["a"].initializeTerrainHeights(),c["a"].initializeTerrainHeights();var i=t.scene,e=t.dataSourceCollection;this._eventHelper=new d["a"],this._eventHelper.add(e.dataSourceAdded,this._onDataSourceAdded,this),this._eventHelper.add(e.dataSourceRemoved,this._onDataSourceRemoved,this),this._eventHelper.add(e.dataSourceMoved,this._onDataSourceMoved,this),this._eventHelper.add(i.postRender,this._postRender,this),this._dataSourceCollection=e,this._scene=i,this._visualizersCallback=Object(s["a"])(t.visualizersCallback,j.defaultVisualizersCallback);var a=!1,o=new u["a"],n=new u["a"];e.length>0&&(i.primitives.add(o),i.groundPrimitives.add(n),a=!0),this._primitives=o,this._groundPrimitives=n;for(var r=0,l=e.length;r<l;r++)this._onDataSourceAdded(e,e.get(r));var m,p,f=new _["a"];if(this._onDataSourceAdded(void 0,f),this._defaultDataSource=f,!a){var v=this,g=function(){i.primitives.add(o),i.groundPrimitives.add(n),m(),p(),v._removeDefaultDataSourceListener=void 0,v._removeDataSourceCollectionListener=void 0};m=f.entities.collectionChanged.addEventListener(g),p=e.dataSourceAdded.addEventListener(g)}this._removeDefaultDataSourceListener=m,this._removeDataSourceCollectionListener=p,this._ready=!1}j.defaultVisualizersCallback=function(t,i,e){var a=e.entities;return[new m["a"](i,a),new f["a"](t,a,e._primitives,e._groundPrimitives),new v["a"](i,a),new g["a"](t,a),new b["a"](t,a),new O["a"](i,a),new y["a"](t,a),new C["a"](t,a,e._primitives,e._groundPrimitives)]},Object.defineProperties(j.prototype,{scene:{get:function(){return this._scene}},dataSources:{get:function(){return this._dataSourceCollection}},defaultDataSource:{get:function(){return this._defaultDataSource}},ready:{get:function(){return this._ready}}}),j.prototype.isDestroyed=function(){return!1},j.prototype.destroy=function(){this._eventHelper.removeAll();for(var t=this._dataSourceCollection,i=0,e=t.length;i<e;++i)this._onDataSourceRemoved(this._dataSourceCollection,t.get(i));return this._onDataSourceRemoved(void 0,this._defaultDataSource),Object(n["a"])(this._removeDefaultDataSourceListener)?(this._removeDefaultDataSourceListener(),this._removeDataSourceCollectionListener()):(this._scene.primitives.remove(this._primitives),this._scene.groundPrimitives.remove(this._groundPrimitives)),Object(r["a"])(this)},j.prototype.update=function(t){if(!a["a"].initialized)return this._ready=!1,!1;var i,e,o,s,r=!0,d=this._dataSourceCollection,c=d.length;for(i=0;i<c;i++){var h=d.get(i);for(Object(n["a"])(h.update)&&(r=h.update(t)&&r),o=h._visualizers,s=o.length,e=0;e<s;e++)r=o[e].update(t)&&r}for(o=this._defaultDataSource._visualizers,s=o.length,e=0;e<s;e++)r=o[e].update(t)&&r;return this._ready=r,r},j.prototype._postRender=function(){for(var t=this._scene.frameState,i=this._dataSourceCollection,e=i.length,a=0;a<e;a++){var o=i.get(a),s=o.credit;Object(n["a"])(s)&&t.creditDisplay.addCredit(s);var r=o._resourceCredits;if(Object(n["a"])(r))for(var d=r.length,c=0;c<d;c++)t.creditDisplay.addCredit(r[c])}};var w=[],S=new o["a"];j.prototype.getBoundingSphere=function(t,i,e){if(!this._ready)return p["a"].PENDING;var a,s,r=this._defaultDataSource;if(!r.entities.contains(t)){r=void 0;var d=this._dataSourceCollection;for(s=d.length,a=0;a<s;a++){var c=d.get(a);if(c.entities.contains(t)){r=c;break}}}if(!Object(n["a"])(r))return p["a"].FAILED;var h=w,l=S,u=0,m=p["a"].DONE,_=r._visualizers,f=_.length;for(a=0;a<f;a++){var v=_[a];if(Object(n["a"])(v.getBoundingSphere)){if(m=_[a].getBoundingSphere(t,l),!i&&m===p["a"].PENDING)return p["a"].PENDING;m===p["a"].DONE&&(h[u]=o["a"].clone(l,h[u]),u++)}}return 0===u?p["a"].FAILED:(h.length=u,o["a"].fromBoundingSpheres(h,e),p["a"].DONE)},j.prototype._onDataSourceAdded=function(t,i){var e=this._scene,a=this._primitives,o=this._groundPrimitives,s=a.add(new u["a"]),n=o.add(new l["a"]);i._primitives=s,i._groundPrimitives=n;var r=i.clustering;r._initialize(e),s.add(r),i._visualizers=this._visualizersCallback(e,r,i)},j.prototype._onDataSourceRemoved=function(t,i){var e=this._primitives,a=this._groundPrimitives,o=i._primitives,s=i._groundPrimitives,n=i.clustering;o.remove(n);for(var r=i._visualizers,d=r.length,c=0;c<d;c++)r[c].destroy();e.remove(o),a.remove(s),i._visualizers=void 0},j.prototype._onDataSourceMoved=function(t,i,e){var a=this._primitives,o=this._groundPrimitives,s=t._primitives,n=t._groundPrimitives;i===e+1?(a.raise(s),o.raise(n)):i===e-1?(a.lower(s),o.lower(n)):0===i?(a.lowerToBottom(s),o.lowerToBottom(n),a.raise(s),o.raise(n)):(a.raiseToTop(s),o.raiseToTop(n))},i["a"]=j}}]);